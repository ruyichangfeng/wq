function b64_hmac_sha1(t,e){return binb2b64(core_hmac_sha1(t,e))}function core_sha1(t,e){t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e;for(var i=Array(80),n=1732584193,o=-271733879,a=-1732584194,s=271733878,r=-1009589776,c=0;c<t.length;c+=16){for(var l=n,d=o,D=a,u=s,h=r,p=0;p<80;p++){i[p]=p<16?t[c+p]:rol(i[p-3]^i[p-8]^i[p-14]^i[p-16],1);var A=safe_add2(safe_add2(rol(n,5),sha1_ft(p,o,a,s)),safe_add2(safe_add2(r,i[p]),sha1_kt(p)));r=s,s=a,a=rol(o,30),o=n,n=A}n=safe_add2(n,l),o=safe_add2(o,d),a=safe_add2(a,D),s=safe_add2(s,u),r=safe_add2(r,h)}return Array(n,o,a,s,r)}function sha1_ft(t,e,i,n){return t<20?e&i|~e&n:t<40?e^i^n:t<60?e&i|e&n|i&n:e^i^n}function sha1_kt(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function core_hmac_sha1(t,e){var i=str2binb(t);i.length>16&&(i=core_sha1(i,t.length*chrsz2));for(var n=Array(16),o=Array(16),a=0;a<16;a++)n[a]=909522486^i[a],o[a]=1549556828^i[a];var s=core_sha1(n.concat(str2binb(e)),512+e.length*chrsz2);return core_sha1(o.concat(s),672)}function safe_add2(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function rol(t,e){return t<<e|t>>>32-e}function str2binb(t){for(var e=Array(),i=(1<<chrsz2)-1,n=0;n<t.length*chrsz2;n+=chrsz2)e[n>>5]|=(t.charCodeAt(n/chrsz2)&i)<<32-chrsz2-n%32;return e}function binb2b64(t){for(var e="",i=0;i<4*t.length;i+=3)for(var n=(t[i>>2]>>8*(3-i%4)&255)<<16|(t[i+1>>2]>>8*(3-(i+1)%4)&255)<<8|t[i+2>>2]>>8*(3-(i+2)%4)&255,o=0;o<4;o++)8*i+6*o>32*t.length?e+=b64pad2:e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>6*(3-o)&63);return e}function generateTimeStamp(){var t=new Date,e=t.getTime()+6e4*t.getTimezoneOffset();return new Date(e).ISODate()}function LZ(t){return(t<0||t>9?"":"0")+t}function add0(t){return t<10?"0"+t:t}function formatTime(t){var e=new Date(t),i=e.getFullYear(),n=e.getMonth()+1,o=e.getDate(),a=e.getHours(),s=e.getMinutes(),r=e.getSeconds();return i+"-"+add0(n)+"-"+add0(o)+" "+add0(a)+":"+add0(s)+":"+add0(r)}function URLEncode(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_.!~*'()",i="0123456789ABCDEF",n="",o=0;o<t.length;o++){var a=t.charAt(o);if(" "==a)n+="+";else if(-1!=e.indexOf(a))n+=a;else{var s=a.charCodeAt(0);s>255?(alert("Unicode Character '"+a+"' cannot be encoded using standard URL encoding.\n(URL encoding only supports 8-bit characters.)\nA space (+) will be substituted."),n+="+"):(n+="%",n+=i.charAt(s>>4&15),n+=i.charAt(15&s))}}return n}function URLDecode(t){for(var e="",i=0;i<t.length;){var n=t.charAt(i);"+"==n?(e+=" ",i++):"%"==n?i<t.length-2&&-1!="0123456789ABCDEFabcdef".indexOf(t.charAt(i+1))&&-1!="0123456789ABCDEFabcdef".indexOf(t.charAt(i+2))?(e+=unescape(t.substr(i,3)),i+=3):(alert("Bad escape combination near ..."+t.substr(i)),e+="%[ERROR]",i++):(e+=n,i++)}return e}function querySt(t){for(hu=window.location.search.substring(1),gy=hu.split("&"),i=0;i<gy.length;i++)if(ft=gy[i].split("="),ft[0]==t)return ft[1]}function getQueryString(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(e);return null!=i?unescape(i[2]):null}function dataURLtoBlob(t){for(var e=t.split(","),i=e[0].match(/:(.*?);/)[1],n=atob(e[1]),o=n.length,a=new Uint8Array(o);o--;)a[o]=n.charCodeAt(o);return new Blob([a],{type:i})}function readBlobAsDataURL(t,e){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.readAsDataURL(t)}function checkBrowser(){var t=navigator.userAgent.toLowerCase();return/msie/i.test(t)&&!/opera/.test(t)?(strBrowser="IE: "+t.match(/msie ([\d.]+)/)[1],!0):/firefox/i.test(t)?strBrowser="Firefox: "+t.match(/firefox\/([\d.]+)/)[1]:/chrome/i.test(t)&&/webkit/i.test(t)&&/mozilla/i.test(t)?strBrowser="Chrome":/opera/i.test(t)?strBrowser="Opera: "+t.match(/opera.([\d.]+)/)[1]:!/webkit/i.test(t)||/chrome/i.test(t)&&/webkit/i.test(t)&&/mozilla/i.test(t)?strBrowser="unKnow":strBrowser="Safari: ",strBrowser=strBrowser,strBrowser}function isAndroid(){var t=navigator.userAgent;return t.indexOf("Android")>-1||t.indexOf("Linux")>-1}function isiOS(){return!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)}function isWeixin(){return"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)}function isChrome(){return!!window.chrome}function refreshPage(){try{if(sessionStorage.getItem("isDataChange_B")){var t=sessionStorage.getItem("isDataChange_B");sessionStorage.setItem("isDataChange_B",++t)}}catch(t){}}function normalFilter(t){var e=t;return e=e.replace(/(\u0085)|(\u2028)|(\u2029)/g,""),e=e.replace(/\%/g,"%25"),e=e.replace(/\+/g,"%2B"),e=e.replace(/\#/g,"%23"),e=e.replace(/\//g,"%2F"),e=e.replace(/\?/g,"%3F"),e=e.replace(/\=/g,"%3D"),e=e.replace(/\</g,"&lt;"),e=e.replace(/\>/g,"&gt;"),e=e.replace(/\&/g,"%26")}function simpleFilter(t){var e=t;return e=e.replace(/(\u0085)|(\u2028)|(\u2029)/g,"")}function symbolFilter(t){var e=t;return e=e.replace(/\n|\r|(\r\n)|(\u0085)|(\u2028)|(\u2029)/g,""),e=normalFilter(e)}function firstFilter(t){var e=t;return e=e.replace(/\"/g,"&quot;"),e=e.replace(/\'/g,"&#39;"),e=e.replace(/\\/g,"\\\\")}function wordFilter(t){var e=t;return e=e.replace(/\</g,"&lt;"),e=e.replace(/\>/g,"&gt;"),e=e.replace(/\"/g,"&quot;"),e=e.replace(/\'/g,"&#39;")}function symbolDecode(t){var e=t;return e=e.replace(/(\&lt;)/g,"<"),e=e.replace(/(\&gt;)/g,">"),e=e.replace(/(\&quot;)/g,'"'),e=e.replace(/(\&\#39;)/g,"'"),e=e.replace(/(\&amp;)/g,"&")}function postBackFilter(t){var e=t;return e=e.replace(/(\%26lt;br\%26gt;)/g,"<br>")}function checkTime(t){return t<10&&(t="0"+t),t}function pageLoadCommon(t,e,i){t.scroll(function(){distanceScrollCount=t[0].scrollHeight,distanceScroll=t[0].scrollTop,topicPageHight=t.height();var n=distanceScrollCount-distanceScroll-topicPageHight,o=3;i&&(o=i),n<o&&e()})}function qlSlBoxShow(t){$(t).show(),setTimeout(function(){var e=$(t).find(".main").outerHeight();e<=document.body.clientHeight-45?($(t).removeClass("qMS"),$(t).find(".main").css({marginTop:"-"+(e/2+15).toFixed(0)+"px"}),$(".qlMTBg").length>0&&$(".qlMTBg").css({height:"100%"})):($(t).addClass("qMS"),$(t).find(".main").css({marginTop:"0px"}),$(".qlMTBg").length>0&&$(".qlMTBg").css({height:e+30+"px"}))},300)}function stopDrop(t){$(t).each(function(t,e){var i;$("body").off().on("touchstart.stop",function(t){i=t.originalEvent.changedTouches[0].clientY}),$("body").on("touchmove.stop",function(t){var n=t.originalEvent.changedTouches[0].clientY,o=$(e).scrollTop();if(n>i&&o<5)return t.preventDefault(),!1;i=n})})}function getCookie(t){return document.cookie.length>0&&(c_start=document.cookie.indexOf(t+"="),-1!=c_start)?(c_start=c_start+t.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""}function setCookie(t,e,i){var n=new Date;n.setDate(n.getDate()+i),document.cookie=t+"="+escape(e)+(null==i?"":";expires="+n.toGMTString())+";path=/"}function delCookie(t){var e=new Date;e.setTime(e.getTime()-1);var i=getCookie(t);null!=i&&(document.cookie=t+"="+i+";expires=999; path=/",document.cookie=t+"="+i+";expires="+e.toGMTString()+"; path=/")}function rememberLastReaded(t,e){var i={};i.speakTime=t,i.speakId=e,lastVisit[topicId]=i,localStorage.setItem("lastVisit",JSON.stringify(lastVisit))}function cheakNewPoint(){try{localStorage.getItem("newPointList")&&(newPointList=JSON.parse(localStorage.newPointList))}catch(t){}var t={red:"#f14a4e",green:"#00c8bc",yellow:"#ffa200",blue:"#00acff"};$(".badge").length>0&&$(".badge").each(function(){if(newPointList[$(this).attr("attr-npval")])$(this).find(".newPoint").remove(),$(this).removeClass("badge");else{var e=$(this).attr("data-badge-content")||"",i=$(this).attr("data-badge-top")||"-1",n=$(this).attr("data-badge-left")||"-1",o=$(this).attr("data-badge-color"),a='<span class="newPoint" style="top:'+i+"rem;margin-left:"+n+"rem;background:"+(t[o]||"#f14a4e")+'">'+e+"</span>";$(this).prepend(a)}})}function setShareCard(t,e){shareCardList[t]=e,localStorage.setItem("shareCardList",JSON.stringify(shareCardList))}function getShareCard(t){return shareCardList[t]||-1}function noticeClosedCheck(){try{localStorage.getItem("noticeClosedList")&&(noticeClosedList=JSON.parse(localStorage.noticeClosedList))}catch(t){}$(".ql_notice_rem").length>0&&$(".ql_notice_rem").each(function(){noticeClosedList[$(this).attr("attr-notice")]&&$(this).hide()})}function getFocusQrFunction(t,e,i,n,o,a,s,r){void 0==o&&(o="");var c=r||"N";/.*(recommend|subscribe\-period\-time).*/.test(sessionStorage.getItem("trace_page"))&&(c="Y"),$.ajax({type:"POST",url:"/live/getQr.htm",data:{channel:e,topicId:i,liveId:n,toUserId:o,channelId:s,showQl:c},success:function(e){var i=e;"200"==i.statusCode?$(t).find("img").attr("src",i.msg):$(t).find("img").attr("src","//open.weixin.qq.com/qr/code/?username=qianliaoEdu"),void 0!=a&&""!=a&&a()},error:function(t){}})}function followLive(t,e,i,n){var o={cancleFlag:t};"undefined"!=typeof liveId&&(o.liveId=liveId),void 0!==e&&""!=e&&(o.topicId=e),void 0!==n&&""!=n&&(o.liveId=n),isSFing&&(isSFing=!1,$(".loadingBox").show(),$.ajax({type:"POST",url:"/live/savefocus.htm",data:o,success:function(e){isSFing=!0;var n=e;$(".loadingBox").hide(),"200"==n.statusCode?(void 0!=i&&""!=i&&i(),window._qla&&_qla("event",{category:"followLive",action:"success",cancleFlag:t})):($(document).minTipsBox({tipsContent:n.msg,tipsTime:1}),window._qla&&_qla("event",{category:"followLive",action:"failed",cancleFlag:t}))},error:function(){isSFing=!0,$(".loadingBox").hide(),window._qla&&_qla("event",{category:"followLive",action:"failed",cancleFlag:t})}}))}function updateAlert(t,e,i,n){var o={status:t,liveId:liveId};void 0!==e&&""!=e&&(o.liveId=e),isSFing&&$.ajax({type:"POST",url:"/live/updateAlert.htm",data:o,success:function(t){var e=t;"200"==e.state.code?(isSFing=!0,$(document).minTipsBox({tipsContent:e.state.msg,tipsTime:1}),"function"==typeof i&&i()):$(document).minTipsBox({tipsContent:e.state.msg,tipsTime:1})},error:function(t){var e=t;isSFing=!0,"function"==typeof n&&($(document).minTipsBox({tipsContent:e.state.msg,tipsTime:1}),n())}})}function joinTopic(t,e,i,n){var o={shareKey:t,pro_cl:window.getCookie("channelNo")};isSFing&&$.ajax({type:"POST",url:"/live/jointopic/"+e+".htm",data:o,success:function(t){var n=t;"200"==n.statusCode?(isSFing=!0,$(document).minTipsBox({tipsContent:n.msg,tipsTime:1}),"function"==typeof i&&i(),window._qla&&_qla("event",{category:"jointopic",action:"success",business_id:e,business_type:"topic",trace_page:sessionStorage.getItem("trace_page")||""})):($(document).minTipsBox({tipsContent:n.msg,tipsTime:1}),window._qla&&_qla("event",{category:"jointopic",action:"failed",business_id:e,business_type:"topic",trace_page:sessionStorage.getItem("trace_page")||""}))},error:function(t){var i=t;isSFing=!0,"function"==typeof n&&($(document).minTipsBox({tipsContent:i.msg,tipsTime:1}),n()),window._qla&&_qla("event",{category:"jointopic",action:"failed",business_id:e,business_type:"topic",trace_page:sessionStorage.getItem("trace_page")||""})}})}function setSharePercent(t,e){sharePercent[t]=e,localStorage.setItem("sharePercent",JSON.stringify(sharePercent))}function getSharePercent(t){return sharePercent[t]||-1}function shareLinkReplace(t){return t}function symbolDecodeWtCommon(t){var e=t;return e=e.replace(/(\&lt;)/g,"<"),e=e.replace(/(\&gt;)/g,">"),e=e.replace(/(\&quot;)/g,'"'),e=e.replace(/(\&\#39;)/g,"'"),e=e.replace(/(\&amp;)/g,"&")}function wechatShareInit(t,e,i,n,o,a,s){var r=shareLinkReplace(n);t=symbolDecodeWtCommon(t),e=symbolDecodeWtCommon(e),i=symbolDecodeWtCommon(i);var c={title:symbolDecode(t),desc:symbolDecode(i),link:r,imgUrl:o,success:a||function(){"undefined"!=typeof isInvite&&window.location.reload(!0)},cancel:s||function(){}},l={};for(item in c)l[item]=c[item];l.title=symbolDecode(e),wx.onMenuShareAppMessage(c),wx.onMenuShareTimeline(l),wx.onMenuShareQQ(c),wx.onMenuShareWeibo(c),wx.onMenuShareQZone(c),wx.showOptionMenu()}function alertMsg(t,e,i){$(document).minTipsBox({tipsContent:t||"",tipsTime:e||2,position:i||"middle"})}function quickAjax(t,e,i,n,o,a){isSendQuickAjax||(isSendQuickAjax=!0,$(".loadingBox").show(),$.ajax({type:t,url:e,data:i,success:function(t){$(".loadingBox").hide(),isSendQuickAjax=!1;var e=t;console.log(e),alertMsg(e.msg),"200"==e.statusCode?void 0!==n&&"function"==typeof n&&n():void 0!==a&&"function"==typeof a&&a()},error:function(t){isSendQuickAjax=!1,alertMsg(t.msg),void 0!==o&&"function"==typeof o&&o()}}))}function isNumberValid(t,e,i,n){return""===t?(alertMsg(n+": "+validMsg.voidString,1.5),!1):/^[1-9]+[0-9]*]*$/.test(t)||"0"===t?!(e&&i&&(Number(t)<e||Number(t)>i))||(alertMsg(n+": "+validMsg.lessOrMoreThanNum(e,i,1.5)),!1):(alertMsg(n+": "+validMsg.notAPositiveNumber,1.5),!1)}function isDecimalValid(t,e,i,n){return""===t?(alertMsg(n+": "+validMsg.voidString,1.5),!1):/^[0-9]+([.]\d{1,2})?$/.test(t)?!(e&&i&&(t<e||t>i))||(alertMsg(n+": "+validMsg.lessOrMoreThanNum(e,i,1.5)),!1):(alertMsg(n+": "+validMsg.notDecimal,1.5),!1)}function validLegal(t,e,i,n,o,a){var s=!0;if(""==(i=i.trim()))return alertMsg(e+"不能为空"),!1;switch(t){case"text":s=!(n&&i.length>n&&(alertMsg(e+"不能超过"+n+"个字"),1));break;case"money":s=function(){var t="";return/(^[0-9]*[\.]?[0-9]{0,2}$)/.test(i)?n&&Number(i)>n?(a&&""!=a&&(t+="，"+a),alertMsg(e+"不能超过"+n+"元"+t),!1):!(o&&Number(i)<o&&(a&&""!=a&&(t+="，"+a),alertMsg(e+"不能小于"+o+"元"+t),1)):(alertMsg(e+"必须为非负数字,最多2位小数"),!1)}();break;case"name":s=/(^[a-zA-Z\s]+$)|(^[\u4e00-\u9fa5]+$)/.test(i)?!(n&&i.length>n&&(alertMsg(e+"不能超过"+n+"个字"),1)):(alertMsg("请输入真实姓名"),!1);break;case"password":s=/^[0-9a-zA-Z]+$/.test(i)?!(n&&i.length>n&&(alertMsg(e+"最长为"+n+"位"),1)):(alertMsg(e+"只能是数字与字母组成"),!1);break;case"wxAccount":s=!!/^[0-9a-zA-Z\-\_]{5,30}$/.test(i)||(alertMsg("微信号仅6~30个字母，数字，下划线或减号组成"),!1);break;case"phoneNum":s=!!/^1[3|4|5|7|8]\d{9}$/.test(i)||(alertMsg("请输入正确的手机号"),!1)}return s}function showBottomBox(t){t?$(t).parents(".bottom_box").show(1,function(){$(t).addClass("on")}):$(".bottom_box").show(1,function(){$(".bottom_box_main").addClass("on")})}function hideBottomBox(t){if(t){e=-$(t).height();$(t).css("margin-bottom",e),$(t).removeClass("on"),setTimeout(function(){$(t).parents(".bottom_box").hide(),$(t).css("margin-bottom","0")},500)}else{var e=-$(".bottom_box_main.on").height();$(".bottom_box_main.on").css("margin-bottom",e),$(".bottom_box_main.on").removeClass("on"),setTimeout(function(){$(".bottom_box").hide(),$(".bottom_box_main").css("margin-bottom","0")},500)}}function addBaiduStatistic(){var t=document.createElement("script");t.src="//hm.baidu.com/hm.js?9f8c5d323a26421cb966b5e405d629c3";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}function operateDOMNumber(t){return function(e){$(e).text(String(Number($(e).text())+t))}}function codeCountdown(t,e,i,n){var o;try{if(sessionStorage.getItem(n)){o=Number(sessionStorage.getItem(n));var a=(new Date).getTime();if(a-o<1e3*i){e.hide(),t.text((i-(a-o)/1e3).toFixed(0)),t.show();var s=setInterval(function(){var n=(new Date).getTime(),a=(i-(n-o)/1e3).toFixed(0);a>0?t.text(a):(clearInterval(s),e.show(),t.hide())},1e3)}}}catch(t){}}function appJump(t,e,i,n,o){var a=void 0!==o?o:"https://img.qlchat.com/qlLive/liveCommon/normalShareLogo.png?v=1";switch(/(http)/.test(e)||(e=CtxPath+e),t){case"jumpChannel":var s=e.replace(/(.*\/)/,"").replace(/\..*/,"");window.location.href="qlchat://dl/live/channel/homepage?channelId="+s;break;case"shareFriend":/(javascript)/.test(e)||(e=shareLinkReplace(e),e=encodeURIComponent(e),a=encodeURIComponent(a),n=encodeURIComponent(n),window.location.href="qlchat://dl/share/link?title="+i+"&content="+n+"&shareUrl="+e+"&thumbImageUrl="+a);break;case"shareCard":e=e.replace("http://","https://"),e=encodeURIComponent(e),window.location.href="qlchat://dl/share/system/photo?photoUrl="+e}}function wxPayCommon(t,e,i,n,o,a,s,r){if(isNoPaying){isNoPaying=!1;var c="Y";c=isWeixin()&&(isiOS()||isAndroid())?"Y":"N";var l={byUserId:t,liveId:window.liveId,type:n,total_fee:o,ifboth:c};void 0!==i&&""!=i&&(l.topicId=i),"undefined"!=typeof shareKey&&""!=shareKey&&(l.shareKey=shareKey);var d="object"==typeof a?$.extend(l,a):l;$.ajax({type:"POST",url:"/live/pay/UnifiedOrder.htm",data:d,success:function(t){var e=t;"200"==e.statusCode?isiOS()||isAndroid()?callWxPay(e,s,r):e.isPayDev?"function"==typeof s&&s(qcodeId):(getPayQRCode(e.qcodeUrl,e.qcodeId,s,r),$(".loadingBox").hide(),qlSlBoxShow(".payQrBox"),$(".payQrBox .kuaSpan").hide(),isNoPaying=!0):"205"==e.statusCode?($(".loadingBox").hide(),$(document).minTipsBox({tipsContent:e.msg,tipsTime:2}),window.location.href="channel"===window.pageType?"/live/channel/channelPage/"+window.liveId+".htm?restime=="+(new Date).getTime():"/topic/"+window.topicId+".htm?restime=="+(new Date).getTime()):($(".loadingBox").hide(),$(document).minTipsBox({tipsContent:e.msg,tipsTime:2}))},error:function(t){isNoPaying=!0;var e=t;$(document).minTipsBox({tipsContent:e.msg,tipsTime:1})}})}}function getPayQRCode(t,e,i,n){void 0!==t&&($(".payQrBox .payQrPic").attr("src","https://pan.baidu.com/share/qrcode?w=300&h=300&url="+t),setTimeout(function(){openPayTimer(e,i,3e3,n)},10))}function openPayTimer(t,e,i,n){payQrtimer=setTimeout(function(){$.ajax({type:"POST",url:"/live/selectPayResult.htm",data:{orderID:t},success:function(o){var a=o;"200"==a.statusCode?"SUCCESS"==a.msg?(clearTimeout(payQrtimer),$(".payQrBox").hide(),n&&payTrace(n),"function"==typeof e&&e(t)):"CANCEL"==a.msg?$(document).popBox({boxContent:"微信支付处理中，请稍后再看,<br>或者联系管理员.",btnType:"cancel",cancelName:"关闭"}):(clearTimeout(payQrtimer),$(document).minTipsBox({tipsContent:"支付失败",tipsTime:1})):"1"==a.statusCode&&openPayTimer(t,e,i,n)},error:function(t){var e=t;$(document).minTipsBox({tipsContent:e.msg,tipsTime:1})}})},i)}function callWxPay(t,e,i){localStorage.setItem("giftOrderId",t.orderId),"undefined"==typeof WeixinJSBridge?(document.addEventListener?document.addEventListener("WeixinJSBridgeReady",onWxBridgeReady,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",onWxBridgeReady),document.attachEvent("onWeixinJSBridgeReady",onWxBridgeReady)),isNoPaying=!0):(getPayQRCode(t.qcodeUrl,t.qcodeId,e,i),onWxBridgeReady(t,e,i))}function onWxBridgeReady(t,e,i){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:t.appId,timeStamp:t.timeStamp,nonceStr:t.nonceStr,package:t.packageValue,signType:t.signType,paySign:t.paySign},function(n){"get_brand_wcpay_request:ok"==n.err_msg?($(".payQrBox").hide(),isNoPaying=!0,i&&payTrace(i),openPayTimer(t.orderId,e,1500,i)):"get_brand_wcpay_request:cancel"==n.err_msg?($(".loadingBox").hide(),$(document).minTipsBox({tipsContent:"已取消付费",tipsTime:1}),isNoPaying=!0):"get_brand_wcpay_request:fail"==n.err_msg&&($(".loadingBox").hide(),$(document).minTipsBox({tipsContent:"请使用微信二维码支付",tipsTime:1}),qlSlBoxShow(".payQrBox"),isNoPaying=!0)})}function payTrace(t){window._qla&&_qla("event",{category:"wechatPay",action:"success",business_id:t.id,business_type:t.type,business_pay_type:t.payType,trace_page:sessionStorage.getItem("trace_page")||""})}function getShareCardCode(t,e,i,n){var o={businessId:t,type:e};""!=i&&(o.joinType=i),getSCOver&&$.ajax({type:"POST",url:"/topic/share/saveshare.htm",contentType:"application/json",data:JSON.stringify(o),success:function(t){var e=t.state,i=t.data;getSCOver=!0,"200"==e.code?"function"==typeof n&&n(i):$(document).minTipsBox({tipsContent:e.msg,tipsTime:1})},error:function(t){getSCOver=!0,$(document).minTipsBox({tipsContent:t.msg,tipsTime:1})}})}function convertSecond(t){var e=Number(t);return e<=60?String(e+"″"):Math.floor(e/60)+"′"+(t=e%60)+"″"}function convertSize(t){var e=Number(t);return e<1024?String(e)+"b":e<1048576?(e/1024).toFixed(1)+"k":(e/1048576).toFixed(1)+"m"}function leaveDate(t){return t.replace(/ \d{2}:\d{2}:\d{2}/,"")}function leaveTime(t){return t.replace(/\d{4}-\d{2}-\d{2} /,"")}function getStorageSync(t){var e;try{e=window.localStorage.getItem(t)}catch(t){return void console.error("get localStorage failed! ",t)}try{e=JSON.parse(e)}catch(t){console.error("parse localstorage data error:",t)}if(e&&"object"==typeof e&&e._expires){var i=(new Date).getTime();if(+e._expires<i){try{window.localStorage.removeItem(t)}catch(t){console.error("remove localstorage failed! ",t)}return}return e.value}return e}function setStorageSync(t,e,i){var n,o=new Date;n=i?{_expires:i=o.getTime()+1e3*+i,value:e}:e,n=JSON.stringify(n);try{window.localStorage.setItem(t,n)}catch(t){console.error("set localstorage  failed! ",t)}}function getUrlParams(t,e){if((e=(e||window.location.search).match(/\?.*(?=\b|#)/))&&(e=e[0].replace(/^\?/,"")),!e)return t?"":{};var i={},n=e.split("&");for(var o in n){var a=n[o].split("=");i[a[0]]=a[1]?decodeURIComponent(a[1]):""}return t?i[t]:i}function setPiwikSrcToLocalStorage(){var t=getUrlParams("pk_campaign"),e=getUrlParams("pk_kwd");void 0!==t&&void 0!==e&&setStorageSync("pk_track_compaign",{pk_campaign:t,pk_kwd:e},604800)}function sendPiwikAddLiveEventLog(){if("undefined"!=typeof _paq){var t=getStorageSync("pk_track_compaign");t&&t.pk_campaign&&_paq.push(["trackEvent","al_add_live",t.pk_campaign+"_"+t.pk_kwd,"1","1"])}}function sendPiwikAddTopicEventLog(){if("undefined"!=typeof _paq){var t=getStorageSync("pk_track_compaign");t&&t.pk_campaign&&(_paq.push(["trackEvent","al_add_topic",t.pk_campaign+"_"+t.pk_kwd,"1","1"]),window.localStorage.removeItem("pk_track_compaign"))}}!function(t){function e(t,e,i){var n=document.createElement("source");n.src=i,n.type="video/"+e,t.appendChild(n)}var i={Android:/Android/gi.test(navigator.userAgent),iOS:/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)},n={WebM:"data:video/webm;base64,GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA=",MP4:"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAG21kYXQAAAGzABAHAAABthADAowdbb9/AAAC6W1vb3YAAABsbXZoZAAAAAB8JbCAfCWwgAAAA+gAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIVdHJhawAAAFx0a2hkAAAAD3wlsIB8JbCAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAIAAAACAAAAAABsW1kaWEAAAAgbWRoZAAAAAB8JbCAfCWwgAAAA+gAAAAAVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAAVxtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAEcc3RibAAAALhzdHNkAAAAAAAAAAEAAACobXA0dgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAIAAgASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAAFJlc2RzAAAAAANEAAEABDwgEQAAAAADDUAAAAAABS0AAAGwAQAAAbWJEwAAAQAAAAEgAMSNiB9FAEQBFGMAAAGyTGF2YzUyLjg3LjQGAQIAAAAYc3R0cwAAAAAAAAABAAAAAQAAAAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAAFHN0c3oAAAAAAAAAEwAAAAEAAAAUc3RjbwAAAAAAAAABAAAALAAAAGB1ZHRhAAAAWG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAK2lsc3QAAAAjqXRvbwAAABtkYXRhAAAAAQAAAABMYXZmNTIuNzguMw=="},o=function(){return i.Android&&(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("loop",""),e(this.noSleepVideo,"webm",n.WebM),e(this.noSleepVideo,"mp4",n.MP4)),this};o.prototype.enable=function(t){i.Android&&this.noSleepVideo.play()},o.prototype.disable=function(){i.Android&&this.noSleepVideo.pause()},t.NoSleep=o}(this);var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,i,n,o,a,s,r,c="",l=0;for(t=Base64._utf8_encode(t);l<t.length;)o=(e=t.charCodeAt(l++))>>2,a=(3&e)<<4|(i=t.charCodeAt(l++))>>4,s=(15&i)<<2|(n=t.charCodeAt(l++))>>6,r=63&n,isNaN(i)?s=r=64:isNaN(n)&&(r=64),c=c+this._keyStr.charAt(o)+this._keyStr.charAt(a)+this._keyStr.charAt(s)+this._keyStr.charAt(r);return c},decode:function(t){var e,i,n,o,a,s,r="",c=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<t.length;)e=this._keyStr.indexOf(t.charAt(c++))<<2|(o=this._keyStr.indexOf(t.charAt(c++)))>>4,i=(15&o)<<4|(a=this._keyStr.indexOf(t.charAt(c++)))>>2,n=(3&a)<<6|(s=this._keyStr.indexOf(t.charAt(c++))),r+=String.fromCharCode(e),64!=a&&(r+=String.fromCharCode(i)),64!=s&&(r+=String.fromCharCode(n));return r=Base64._utf8_decode(r)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e+=String.fromCharCode(n):n>127&&n<2048?(e+=String.fromCharCode(n>>6|192),e+=String.fromCharCode(63&n|128)):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128),e+=String.fromCharCode(63&n|128))}return e},_utf8_decode:function(t){for(var e="",i=0,n=c1=c2=0;i<t.length;)(n=t.charCodeAt(i))<128?(e+=String.fromCharCode(n),i++):n>191&&n<224?(c2=t.charCodeAt(i+1),e+=String.fromCharCode((31&n)<<6|63&c2),i+=2):(c2=t.charCodeAt(i+1),c3=t.charCodeAt(i+2),e+=String.fromCharCode((15&n)<<12|(63&c2)<<6|63&c3),i+=3);return e}},b64pad2="=",chrsz2=8;Date.prototype.ISODate=new Function("with (this)\n    return getFullYear()+'-'+LZ(getMonth()+1)+'-'+LZ(getDate())+'T'+LZ(getHours())+':'+LZ(getMinutes())+':'+LZ(getSeconds())+'.000Z'"),function(t){t.fn.extend({popBox:function(e){var i=".pop_content span",n=".pop_bottom",o='<span><a href="javascript:;" class="pop_btn btn_confirm">'+(e=t.extend({boxType:"",boxContent:"",topAlign:"center",topContent:"",btnType:"",confirmName:"确定",cancelName:"取消",textAlign:"center",isNeedBg:!0,confirmFunction:function(){},cancelFunction:function(){}},e)).confirmName+"</a></span>",a='<span><a href="javascript:;" class="pop_btn btn_cancel">'+e.cancelName+"</a></span>",s='<div class="popBox">';e.isNeedBg&&(s+='<b class="pop_bg"></b>'),s+='<div class="main">';e.topAlign;""!=e.topContent&&(s+='<div class="pop_top ',"left"==e.topAlign&&(s+="alignLeft"),s+='"><span>'+e.topContent+"</span></div>"),s+='<div class="pop_content',"left"==e.textAlign&&(s+=" alignLeft"),s+='"><span></span></div><div class="pop_bottom"></div></div></div>',t(".popBox").length>0&&t(".popBox").remove(),t(s).appendTo("body"),function(){switch(t(i).html(e.boxContent),t(n).removeClass("both"),e.btnType){case"confirm":t(n).html(o);break;case"cancel":t(n).html(a);break;case"both":t(n).addClass("both"),t(n).html(a+o);break;case"tran":t(n).addClass("both"),t(n).html(o+a);break;default:t(n).html("")}}(),t(document).off("click",".btn_cancel").on("click",".btn_cancel",function(){e.cancelFunction(),t(".popBox").hide()}).on("click",".pop_bg",function(){t(".popBox").hide()}).off("click",".btn_confirm").on("click",".btn_confirm",function(){e.confirmFunction(),t(".popBox").hide()})}})}(jQuery),function(t){t.fn.extend({switchBtn:function(e){var i=(e=t.extend({obj:"",switchType:"simple",functionafter:"N",isOn:"Y",isNormalStyle:"N",switchHeight:"3rem",switchWidth:"6rem",switchOnColor:"#00acff",switchOffColor:"#ccc",onName:"",offName:"",selectstyle:"swon",styleFunction:function(){},onFunction:function(){},offFunction:function(){}},e)).obj,n=e.selectstyle;if("Y"==e.isNormalStyle){var o='<style type="text/css" id="switchStyle">.switch_btn{display: block;width:'+e.switchWidth+";border-radius:"+e.switchHeight+";background-color: "+e.switchOffColor+";color: #fff;position: relative;overflow:hidden;cursor:pointer;}.switch_btn."+n+"{background-color: "+e.switchOnColor+";}.switch_btn .switch_child{display:inline-block;width:"+e.switchHeight+";height:"+e.switchHeight+";border-radius:"+e.switchHeight+";border:1px solid "+e.switchOffColor+";background-color: #fff;float: left;}.switch_btn .switch_text{display:inline-block;color:#fff;float: right;margin-right:10px;line-height:"+e.switchHeight+";}.switch_btn."+n+" .switch_child{border:1px solid "+e.switchOnColor+";float: right;}.switch_btn."+n+" .switch_text{float: left;margin-left:10px;}</style>";t("#switchStyle").length<=0&&t("head").append(o);a='<i class="switch_child"></i><var class="switch_text">';""==e.isOn||"Y"==e.isOn?a+=e.onName:"N"==e.isOn&&(a+=e.offName),a+="</var>"}else if(""!=e.onName&&""!=e.offName)var a='<var class="switch_Name">';""==e.isOn||"Y"==e.isOn?t(e.obj).addClass(n):"N"==e.isOn&&t(e.obj).removeClass(n),e.styleFunction=function(){"N"==e.isOn?(t(i).removeClass(n),t(i).find(".switch_text").html(e.offName)):"Y"==e.isOn&&(t(i).addClass(n),t(i).find(".switch_text").html(e.onName))},t(i).length>0&&("Y"==e.isNormalStyle?(t(i).addClass("switch_btn"),t(i).append(a)):""!=e.onName&&""!=e.offName&&t(i).append(a),t(document).on("click",i,function(){"N"==e.isOn?e.isOn="Y":e.isOn="N","complex"==e.switchType?"N"==e.isOn?(e.offFunction(),"N"==e.functionafter&&e.styleFunction()):(e.onFunction(),"N"==e.functionafter&&e.styleFunction()):"simple"==e.switchType&&e.styleFunction()}))}})}(jQuery),function(t){t.fn.extend({minTipsBox:function(e){e=t.extend({tipsContent:"",tipsTime:2,position:"middle"},e);var i=".min_tips_box",n=".min_tips_box .tips_content",o=1e3*parseFloat(e.tipsTime),a=e.position;t(i).length>0&&t(i).remove(),t('<div class="min_tips_box"><b class="bg"></b><span class="tips_content"></span></div>').appendTo("body"),t(n).html(e.tipsContent),t(i).addClass(a),setTimeout(function(){t(i).hide()},o)}})}(jQuery);var STS={},OSSW;window.OSS&&(OSSW=OSS.Wrapper,STS=OSS.STS),function(){function t(t,e,i){if(t.addEventListener)t.addEventListener(e,i,!1);else{if(!t.attachEvent)throw new Error("not supported or DOM not loaded");t.attachEvent("on"+e,function(){i.call(t)})}}function e(t,e){for(var i in e)e.hasOwnProperty(i)&&(t.style[i]=e[i])}function n(t){return t.replace(/.*(\/|\\)/,"")}function o(t){return-1!==t.indexOf(".")?t.replace(/.*[.]/,""):""}function a(t,e){return t.currentStyle?t.currentStyle[e]:window.getComputedStyle?(propprop=e.replace(/([A-Z])/g,"-$1"),propprop=e.toLowerCase(),document.defaultView.getComputedStyle(t,null)[e]):null}function s(){for(var t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e="",i=0;i<8;i++)e+=t[n=Math.ceil(35*Math.random())];e+="-";for(i=0;i<4;i++)e+=t[n=Math.ceil(35*Math.random())];e+="-";for(i=0;i<4;i++)e+=t[n=Math.ceil(35*Math.random())];e+="-"+(new Date).getTime()+"-";for(i=0;i<12;i++){var n=Math.ceil(35*Math.random());e+=t[n]}return e}function r(t){t.parentNode.removeChild(t)}var c=31457280;window.imgUpload=function(e,i,n){this._settings={project:"qlLive",folder:"temp",autoSubmit:!0,responseType:!1,multiple:"N",isCancelSend:!1,quota:100,maxLength:100,onChange:function(){$(".loadingBox").show()},onComplete:function(t,e){},onError:function(){},onAllComplete:function(){},isPass:function(){return!0},uploadType:function(){return"pic"},progress:function(t){}},this.fileArray=[];for(var o in i)i.hasOwnProperty(o)&&(this._settings[o]=i[o]);if(e.jquery)e=e[0];else if("string"==typeof e)/^#.*/.test(e)&&(e=e.slice(1)),e=document.getElementById(e);else if(e instanceof Blob)return void this.blobSrc(e);if(!e||1!==e.nodeType)throw new Error("Please make sure that you're passing a valid element");"A"==e.nodeName.toUpperCase()&&t(e,"click",function(t){t&&t.preventDefault?t.preventDefault():window.event&&(window.event.returnValue=!1)}),"mp3"===this._settings.uploadType()&&(this._audio=document.createElement("audio"),this._audio.setAttribute("class","getAudioTime"),this._audio.setAttribute("preload","auto"),this._audio.volume=0,document.body.appendChild(this._audio)),this._upObj=n,"CANVAS"==e.tagName&&this.canvasImg(e),"AUDIOUP"==e.tagName?this.audioUp():(e.style.overflow="hidden","static"==a(e,"position")&&(e.style.position="relative"),this._button=e,this._input=null,this.createInput())},imgUpload.prototype={fileName:"",createInput:function(){var a=this,s=document.createElement("input");s.setAttribute("type","file"),s.setAttribute("onmousedown","return false"),s.setAttribute("name","file"),s.setAttribute("id","file");var r=a._settings.uploadType(),c=String("image"+decodeURIComponent("%2F")+"jpg,image"+decodeURIComponent("%2F")+"jpeg,image"+decodeURIComponent("%2F")+"png,image"+decodeURIComponent("%2F")+"gif,image"+decodeURIComponent("%2F")+"bmp"),l=String("audio"+decodeURIComponent("%2F")+"*");"pic"==r?s.setAttribute("accept",c):"mp3"==r&&s.setAttribute("accept",l),"Y"==a._settings.multiple&&s.setAttribute("multiple","multiple"),e(s,{position:"absolute",right:0,bottom:0,opacity:0,margin:0,padding:0,fontSize:"480px",cursor:"pointer","z-index":"10",filter:"alpha(opacity=0)"}),t(s,"change",function(){if(s&&""!==s.value){if("Y"==a._settings.multiple&&s.files.length>a._settings.maxLength)return $(this).popBox({topContent:"超过数量限制",boxContent:"最多选择"+a._settings.quota+"张图片",btnType:"confirm",confirmFunction:function(){return!1}}),a.clearInputVal(),!1;var t=n(s.value),e=o(t);for(i=0;i<a._input.files.length;i++){if(e=a._input.files[i].type.replace("audio/mpeg","mp3").replace(/(image|audio)\//,"")||o(a._input.files[i].name),!("pic"!==a._settings.uploadType()||t&&/(jpg|JPG|png|PNG|gif|GIF|bmp|BMP|jpeg|JPEG)$/.test(e)))return $(this).popBox({topContent:"格式错误",boxContent:"只支持jpg|JPG|png|PNG|gif|GIF|bmp，请重新选择！",btnType:"confirm",confirmFunction:function(){return!1}}),!1;if(!("mp3"!==a._settings.uploadType()||t&&/(mp3|MP3)/.test(e)))return $(this).popBox({topContent:"格式错误",boxContent:"只支持MP3文件上传，请重新选择！",btnType:"both",confirmName:"重新选择",cancelName:"取消",confirmFunction:function(){$(a._input).click()}}),!1;if(e=o(a._input.files[i].name),!("doc"!==a._settings.uploadType()||t&&/^(doc|xls|pdf|docx|xlsx)$/.test(e)))return $(this).popBox({topContent:"格式错误",boxContent:"只支持doc,pdf,xls文件上传，请重新选择！",btnType:"both",confirmName:"重新选择",cancelName:"取消",confirmFunction:function(){$(a._input).click()}}),!1}a._settings.autoSubmit&&a._settings.isPass()&&(a._settings.onChange(),a.submit())}}),this._button.appendChild(s),this._input=s},canvasImg:function(t){var e=dataURLtoBlob(t.toDataURL("image/jpeg"));this.send2OSS(e)},blobSrc:function(t){this.send2OSS(t)},audioUp:function(){var t=this._upObj;this.send2OSS(t)},clearInputVal:function(){r(this._input),this._input=null,this.createInput()},submit:function(){var t=this;if(t._input.files.length>1)for(i=1;i<t._input.files.length;i++)t.fileArray[i-1]=t._input.files[i];t.send2OSS(this._input.files[0]),t.clearInputVal()},uploadElseFile:function(){var t=this;t.send2OSS(t.fileArray.shift())},uploadFile:function(t,e,i,n,o,a){var r,l,d,D,u,h=this,p=n,A=!1,m=(new FormData,"ql-res");"doc"===h._settings.uploadType()&&(m="qianliao-doc-download-402-301"),/(https)/.test(window.location.href)&&(A=!0);var f=new OSSW({region:"oss-cn-hangzhou",accessKeyId:t,secure:A,accessKeySecret:e,stsToken:i,bucket:m});h._settings.isCancelSend=!1;var g=function(t){f.multipartUpload(r,p,{checkpoint:u,progress:function(t,e){return function(i){if(h._settings.isCancelSend)return!1;void 0!==e&&(u=e,D=e.name,d=e.uploadId,h._settings.progress(t)),i()}}}).then(function(i){$(".loadingBox").hide(),h._settings.isCancelSend||("doc"===h._settings.uploadType()?h._settings.onComplete(imgLoadUrl,l,n.name):h._settings.onComplete(imgLoadUrl,t),h.fileArray.length>0?h.uploadElseFile():h._settings.onAllComplete()),clearInterval(e)}).catch(function(t){console.log(t),clearInterval(e)});var e=setInterval(function(){h._settings.isCancelSend&&(clearInterval(e),h._settings.onError())},1500)};if(l=o,r=this._settings.project+"/"+this._settings.folder+"/"+s()+"."+l,/^(jpg|JPG|png|PNG|gif|GIF|bmp|BMP|jpeg|JPEG)$/.test(l)?(c=5242880,imgLoadUrl="http://img.qlchat.com/"+r,(isiOS()||"Chrome"==checkBrowser())&&(c=3145728)):"doc"===h._settings.uploadType()?(c=20971520,imgLoadUrl="http://docs.qianliaowang.com/"+r):(c=31457280,imgLoadUrl="http://media.qlchat.com/"+r,/^(mp3|MP3)$/.test(l)&&(imgLoadUrl="http://media.qianliaowang.com/"+r)),imgLoadUrl=imgLoadUrl.replace("http://","https://"),n.size>c&&"pic"===h._settings.uploadType()){if(!isiOS()&&"Chrome"!=checkBrowser())return $(document).popBox({boxTitle:"温馨提示",boxContent:"请选择小于5M的图片",btnType:"confirm",confirmFunction:function(){return!1}}),h._settings.onError(),!1;var E=null;void 0!=window.createObjectURL?E=window.createObjectURL(p):void 0!=window.URL?E=window.URL.createObjectURL(p):void 0!=window.webkitURL&&(E=window.webkitURL.createObjectURL(p));var C=new Image;C.onload=function(){var t=C.width,e=C.height,i=t/e;if(t>1600&&(t=parseInt(1600),e=parseInt(t/i)),$("#canvasTemp").length<1){var n=document.createElement("canvas");n.setAttribute("id","canvasTemp"),n.style.display="none",$("body").append(n)}var o=$("#canvasTemp"),a=o[0].getContext("2d");o.attr({width:t,height:e}),a.drawImage(C,0,0,t,e),setTimeout(function(){base64=o[0].toDataURL("image/jpeg",1),p=dataURLtoBlob(base64),p=new File([p],"filename.jpg"),g()},1e3)},C.src=E}else{if(n.size>c&&"doc"===h._settings.uploadType())return $(document).popBox({boxTitle:"文件过大",boxContent:"文件必须小于20M，请重新选择~\t",btnType:"both",confirmName:"重新选择",cancelName:"取消",confirmFunction:function(){$(h._input).click()}}),h._settings.onError(),!1;if(n.size>c&&/(mp3)/.test(l))return $(document).popBox({boxTitle:"文件过大",boxContent:"文件必须小于30M，请重新选择~\t",btnType:"both",confirmName:"重新选择",cancelName:"取消",confirmFunction:function(){$(h._input).click()}}),h._settings.onError(),!1;"wav"==l&&(l="audio/wav"),g(a)}},send2OSS:function(t){var e=this,i=t.type||o(t.name)||"",n={},a="jpg";"doc"!==e._settings.uploadType()?(a=i.replace("audio/mpeg","mp3").replace(/(image|audio)\//,"").replace(/(jpeg)/,"jpg"),t.name&&/(wav)/.test(t.name)&&(a="wav"),"mp3"!=e._settings.uploadType()||/(mp3|wav)/.test(a)||(a="mp3")):(a=o(t.name),n={fuck:"me"}),"canvas"!==a&&"blob"!==a||(a="jpeg"),$.ajax({type:"POST",url:"index.php?i=22&c=entry&do=upload&m=wxz_wzbagent",data:n,dataType:"json",success:function(i){var n=i.data;console.log(i.data);if("200"==i.state.code)if("mp3"!==e._settings.uploadType())e.uploadFile(n.accessKeyId,n.accessKeySecret,n.securityToken,t,a);else{var o=URL.createObjectURL(t);e._audio.setAttribute("src",o),e._audio.play(),setTimeout(function(){e._audio.pause();var i=e._audio.duration.toFixed(0);e.uploadFile(n.accessKeyId,n.accessKeySecret,n.securityToken,t,a,i)},700)}else"400"==i.state.code?$(document).popBox({boxContent:n.msg,btnType:"confirm"}):($(document).popBox({boxContent:"对不起，您尚未登陆或者超时，请重新登陆!",btnType:"confirm"}),e._settings.onError())},error:function(){e.uploadFailed(),e._settings.onError()}})},uploadFailed:function(){var t=this;$(document).popBox({boxContent:"网络异常,请检查网络",btnType:"confirm"}),$(".loadingBox").hide(),t._settings.onError()}}}();var lastVisit={};try{localStorage.getItem("lastVisit")&&(lastVisit=JSON.parse(localStorage.lastVisit))}catch(t){}var newPointList={},shareCardList={};try{localStorage.getItem("shareCardList")&&(shareCardList=JSON.parse(localStorage.shareCardList))}catch(t){}var noticeClosedList={},isSFing=!0,sharePercent={};try{localStorage.getItem("sharePercent")&&(sharePercent=JSON.parse(localStorage.sharePercent))}catch(t){}var isSendQuickAjax=!1,SimpleConfirm=function(){function t(t){this.opt=t,this.id=Date.now(),this.render()}return t.prototype.render=function(){$("body").append(this.tepl),this.$el=$("#simple-confirm-"+this.id),this.$el.find(".tlbtn_confirm").click(this.opt.onConfirm?this.opt.onConfirm:function(){}),this.$el.find(".tlbtn_cancel").click(this.opt.onCancel?this.opt.onCancel:function(){})},t.prototype.show=function(){this.$el.show()},t.prototype.hide=function(){this.$el.hide()},t.prototype.destory=function(){this.$el.remove()},Object.defineProperty(t.prototype,"tepl",{get:function(){return'<div class="qlMsgTips simple-confirm" id="simple-confirm-'+this.id+'" hidden>\n\t\t\t\t<div class="main">\n\t\t\t\t\t<p>'+this.opt.content+'</p>\n\t\t\t\t\t<div class="qlMTBottom2 webkitBox">\n\t\t\t\t\t\t<a href="javascript:;" class="tlbtn_cancel boxFlex">取消</a>\n\t\t\t\t\t\t<a href="javascript:;" class="tlbtn_confirm boxFlex">确定</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>'},enumerable:!0,configurable:!0}),t}(),validMsg={voidString:"输入不能为空",notAPositiveNumber:"请输入正整数",notDecimal:"请输入两位小数的非负数",lessOrMoreThanNum:function(t,e){return"请输入"+t+"-"+e+"的数"},moreThanMax:function(t){return"请输入小于等于"+t+"的数"}},BottomBox=function(){function t(t,e,i){this.rows=[],this.hasCancel=!1,this.id=t||"whyNotSet"+String(Date.now()),this.hasCancel=i,this.callback=e}return t.prototype.setHeader=function(t){this.headerString=t},t.prototype.setRows=function(t,e){for(var i=0;i<t.length;i++){var n="<li>"+t[i]+"</li>";this.rows.push(n)}void 0!==e&&""!==e&&(this.funcs=e)},t.prototype.getEntireBox=function(){var t=void 0!==this.headerString?'<li class="header">'+this.headerString+"</li>":"",e=!0===this.hasCancel?'<li class="cancel">取消</li>':"";return'<div class="bottom_box"><div class="bottom_shade" hidden></div><ul class="bottom_box_main" id="'+this.id+'">'+t+this.rows.join("")+e+"</ul> </div>"},t.prototype.bindFunc=function(){if(void 0!==this.funcs)for(var t=0;t<this.funcs.length;t++)""!==this.funcs[t]&&void 0!==this.funcs[t]&&$("ul#"+this.id+" li:eq("+t+")").click(this.funcs[t]);!0===this.hasCancel&&$("ul#"+this.id+" .cancel").click(this.hide),$(".shade").click(this.hide)},t.prototype.render=function(t){var e=this.getEntireBox();void 0!==t?t.append(e):$("bottom_box").append(e),this.bindFunc(),void 0!==this.callback&&this.callback instanceof Function&&this.callback()},t.prototype.show=function(){$(".bottom_box").css("transform","translateY(0)"),$(".shade").show()},t.prototype.hide=function(){$(".bottom_box").css("transform","translateY(110%)"),$(".shade").hide()},t}(),QueryString=function(){for(var t={},e=window.location.search.substring(1).split("&"),i=0;i<e.length;i++){var n=e[i].split("=");if(void 0===t[n[0]])t[n[0]]=decodeURIComponent(n[1]);else if("string"==typeof t[n[0]]){var o=[t[n[0]],decodeURIComponent(n[1])];t[n[0]]=o}else t[n[0]].push(decodeURIComponent(n[1]))}return t}(),_hmt=_hmt||[],Slider=function(){function t(t,e,i,n,o,a){this.hasInitial=!1,this.animating=!1,this.isLoop=a||!1,this.selector=e,this.diff=0,this.curSlide=0,this.numOfSlides=0,this.startTime=0,this.endTime=0,this.animTime=n||300,this.autoSlideDelay=o||3e3,this.$sliderContainer=$(e),this.imgSize=i||"",this.slideId=[],this.slideFileId=[],this.slideData=[];for(var s=0;s<t.length;s++)this.slideId.push(t[s].id),this.slideData.push(t[s].url),this.slideFileId.push(t[s].fileId);this.initSlide()}return t.prototype.returnSlideNum=function(){return this.numOfSlides},t.prototype.changeSlideIndex=function(){var t=$(".ppt_window .btn_ppt_index"),e=this.$sliderContainer.find(".slide[data-id].active").index(),i=this.$sliderContainer.find(".slide[data-id]").length;e<1&&(e=1),t.html(String(e)+"<var>/"+i+"</var>")},t.prototype.changeSlides=function(t){if(!t){this.animating=!0,this.$slider.addClass("animating"),this.$slider.css("top"),this.$slider.find(".slide").removeClass("active"),this.$slider.find(".slide-"+this.curSlide).addClass("active");var e=this;setTimeout(function(){e.$slider.removeClass("animating"),e.animating=!1},this.animTime)}window.clearTimeout(this.autoSlideTimeout),this.$slider.css("transform","translate3d("+100*-this.curSlide+"%,0,0)"),this.$slideBGs.css("transform","translate3d("+50*this.curSlide+"%,0,0)");var i=this;setTimeout(function(){i.curSlide===i.numOfSlides+1&&(i.$slideBGs.css("transition","none").css("-webkit-transition","none"),i.$slider.css("transform","translate3d(-100%,0,0)"),i.$slideBGs.css("transform","translate3d(50%,0,0)"),i.$slider.find(".slide").removeClass("active"),i.$slider.find(".slide-1").addClass("active"),setTimeout(function(){i.$slideBGs.css("transition","transform .5s").css("-webkit-transition","-webkit-transform .5s")},100),i.curSlide=1),0===i.curSlide&&(i.$slideBGs.css("transition","none").css("-webkit-transition","none"),i.$slider.css("transform","translate3d("+100*-i.numOfSlides+"%,0,0)"),i.$slideBGs.css("transform","translate3d("+50*i.numOfSlides+"%,0,0)"),i.$slider.find(".slide").removeClass("active"),i.$slider.find(".slide-"+i.numOfSlides).addClass("active"),setTimeout(function(){i.$slideBGs.css("transition","transform .5s").css("-webkit-transition","-webkit-transform .5s")},100),i.curSlide=i.numOfSlides)},400),this.changeSlideIndex(),this.diff=0,this.autoSlideDelay>0&&this.autoSlide()},t.prototype.navigateLeft=function(){if(!this.animating)return 1===this.curSlide&&!1===this.isLoop?(this.curSlide=1,void this.changeSlides()):this.curSlide>0?(this.curSlide--,void this.changeSlides()):void 0},t.prototype.navigateRight=function(){if(!this.animating)return this.curSlide===this.numOfSlides&&!1===this.isLoop?(this.curSlide=this.numOfSlides,void this.changeSlides()):this.curSlide<this.numOfSlides+1?(this.curSlide++,void this.changeSlides()):void 0},t.prototype.jumpToSlide=function(t){t<1||t>this.numOfSlides||(this.curSlide=t,this.changeSlides())},t.prototype.addSlide=function(t,e,i){this.createSlideItem(t,e,i)},t.prototype.removeSlide=function(t){if(!(t<1||t>this.numOfSlides)){this.curSlide===this.numOfSlides&&(this.curSlide--,this.changeSlides());var e=this.$slider.find(".slide:nth-child("+(t+1)+")"),i=e.data("id"),n=(e.data("fileid"),e.find("img").attr("src"),this.slideId.indexOf(String(i)));this.slideData.splice(n,1),this.slideId.splice(n,1),this.slideFileId.splice(n,1);for(var o=t;o<this.numOfSlides;o++){var a=this.$slider.find(".slide:nth-child("+(o+2)+") img").attr("src"),s=this.$slider.find(".slide:nth-child("+(o+2)+")").attr("data-id"),r=this.$slider.find(".slide:nth-child("+(o+2)+")").attr("data-fileId");this.$slider.find(".slide:nth-child("+(o+1)+") img").attr("src",a),this.$slider.find(".slide:nth-child("+(o+1)+")").attr("data-id",s),this.$slider.find(".slide:nth-child("+(o+1)+")").attr("data-fileId",r)}this.$slider.find(".slide:nth-child("+(this.numOfSlides+2)+")").remove(),this.numOfSlides--,this.refreshSlide()}},t.prototype.initSlide=function(){if(0!==this.slideData.length){this.hasInitial=!0;var t=this.$sliderContainer.find(".slider-container");t.length>0&&t.remove();var e='\n        <div class="slider-container" id="ppt_slider">\n            <div class="slider">\n            </div>\n        </div>';isiOS()||isAndroid()||(e+='<span class="icon_back" ></span><span class="icon_enter" ></span>'),this.$sliderContainer.append(e),this.$slider=this.$sliderContainer.find(".slider");var i='<div class="slide slide-'+(this.slideData.length+1)+'" style="left:'+100*(this.slideData.length+1)+'%;">\n                    <a href="javascript:;" class="slide_bg" style="left:'+50*-(this.slideData.length+1)+'%;">\n                        <img src="">\n                    </a>\n                </div>';this.$slider.append('<div class="slide slide-0" style="left:0;">\n                    <a href="javascript:;" class="slide_bg" style="left:0;">\n                        <img src="">\n                    </a>\n                </div>'),this.$slider.append(i);for(var n=0;n<this.slideData.length;n++){var o=this.slideId[n],a=this.slideData[n],s=this.slideFileId[n];this.createSlideItem(o,a,s)}this.bindSlideEvent()}else $(".btn_cancel_ppt,.btn_ppt_index").hide()},t.prototype.createSlideItem=function(t,e,i){var n=this;if(this.slideData.indexOf(e)<0&&(this.slideId.push(t),this.slideData.push(e),this.slideFileId.push(i)),!1!==this.hasInitial){var o='<div class="slide slide-'+(this.numOfSlides+1)+'" data-id="'+t+'" data-fileid="'+i+'" style="left:'+100*(this.numOfSlides+1)+'%;">\n                    <a href="javascript:;" class="slide_bg" style="left:'+50*-(this.numOfSlides+1)+'%">\n                        <img src="'+e+n.imgSize+'">\n                    </a>\n                </div>',a=this.$slider.find(".slide:last-child");a.removeClass("slide-"+(this.numOfSlides+1)).addClass("slide-"+(this.numOfSlides+2)),a.before(o),this.numOfSlides++,this.refreshSlide(),this.autoSlideDelay>0&&this.autoSlide()}else this.initSlide()},t.prototype.refreshSlide=function(){this.$slideBGs=this.$slider.find(".slide_bg");var t=this.slideData[0],e=this.slideData[this.slideData.length-1];this.$slider.find(".slide:last-child").removeAttr("data-id").removeAttr("data-fileid").css("left",100*(this.numOfSlides+1)+"%").find(".slide_bg").css("left",50*-(this.numOfSlides+1)+"%").find("img").attr("src",t+this.imgSize),this.$slider.find(".slide:first-child").find("img").attr("src",e+this.imgSize),0===this.slideData.length?(this.$sliderContainer.find(".slider-container").html(""),this.hasInitial=!1,$(".btn_cancel_ppt,.btn_ppt_index").hide()):$(".btn_cancel_ppt,.btn_ppt_index").show()},t.prototype.autoSlide=function(){var t=this;this.autoSlideTimeout=setTimeout(function(){t.curSlide++,t.curSlide>t.numOfSlides+1&&(t.curSlide=1),t.changeSlides()},t.autoSlideDelay)},t.prototype.bindSlideEvent=function(){var t=this,e=this.$sliderContainer.find(".icon_back"),i=this.$sliderContainer.find(".icon_enter");e.length>0&&(e.click(function(){t.navigateLeft()}),i.click(function(){t.navigateRight()})),$(document).on("touchstart",String(t.selector)+" .slider",function(e){if(t.startTime=Date.now(),!t.animating){window.clearTimeout(t.autoSlideTimeout);var i=e.pageX||e.originalEvent.touches[0].pageX,n=$(window).width();t.diff=0,$(document).on("touchmove",String(t.selector)+" .slider",function(e){var o=e.pageX||e.originalEvent.touches[0].pageX;t.diff=(i-o)/n*70,(!t.curSlide&&t.diff<0||t.curSlide===t.numOfSlides&&t.diff>0)&&(t.diff/=2),t.$slider.css("transform","translate3d("+(100*-t.curSlide-t.diff)+"%,0,0)"),t.$slideBGs.css("transform","translate3d("+(50*t.curSlide+t.diff/2)+"%,0,0)")})}}),$(document).on("touchend",String(t.selector)+" .slider",function(e){if(t.endTime=Date.now(),!t.animating){$(document).off("touchmove",String(t.selector)+" .slider");var i=t.endTime-t.startTime;if(i<500){if(t.diff<=-4)return void t.navigateLeft();if(t.diff>=4)return void t.navigateRight()}i>1200&&t.diff>-50&&t.diff<50?t.changeSlides():t.diff?t.diff>-20&&t.diff<20?t.changeSlides():t.diff<=-20?t.navigateLeft():t.diff>=20&&t.navigateRight():t.changeSlides(!0)}})},t}(),reloadBy=function(t){return function(e){var i=window.location.href,n=new RegExp("([?&])"+t+"=.*?(&|$)","i"),o=-1!==i.indexOf("?")?"&":"?";return i.match(n)?i.replace(n,"$1"+t+"="+e+"$2"):i+o+t+"="+e}},reloadByTimeStamp=reloadBy("restime"),reloadByTimeStampInstant=function(){var t=Date.now(),e=reloadByTimeStamp(t);window.location.href=e},plus1=operateDOMNumber(1),minus1=operateDOMNumber(-1),__USER_AGENT__=navigator.userAgent||"",envi={isAndroid:function(){return __USER_AGENT__.indexOf("Android")>-1||__USER_AGENT__.indexOf("Linux")>-1},isIOS:function(){return!!__USER_AGENT__.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},isWeixin:function(){return"micromessenger"==__USER_AGENT__.toLowerCase().match(/MicroMessenger/i)},isWeibo:function(){return"weibo"==navigator.userAgent.toLowerCase().match(/WeiBo/i)},isChrome:function(){return!!window.chrome},isFireFox:function(){return/firefox/i.test(navigator.userAgent.toLowerCase())},isPc:function(){return!this.isAndroid()&&!this.isIOS()},isQlchat:function(){return"qlchat"==__USER_AGENT__.toLowerCase().match(/qlchat/i)},getQlchatVersion:function(){var t=__USER_AGENT__.toLowerCase().match(/qlchat[a-zA-Z]*?\/([\d.]+)/);if(t&&t.length)return parseInt(t[1])}},getUrlParams=function(t,e){if((e=(e||window.location.search).match(/\?.*(?=\b|#)/))&&(e=e[0].replace(/^\?/,"")),!e)return t?"":{};var i={},n=e.split("&");for(var o in n){var a=n[o].split("=");i[a[0]]=a[1]?decodeURIComponent(a[1]):""}return t?i[t]:i},appSdk={linkTo:function(t,e){var i="qlchat://"+t;if(e){var n=new URL(e).search,o=getUrlParams("shareKey",n),a=getUrlParams("lshareKey",n),s="";o&&(s+="&shareKey="+o),a&&(s+="&lshareKey="+a),s&&/\?.*(?=\b|#)/.test(i)?s&&(i+=s):s&&(i+="?"+s.splice(1))}window.location.href=i},goWebPage:function(t){var e=envi.getQlchatVersion();e&&e>=210?(t.indexOf("http")<0&&(t=window.location.protocol+window.location.host+t),this.linkTo("dl/webpage?url="+encodeURIComponent(t))):window.location.href=t},share:function(t){t=t||{},this.linkTo("dl/share/link?title="+encodeURIComponent(t.title||"")+"&content="+encodeURIComponent(t.content||"")+"&shareUrl="+encodeURIComponent(t.shareUrl||"")+"&thumbImageUrl="+encodeURIComponent(t.thumbImageUrl||""))}};$(document).on("click",".appJump",function(t){if("app"==getCookie("caller")){t.preventDefault();var e="jumpChannel",i="",n="",o="";$(this).attr("app-jump-type")&&(e=$(this).attr("app-jump-type")),$(".appJumpBox").length>0&&(i=$(".appJumpBox").attr("app-jump-url"),n=$(".appJumpBox").attr("app-jump-title"),o=$(".appJumpBox").attr("app-jump-content")),/(javascript)/.test($(this).attr("href"))||(i=$(this).attr("href")),appJump(e,i,n,o)}});var pageRandomNum=(9999*Math.random()).toFixed(0);try{localStorage.setItem("pageRandomNum",pageRandomNum)}catch(t){}var Fetch=function(){function t(){}return t.prototype.json=function(t,e,i,n,o){e=JSON.stringify(e),$.ajax({type:o?o.toUpperCase():"POST",contentType:"application/json; charset=utf-8",url:String(t),data:e,success:i||this.voidFunc,error:n||this.voidFunc})},t.prototype.string=function(t,e,i,n,o){$.ajax({type:o?o.toUpperCase():"POST",url:String(t),data:e,success:i||this.voidFunc,error:n||this.voidFunc})},t.prototype.voidFunc=function(t){t&&t.state&&t.state.msg&&alertMsg(t.state.msg)},t}(),wxPayType,isNoPaying=!0,payQrtimer="",getSCOver=!0;cheakNewPoint(),$(document).on("click",".newPointBtn",function(){"Y"!=$(this).attr("isNotLocalstorage")&&(newPointList[$(this).attr("attr-npval")]||(newPointList[$(this).attr("attr-npval")]=(new Date).getTime(),localStorage.setItem("newPointList",JSON.stringify(newPointList))),window.location.href=$(this).attr("href"),cheakNewPoint())}),jQuery(function(t){t(document).on("click",".locationto",function(e){var i=t(this).attr("attr-url");i&&setTimeout(function(){window.location.href=i},100)}),t(".hasMineNew").length>0&&t.ajax({type:"GET",url:"/live/entity/redDot.htm",data:{userId:t(".hasMineNew").attr("attr-id")},success:function(e){var i=e;"200"==i.statusCode&&i.data&&"Y"==i.data.isPushNew?(console.log("****"),console.log(newPointList["个人中心_课程定制"]),newPointList["个人中心_课程定制"]?t(".hasMineNew").not(".on").append('<span class="mineNewPoint"></span>'):(t(".hasMineNew").not(".on").addClass("badge").attr("attr-npval","个人中心_课程定制"),t(".mine-subscribe").addClass("newPointBtn"),cheakNewPoint())):(t(".hasMineNew").not(".on").addClass("badge").attr("attr-npval","个人中心_课程定制"),t(".mine-subscribe").addClass("newPointBtn"),cheakNewPoint())},error:function(){t(document).minTipsBox({tipsContent:data.msg,tipsTime:1})}});try{if(sessionStorage.getItem("isDataChange_A")){var e=sessionStorage.getItem("isDataChange_A"),n=sessionStorage.getItem("isDataChange_B");e!=n&&(sessionStorage.setItem("isDataChange_A",n),window.location.reload(!0))}else sessionStorage.setItem("isDataChange_A",1),sessionStorage.setItem("isDataChange_B",1);if("true"==localStorage.getItem("isShare")&&t(".isShare").length>0){t(".isShare").show(),clearTimeout(o);var o=setTimeout(function(){t(".isShare").hide(),localStorage.setItem("isShare","false")},5e3)}}catch(t){}if(isAndroid()){var a={E415:"D83D,DE04",E056:"D83D,DE0A",E057:"D83D,DE03",E414:"263A",E405:"D83D,DE09",E106:"D83D,DE0D",E418:"D83D,DE18",E417:"D83D,DE1A",E40D:"D83D,DE33",E40A:"D83D,DE0C",E404:"D83D,DE01",E105:"D83D,DE1C",E409:"D83D,DE1D",E40E:"D83D,DE12",E402:"D83D,DE0F",E108:"D83D,DE13",E403:"D83D,DE14",E058:"D83D,DE1E",E407:"D83D,DE16",E401:"D83D,DE25",E40F:"D83D,DE30",E40B:"D83D,DE28",E406:"D83D,DE23",E413:"D83D,DE22",E411:"D83D,DE2D",E412:"D83D,DE02",E410:"D83D,DE32",E107:"D83D,DE31",E059:"D83D,DE20",E416:"D83D,DE21",E408:"D83D,DE2A",E40C:"D83D,DE37",E11A:"D83D,DC7F",E10C:"D83D,DC7D",E32C:"D83D,DC9B",E32A:"D83D,DC99",E32D:"D83D,DC9C",E328:"D83D,DC97",E32B:"D83D,DC9A",E022:"2764",E023:"D83D,DC94",E327:"D83D,DC93",E329:"D83D,DC98",E32E:"2728",E335:"D83C,DF1F",E334:"D83D,DCA2",E337:"2755",E336:"2754",E13C:"D83D,DCA4",E330:"D83D,DCA8",E331:"D83D,DCA6",E326:"D83C,DFB6",E03E:"D83C,DFB5",E11D:"D83D,DD25",E05A:"D83D,DCA9",E00E:"D83D,DC4D",E421:"D83D,DC4E",E420:"D83D,DC4C",E00D:"D83D,DC4A",E010:"270A",E011:"270C",E41E:"D83D,DC4B",E012:"270B",E422:"D83D,DC50",E22E:"D83D,DC46",E22F:"D83D,DC47",E231:"D83D,DC49",E230:"D83D,DC48",E427:"D83D,DE4C",E41D:"D83D,DE4F",E00F:"261D",E41F:"D83D,DC4F",E14C:"D83D,DCAA",E201:"D83D,DEB6",E115:"D83C,DFC3",E428:"D83D,DC6B",E51F:"D83D,DC83",E429:"D83D,DC6F",E424:"D83D,DE46",E423:"D83D,DE45",E253:"D83D,DC81",E426:"D83D,DE47",E111:"D83D,DC8F",E425:"D83D,DC91",E31E:"D83D,DC86",E31F:"D83D,DC87",E31D:"D83D,DC85",E001:"D83D,DC66",E002:"D83D,DC67",E005:"D83D,DC69",E004:"D83D,DC68",E51A:"D83D,DC76",E519:"D83D,DC75",E518:"D83D,DC74",E515:"D83D,DC71",E516:"D83D,DC72",E517:"D83D,DC73",E51B:"D83D,DC77",E152:"D83D,DC6E",E04E:"D83D,DC7C",E51C:"D83D,DC78",E51E:"D83D,DC82",E11C:"D83D,DC80",E536:"D83D,DC63",E003:"D83D,DC8B",E41C:"D83D,DC44",E41B:"D83D,DC42",E419:"D83D,DC40",E41A:"D83D,DC43",E436:"D83C,DF8D",E437:"D83D,DC9D",E438:"D83C,DF8E",E43A:"D83C,DF92",E439:"D83C,DF93",E43B:"D83C,DF8F",E117:"D83C,DF86",E440:"D83C,DF87",E442:"D83C,DF90",E446:"D83C,DF91",E445:"D83C,DF83",E11B:"D83D,DC7B",E448:"D83C,DF85",E033:"D83C,DF84",E112:"D83C,DF81",E325:"D83D,DD14",E312:"D83C,DF89",E310:"D83C,DF88",E126:"D83D,DCBF",E127:"D83D,DCC0",E008:"D83D,DCF7",E03D:"D83C,DFA5",E00C:"D83D,DCBB",E12A:"D83D,DCFA",E00A:"D83D,DCF1",E00B:"D83D,DCE0",E009:"260E",E316:"D83D,DCBD",E129:"D83D,DCFC",E141:"D83D,DD0A",E142:"D83D,DCE2",E317:"D83D,DCE3",E128:"D83D,DCFB",E14B:"D83D,DCE1",E211:"27BF",E114:"D83D,DD0D",E145:"D83D,DD13",E144:"D83D,DD12",E03F:"D83D,DD11",E313:"2702",E116:"D83D,DD28",E10F:"D83D,DCA1",E104:"D83D,DCF2",E103:"D83D,DCE9",E101:"D83D,DCEB",E102:"D83D,DCEE",E13F:"D83D,DEC0",E140:"D83D,DEBD",E11F:"D83D,DCBA",E12F:"D83D,DCB0",E031:"D83D,DD31",E30E:"D83D,DEAC",E311:"D83D,DCA3",E113:"D83D,DD2B",E30F:"D83D,DC8A",E13B:"D83D,DC89",E42B:"D83C,DFC8",E42A:"D83C,DFC0",E018:"26BD",E016:"26BE",E015:"D83C,DFBE",E014:"26F3",E42C:"D83C,DFB1",E42D:"D83C,DFCA",E017:"D83C,DFC4",E013:"D83C,DFBF",E20E:"2660",E20C:"2665",E20F:"2663",E20D:"2666",E131:"D83C,DFC6",E12B:"D83D,DC7E",E130:"D83C,DFAF",E12D:"D83C,DC04",E324:"D83C,DFAC",E301:"D83D,DCDD",E148:"D83D,DCD6",E502:"D83C,DFA8",E03C:"D83C,DFA4",E30A:"D83C,DFA7",E042:"D83C,DFBA",E040:"D83C,DFB7",E041:"D83C,DFB8",E12C:"303D",E007:"D83D,DC5F",E31A:"D83D,DC61",E13E:"D83D,DC60",E31B:"D83D,DC62",E006:"D83D,DC55",E302:"D83D,DC54",E319:"D83D,DC57",E321:"D83D,DC58",E322:"D83D,DC59",E314:"D83C,DF80",E503:"D83C,DFA9",E10E:"D83D,DC51",E318:"D83D,DC52",E43C:"D83C,DF02",E11E:"D83D,DCBC",E323:"D83D,DC5C",E31C:"D83D,DC84",E034:"D83D,DC8D",E035:"D83D,DC8E",E045:"2615",E338:"D83C,DF75",E047:"D83C,DF7A",E30C:"D83C,DF7B",E044:"D83C,DF78",E30B:"D83C,DF76",E043:"D83C,DF74",E120:"D83C,DF54",E33B:"D83C,DF5F",E33F:"D83C,DF5D",E341:"D83C,DF5B",E34C:"D83C,DF71",E344:"D83C,DF63",E342:"D83C,DF59",E33D:"D83C,DF58",E33E:"D83C,DF5A",E340:"D83C,DF5C",E34D:"D83C,DF72",E339:"D83C,DF5E",E147:"D83C,DF73",E343:"D83C,DF62",E33C:"D83C,DF61",E33A:"D83C,DF66",E43F:"D83C,DF67",E34B:"D83C,DF82",E046:"D83C,DF70",E345:"D83C,DF4E",E346:"D83C,DF4A",E348:"D83C,DF49",E347:"D83C,DF53",E34A:"D83C,DF46",E349:"D83C,DF45",E04A:"2600",E04B:"2614",E049:"2601",E048:"26C4",E04C:"D83C,DF19",E13D:"26A1",E443:"D83C,DF00",E43E:"D83C,DF0A",E04F:"D83D,DC31",E052:"D83D,DC36",E053:"D83D,DC2D",E524:"D83D,DC39",E52C:"D83D,DC30",E52A:"D83D,DC3A",E531:"D83D,DC38",E050:"D83D,DC2F",E527:"D83D,DC28",E051:"D83D,DC3B",E10B:"D83D,DC37",E52B:"D83D,DC2E",E52F:"D83D,DC17",E109:"D83D,DC35",E528:"D83D,DC12",E01A:"D83D,DC34",E134:"D83D,DC0E",E530:"D83D,DC2B",E529:"D83D,DC11",E526:"D83D,DC18",E52D:"D83D,DC0D",E521:"D83D,DC26",E523:"D83D,DC24",E52E:"D83D,DC14",E055:"D83D,DC27",E525:"D83D,DC1B",E10A:"D83D,DC19",E522:"D83D,DC20",E019:"D83D,DC1F",E054:"D83D,DC33",E520:"D83D,DC2C",E306:"D83D,DC90",E030:"D83C,DF38",E304:"D83C,DF37",E110:"D83C,DF40",E032:"D83C,DF39",E305:"D83C,DF3B",E303:"D83C,DF3A",E118:"D83C,DF41",E447:"D83C,DF43",E119:"D83C,DF42",E307:"D83C,DF34",E308:"D83C,DF35",E444:"D83C,DF3E",E441:"D83D,DC1A",E21C:"31,20E3",E21D:"32,20E3",E21E:"33,20E3",E21F:"34,20E3",E220:"35,20E3",E221:"36,20E3",E222:"37,20E3",E223:"38,20E3",E224:"39,20E3",E225:"30,20E3",E210:"23,20E3",E232:"2B06",E233:"2B07",E235:"2B05",E234:"27A1",E236:"2197",E237:"2196",E238:"2198",E239:"2199",E23B:"25C0",E23A:"25B6",E23D:"23EA",E23C:"23E9",E24D:"D83C,DD97",E212:"D83C,DD95",E24C:"D83D,DD1D",E213:"D83C,DD99",E214:"D83C,DD92",E507:"D83C,DFA6",E203:"D83C,DE01",E20B:"D83D,DCF6",E22A:"D83C,DE35",E22B:"D83C,DE33",E226:"D83C,DE50",E227:"D83C,DE39",E22C:"D83C,DE2F",E22D:"D83C,DE3A",E215:"D83C,DE36",E216:"D83C,DE1A",E217:"D83C,DE37",E218:"D83C,DE38",E228:"D83C,DE02",E151:"D83D,DEBB",E138:"D83D,DEB9",E139:"D83D,DEBA",E13A:"D83D,DEBC",E208:"D83D,DEAD",E14F:"D83C,DD7F",E20A:"267F",E434:"D83D,DE87",E309:"D83D,DEBE",E315:"3299",E30D:"3297",E207:"D83D,DD1E",E229:"D83C,DD94",E206:"2733",E205:"2734",E204:"D83D,DC9F",E12E:"D83C,DD9A",E250:"D83D,DCF3",E251:"D83D,DCF4",E14A:"D83D,DCB9",E149:"D83D,DCB1",E23F:"2648",E240:"2649",E241:"264A",E242:"264B",E243:"264C",E244:"264D",E245:"264E",E246:"264F",E247:"2650",E248:"2651",E249:"2652",E24A:"2653",E24B:"26CE",E23E:"D83D,DD2F",E532:"D83C,DD70",E533:"D83C,DD71",E534:"D83C,DD8E",E535:"D83C,DD7E",E21A:"D83D,DD32",E219:"D83D,DD34",E21B:"D83D,DD33",E02F:"D83D,DD5B",E024:"D83D,DD50",E025:"D83D,DD51",E026:"D83D,DD52",E027:"D83D,DD53",E028:"D83D,DD54",E029:"D83D,DD55",E02A:"D83D,DD56",E02B:"D83D,DD57",E02C:"D83D,DD58",E02D:"D83D,DD59",E02E:"D83D,DD5A",E332:"2B55",E333:"274C",E24E:"A9",E24F:"AE",E537:"2122",E036:"D83C,DFE0",E157:"D83C,DFEB",E038:"D83C,DFE2",E153:"D83C,DFE3",E155:"D83C,DFE5",E14D:"D83C,DFE6",E156:"D83C,DFEA",E501:"D83C,DFE9",E158:"D83C,DFE8",E43D:"D83D,DC92",E037:"26EA",E504:"D83C,DFEC",E44A:"D83C,DF07",E146:"D83C,DF06",E154:"D83C,DFE7",E505:"D83C,DFEF",E506:"D83C,DFF0",E122:"26FA",E508:"D83C,DFED",E509:"D83D,DDFC",E03B:"D83D,DDFB",E04D:"D83C,DF04",E449:"D83C,DF05",E44B:"D83C,DF03",E51D:"D83D,DDFD",E44C:"D83C,DF08",E124:"D83C,DFA1",E121:"26F2",E433:"D83C,DFA2",E202:"D83D,DEA2",E135:"D83D,DEA4",E01C:"26F5",E01D:"2708",E10D:"D83D,DE80",E136:"D83D,DEB2",E42E:"D83D,DE99",E01B:"D83D,DE97",E15A:"D83D,DE95",E159:"D83D,DE8C",E432:"D83D,DE93",E430:"D83D,DE92",E431:"D83D,DE91",E42F:"D83D,DE9A",E01E:"D83D,DE83",E039:"D83D,DE89",E435:"D83D,DE84",E01F:"D83D,DE85",E125:"D83C,DFAB",E03A:"26FD",E14E:"D83D,DEA5",E252:"26A0",E137:"D83D,DEA7",E209:"D83D,DD30",E133:"D83C,DFB0",E150:"D83D,DE8F",E320:"D83D,DC88",E123:"2668",E132:"D83C,DFC1",E143:"D83C,DF8C",E50B:"D83C,DDEF,D83C,DDF5",E514:"D83C,DDF0,D83C,DDF7",E513:"D83C,DDE8,D83C,DDF3",E50C:"D83C,DDFA,D83C,DDF8",E50D:"D83C,DDEB,D83C,DDF7",E511:"D83C,DDEA,D83C,DDF8",E50F:"D83C,DDEE,D83C,DDF9",E512:"D83C,DDF7,D83C,DDFA",E510:"D83C,DDEC,D83C,DDE7",E50E:"D83C,DDE9,D83C,DDEA"};t(document).on("keyup","input,textarea",function(e,n){var o=t(this).val().trim(),s=o.substr(o.length-1),r="";for(i=0;i<s.length;i++)r=s.charCodeAt(i).toString(16);if(r=r.toUpperCase(),a[r]){var c="",l=[];for(l=a[r].split(","),i=0;i<l.length;i++)c+=String.fromCharCode(parseInt(l[i],16));o=t(this).val().replace(s,c),t(this).val(o)}})}if(t(document).on("keyup","textarea[placeholder]",function(){var e=t(this),i=e.attr("placeholder");""!=t(this).val()?e.attr({placeholder:"","placeholder-cache":i}):(i=e.attr("placeholder-cache"),e.attr({placeholder:i,"placeholder-cache":""}))}),t(document).on("click",".gene_cancel,.qlGbBg,.gene_close",function(){t(this).parents(".geneBox").hide()}),t(document).on("click",".qlMTBg,.qlMT_close,.qlMTBg,.qlMT_close2,.tlbtn_cancel",function(){t(this).parents(".qlMsgTips").hide()}),t(".selet_list").click(function(){t(".selet_list").removeClass("on")}),t("body").on("click",".btn_select",function(){var e=t(this).attr("name");t(".selet_list[name="+e+"]").addClass("on")}).on("click",".selet_list li",function(){var e=t(this).parents(".selet_list").attr("name");t(".btn_select[name="+e+"]").text(t(this).text())}),t(document).on("click",".bottom_box .cancel,.bottom_shade",function(){hideBottomBox()}),t(document).on("click",".btn_qlcheckbox",function(){if(!t(this).hasClass("disabled")){var e="";t(this).data("group")?(e=t(this).data("group"),t(".btn_qlcheckbox[data-group="+e+"]").removeClass("on"),t(this).addClass("on")):t(this).toggleClass("on")}}),t(document).on("click",".btn_qlradio",function(){t(this).parents(".qlradio_group").find(".btn_qlradio").removeClass("on"),t(this).parents(".qlradio_group").find(".qlradio_list").removeClass("on"),t(this).parents(".qlradio_list").addClass("on"),t(this).addClass("on")}),t(document).on("click",".qlradio_list",function(){t(this).parents(".qlradio_group").find(".btn_qlradio").removeClass("on"),t(this).parents(".qlradio_group").find(".qlradio_list").removeClass("on"),t(this).find(".btn_qlradio").addClass("on"),t(this).addClass("on")}),t(document).on("click",".qlSlBg,.qlSelectBox .selectUl li",function(){t(".qlSelectBox").hide()}),t(".qlbmibtn_closed").click(function(){t(this).parents(".ql_notice,.ql_notice_rem").hide()}),noticeClosedCheck(),t(".ql_notice_rem .qlbmibtn_closed").click(function(){noticeClosedList[t(this).parents(".ql_notice_rem").attr("attr-notice")]||(noticeClosedList[t(this).parents(".ql_notice_rem").attr("attr-notice")]=(new Date).getTime(),localStorage.setItem("noticeClosedList",JSON.stringify(noticeClosedList)))}),t(".longqr").length>0&&!isiOS()&&!isAndroid())for(var s=0;s<t(".longqr").length;s++)t(".longqr").eq(s).html(t(".longqr").eq(s).html().replace("长按","扫描"));t(document).on("click",".toTopBtn",function(){function e(){t(".toTopBtn").hide()}t(".main_box_1").length>0?t(".main_box_1").animate({scrollTop:"0"},300,e):t(".main_box_2").length>0?t(".main_box_2").animate({scrollTop:"0"},300,e):t(".main_box_3").length>0?t(".main_box_3").animate({scrollTop:"0"},300,e):t(".main_box_4").length>0&&t(".main_box_4").animate({scrollTop:"0"},300,e)}),t(".main_box_1,.main_box_2,.main_box_3,.main_box_4").scroll(function(){distanceScroll=t(this)[0].scrollTop,distanceScroll>20?t(".toTopBtn").show():t(".toTopBtn").hide()}),t(".start_bar .s_item").click(function(){t(this).addClass("on").siblings(".s_item").removeClass("on");var e=t(this).index(".s_item")+1;switch(e){case 1:t(".feeback_word").html("完全未解决");break;case 2:t(".feeback_word").html("未解决");break;case 3:t(".feeback_word").html("回答一般");break;case 4:t(".feeback_word").html("基本解决");break;case 5:t(".feeback_word").html("很好");break;default:t(".feeback_word").html("尚未评分")}t(this).parents(".start_bar").removeClass("sc_1 sc_2 sc_3 sc_4 sc_5").addClass("sc_"+e)}),t(".ticketPush").click(function(){t(".pushBox").data("thistopicid",t(this).data("thistopicid")),qlSlBoxShow(".pushBox")}),t(document).on("click",".pushBox .push-to-timeline .goto-tuto",function(t){t.stopPropagation(),location.href="https://mp.weixin.qq.com/s/nQWzLse4FITW91B_wpDYDQ"});t(document).on("click",".pushBox .tlbtn_confirm",function(){var e=Number(t(".push_top .num var").html())-1,i=t(".pushBox").data("thistopicid"),n=t(".pushBox .push-to-timeline").hasClass("checked")?"Y":"N";e<0?alertMsg("无剩余推送次数"):(t(".pushBox").hide(),hideBottomBox(".topicMenu"),setTimeout(function(){location.href="/wechat/page/course/push/topic/"+i+"?sync="+n+"&liveId="+liveId},50))}),t(document).on("click",".pushBox .push-to-timeline",function(){t(this).toggleClass("checked")}),t(".qlchat-modal .qlchat-modal-bg").click(function(){t(this).parents(".qlchat-modal").hide()}),t(document).on("click",".gifShadow",function(){var e=t(this),i=e.next(),n=i.attr("src").replace(/@.*/,"");i.attr("src",n),e.remove()}),t(".auto_height").keydown(function(){var e=t(this),i=e.attr("attr-minHeight");e.css("height",i+"px");var n=e[0].scrollHeight;e.css("height",n+"px"),setTimeout(function(){var t=e[0].scrollHeight;t!=i&&e.css("height",t+"px")},5)})});