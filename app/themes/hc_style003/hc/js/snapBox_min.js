var snapBox=(function(){var d="ontouchstart" in window;var b=function(h,f){var g=this;g.width=240;if(f){for(var e in f){g[e]=f[e]}}g.slide_wrap=document.getElementById(h);g.slide_ul=g.slide_wrap.querySelectorAll(".slide_ul")[0];g.slide_ol=g.slide_ul.querySelectorAll(".slide_ol")[0];g.slide_ols=null;g.slide_lis=g.slide_ol.querySelectorAll("li");g.length=g.slide_lis.length;g.curIndex=0;g.start={x:0,y:0};g.end={x:0,y:0};g.cur={x:0,y:0};return g};b.prototype={constructor:b,init:function(){var e=this;if(e.length<=1){return}e.cur.x=-e.length*e.width;e.slide_ul.appendChild(e.slide_ol.cloneNode(true));e.slide_ul.appendChild(e.slide_ol.cloneNode(true));c(e.slide_ul,"-webkit-transform:translate3d("+e.cur.x+"px,0,0);");a(e.slide_wrap,[d?"touchstart":"mousedown","webkitTransitionEnd"],e,true);return e},handleEvent:function(f){var h=this,i;f.touches=f.touches?f.touches[0]:[f];i=f.touches[0];switch(f.type){case"touchstart":case"mousedown":if(h.moving){return}h.start={x:i.pageX,y:i.pageY};a(h.slide_wrap,d?["touchmove","touchend"]:["mousemove","mouseup","mouseleave"],h,true);break;case"touchmove":case"mousemove":h.end={x:i.pageX,y:i.pageY};if(!navigator.userAgent.match(/Android/i)){var e=h.moving||(function(k,j){switch(true){case Math.abs(j.x-k.x)<15&&Math.abs(j.y-k.y)<15:return false;break;case Math.abs(j.x-k.x)<Math.abs(j.y-k.y):a(h.slide_wrap,d?["touchmove","touchend"]:["mousemove","mouseup","mouseleave"],h,false);return false;break;default:h.moving=true;return true;break}})(h.start,h.end);if(!e){return h}}h.moving=true;f.preventDefault();switch(true){case h.start.x-h.end.x>100:h.curIndex-=1;h.handleEvent(h.handleEvent({type:"touchend"}));return h;break;case h.start.x-h.end.x<-100:h.curIndex+=1;h.handleEvent(h.handleEvent({type:"touchend"}));return h;break;default:break}var g=h.width*(h.curIndex-h.length)+h.end.x-h.start.x;c(h.slide_ul,"-webkit-transform:translate3d("+g+"px,0,0);");break;case"touchend":case"mouseup":case"mouseleave":c(h.slide_ul,"-webkit-transition:-webkit-transform .3s ease-out;-webkit-transform:translate3d("+h.width*(h.curIndex-h.length)+"px,0,0);");a(h.slide_wrap,d?["touchmove","touchend"]:["mousemove","mouseup","mouseleave"],h,false);h.curIndex=h.curIndex%h.length;if(1==h.curIndex){h.curIndex=1-h.length}h.snapStart&&h.snapStart.call(h);break;case"webkitTransitionEnd":h.moving=false;c(h.slide_ul,"-webkit-transition:-webkit-transform 0s ease-in;-webkit-transform:translate3d("+h.width*(h.curIndex-h.length)+"px,0,0);");h.snapEnd&&h.snapEnd.call(h);break}return h},go:function(f,h){var g=this;g.curIndex=-Math.abs(f);g.curIndex=g.curIndex%g.length;if(1==g.curIndex){g.curIndex=1-g.length}var e={type:"webkitTransitionEnd"};h?g.handleEvent(g.handleEvent({type:"touchend"})):(g.handleEvent(e));return g},next:function(e){return this.go(--this.curIndex,e)},prev:function(e){return this.go(++this.curIndex,e)}};function a(e,g,j,f){for(var h in g){e[f?"addEventListener":"removeEventListener"](g[h],j,false)}}function c(e,f){e.setAttribute("style",f)}return b})();