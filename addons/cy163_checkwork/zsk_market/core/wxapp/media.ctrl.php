<?php
 class Media extends ZskWxapp { public function uploadPic() { goto XN9Iz; LNP8h: $filename = md5($_FILES["\x70\151\143\x74\x75\x72\x65"]["\x6e\x61\x6d\x65"] . time()) . "\56\x70\156\147"; goto EE8Me; FPo2e: sXQMW: goto oe1YL; MwWFS: if (is_dir($route)) { goto sXQMW; } goto bZPf4; K6BSD: $mode = 0777; goto MwWFS; oe1YL: if (!is_dir($route)) { goto ggOp3; } goto zlYGw; EE8Me: $route = ZSK_PATH . "\x2f\x61\x74\x74\141\x63\150\x6d\145\x6e\164\57\x69\155\141\x67\145\x73\57" . $_W["\x75\x6e\x69\x61\x63\x69\144"] . "\x2f"; goto VYCxs; XN9Iz: global $_W, $_GPC; goto LNP8h; aTDGl: VPm1h: goto Mdm0Y; mkIr2: if (!$stat) { goto VPm1h; } goto Zw2Vp; zlYGw: $stat = move_uploaded_file($_FILES["\160\151\143\164\165\162\145"]["\x74\155\x70\x5f\156\141\x6d\145"], $route . $filename); goto ekqhE; VYCxs: $imageval = "\x69\x6d\141\x67\145\163\57" . $_W["\165\156\151\x61\143\151\x64"] . "\57" . $filename; goto K6BSD; Zw2Vp: $path = $imageval; goto V9KQh; bZPf4: $s = mkdir($route, $mode, true); goto FPo2e; ekqhE: ggOp3: goto mkIr2; V9KQh: echo trim($path); goto aTDGl; Mdm0Y: } public function uploadVideo() { goto Qi3tr; vyaXl: if (!($res["\145\162\x72\156\157"] == "\55\x33")) { goto JwW8F; } goto Gz8AP; p5cbB: $s = mkdir($route, $mode, true); goto NeUiD; ftdWe: $imageval = "\166\x69\x64\x65\157\x2f" . $_W["\x75\x6e\x69\x61\x63\x69\144"] . "\57" . $filename; goto LFNsO; Qi3tr: global $_W, $_GPC; goto J1Dgf; NeUiD: nKBXI: goto cbajA; cbajA: if (!is_dir($route)) { goto CvMXS; } goto PaOLl; LFNsO: $mode = 0777; goto Sb9fb; W7o7T: $res = $imageval; goto ZfwxE; C_SAW: JwW8F: goto JRjfh; JRjfh: echo JSON_OUT($res); goto KsLNs; Sb9fb: if (is_dir($route)) { goto nKBXI; } goto p5cbB; Gz8AP: $res["\x65\x72\162\x6f\162"] = "\344\270\x8d\xe5\x85\201\xe8\xae\270\xe4\xb8\212\xe4\274\240\xe7\x9a\204\346\x96\207\xe4\273\xb6\347\xb1\273\345\x9e\213"; goto C_SAW; J1Dgf: $filename = md5($_FILES["\x66\x69\x6c\x65"]["\156\x61\x6d\145"] . time()) . "\x2e\x70\x6e\147"; goto A_nDx; PaOLl: $stat = move_uploaded_file($_FILES["\146\151\154\x65"]["\164\x6d\x70\x5f\156\141\x6d\x65"], $route . $filename); goto A4FMQ; A4FMQ: CvMXS: goto W7o7T; A_nDx: $route = ZSK_PATH . "\x2f\141\164\164\141\x63\150\155\x65\156\x74\57\166\151\144\x65\157\x2f" . $_W["\x75\156\x69\x61\x63\151\144"] . "\57"; goto ftdWe; ZfwxE: $res["\x69\x6e\x64\145\170"] = $_GPC["\x69\x6e\144\145\170"]; goto vyaXl; KsLNs: } public function getAgentShare() { goto SOhZw; xuevC: return array("\x65\x72\x72\x6e\x6f" => 1, "\145\162\162\x6d\163\x67" => "\xe6\x8e\xa8\xe5\271\xbf\xe7\240\x81\351\224\231\xe8\xaf\xaf"); goto ufeBf; iL1TD: echo $qrcode; goto FcB8y; s0Ll3: nURG3: goto Jx8V7; RulQn: $agent = Model("\141\147\145\x6e\x74")->where(array("\x63\x6f\x64\x65" => $code))->get(); goto at_1w; HQhKK: if (!(intval($setting["\167\170\x61\160\x70\x5f\x6c\x61\x79\x6f\x75\x74"]["\141\x67\145\156\x74\137\x68\x61\x69\x62\x61\157"]["\151\x73\x5f\x68\171\x61\154\x69\x6e\145"]) > 0)) { goto xfYj0; } goto ElP8o; FblVK: if (!(intval($qrcode["\x65\x72\x72\143\x6f\144\x65"]) == 40001)) { goto nURG3; } goto adATK; FAILU: $json = "\173\x20\xd\12\x9\x9\11\42\160\x61\x74\150\x22\x3a\x22\x7a\x73\153\x5f\x6d\141\162\153\145\x74\57\160\x61\x67\145\163\57\x69\x6e\x64\145\x78\x2f\x68\157\x6d\x65\77\x61\x67\x65\x6e\x74\143\157\x64\145\x3d" . $code . "\42\x2c\xd\xa\x9\11\x9\42\x77\x69\x64\164\150\42\72\62\60\x30\54\xd\xa\x9\11\x9\x22\x69\163\x5f\x68\171\x61\154\151\156\145\x22\72" . $hy . "\15\12\x9\11\x7d"; goto VgMx7; HX1Sk: $qrcode = CURL_image($url, $json, false); goto s0Ll3; fnNJM: $tk = $wxjs->getToken(); goto uLdqr; VgMx7: $qrcode = CURL_image($url, $json, false); goto FblVK; ElP8o: $hy = "\x74\162\x75\145"; goto D77cK; adATK: $tk = $wxjs->getToken(true); goto GoiYq; D77cK: xfYj0: goto w2itu; ufeBf: yY2tl: goto wiwLu; w2itu: $url = "\150\x74\x74\x70\163\x3a\x2f\57\x61\160\x69\x2e\167\x65\x69\x78\151\x6e\56\x71\x71\x2e\143\157\x6d\57\x77\170\x61\x2f\x67\x65\x74\x77\x78\x61\143\157\144\145\77\x61\x63\143\x65\x73\x73\x5f\x74\x6f\x6b\145\156\x3d" . $tk["\x61\143\143\x65\x73\163\137\x74\x6f\x6b\x65\x6e"]; goto FAILU; GoiYq: $url = "\x68\x74\164\x70\163\72\x2f\57\141\x70\151\56\x77\x65\151\170\151\x6e\56\161\x71\x2e\x63\157\155\x2f\x77\170\141\x2f\x67\145\164\x77\170\141\143\x6f\144\x65\77\141\x63\143\145\163\x73\137\x74\157\x6b\x65\x6e\x3d" . $tk["\141\x63\143\x65\x73\x73\x5f\164\157\x6b\145\156"]; goto HX1Sk; imZKd: header("\x43\x6f\x6e\164\x65\x6e\x74\x2d\x74\171\x70\x65\72\x20\x69\155\x61\x67\x65\x2f\x70\156\147"); goto iL1TD; SOhZw: global $_W, $_GPC; goto wwzeD; sgBns: $wxjs = new WeixinJS($setting["\x61\x70\160\x69\x64"], $setting["\163\145\x63\162\145\x74"]); goto fnNJM; wwzeD: $code = intval($_GPC["\141\147\145\x6e\x74\143\x6f\x64\145"]); goto RulQn; at_1w: if (!empty($agent)) { goto yY2tl; } goto xuevC; wiwLu: $setting = getSetting(); goto sgBns; uLdqr: $hy = "\146\x61\154\x73\x65"; goto HQhKK; Jx8V7: ob_end_clean(); goto imZKd; FcB8y: } public function createQrCode() { goto QQyZW; iqT2x: $token = $js->getToken(); goto YFKW2; rycF7: echo json_encode($result); goto MCpmb; YFKW2: $url = "\150\x74\164\160\163\x3a\x2f\x2f\x61\x70\151\x2e\x77\145\151\170\151\x6e\x2e\x71\161\x2e\x63\157\155\x2f\x77\170\141\x2f\147\145\164\x77\x78\141\143\157\144\145\77\x61\x63\x63\x65\163\x73\x5f\x74\x6f\153\145\x6e\x3d" . $token["\x61\x63\x63\x65\163\x73\137\x74\157\153\x65\156"]; goto TWwPc; AkAdY: $js = new WeixinJS($setting["\141\x70\160\151\144"], $setting["\x73\x65\143\162\x65\x74"]); goto iqT2x; TWwPc: $data = "\173\xd\12\x9\x9\x9\x22\x73\x63\145\156\145\x22\72\42" . $_GPC["\x65\170\164\162\x61"] . "\42\x2c\15\xa\11\x9\x9\x22\x70\x61\x67\x65\42\x3a\42" . $path . "\42\54\xd\xa\11\x9\11\x22\x77\x69\x64\x74\x68\x22\72\62\60\x30\x2c\xd\12\x9\11\x9\42\x69\163\x5f\x68\171\x61\154\151\x6e\145\42\72\164\162\165\145\15\12\11\11\x7d"; goto kvYCR; z9FcG: $setting = getSetting(); goto AkAdY; QQyZW: global $_W, $_GPC; goto ky0vC; ky0vC: $path = trim($_GPC["\160\x61\x67\x65"]); goto z9FcG; kvYCR: $result = CURL_image($url, $data); goto rycF7; MCpmb: } public function getKanjiaQrPicture() { goto G0wSS; Nds1l: $setting = getSetting(); goto LK6mq; rGM7z: echo $result; goto m1dvk; O7gAu: $data = "\x7b\xd\xa\x9\11\11\42\163\143\145\156\145\x22\72\x22" . $_GPC["\x65\170\x74\x72\141"] . "\42\54\15\xa\11\x9\x9\x22\160\141\147\x65\x22\x3a\x22\172\x73\x6b\x5f\x6d\141\x72\153\145\x74\x2f\x70\141\147\145\x73\57\144\x65\164\x61\x69\154\163\x2f\x6b\141\156\x6a\x69\141\42\54\15\xa\11\11\11\42\x77\151\x64\164\x68\42\x3a\x32\x30\60\15\xa\11\11\175"; goto MrNFF; FgG5g: $url = "\x68\x74\x74\x70\163\x3a\57\x2f\141\160\151\56\167\x65\151\170\x69\156\56\161\161\56\143\157\x6d\57\167\170\141\57\x67\145\164\x77\x78\x61\143\157\x64\x65\x75\156\x6c\x69\155\151\x74\77\x61\x63\143\x65\163\163\x5f\164\157\153\145\156\x3d" . $token["\141\x63\143\x65\x73\x73\137\x74\x6f\x6b\x65\x6e"]; goto O7gAu; bU507: $token = $js->getToken(true); goto FgG5g; TEut7: ob_end_clean(); goto xCrZ4; G0wSS: global $_W, $_GPC; goto ZQuNm; xCrZ4: header("\103\157\156\164\x65\156\x74\x2d\x74\171\160\x65\x3a\x20\x69\155\x61\147\x65\57\x70\x6e\147"); goto rGM7z; MrNFF: $result = CURL_image($url, $data, false); goto TEut7; ZQuNm: $path = trim($_GPC["\x70\141\x67\x65"]); goto Nds1l; LK6mq: $js = new WeixinJS($setting["\x61\x70\x70\151\x64"], $setting["\x73\x65\x63\x72\x65\x74"]); goto bU507; m1dvk: } public function miaoshaShareQR() { goto EOU3E; VrtHW: $data = "\173\xd\12\11\11\x9\42\x73\143\x65\156\145\42\x3a\42" . $_GPC["\145\170\x74\162\141"] . "\x22\54\15\12\x9\11\x9\x22\160\141\147\145\42\72\42\x7a\x73\x6b\x5f\155\141\x72\x6b\x65\x74\x2f\x70\x61\x67\x65\163\x2f\x64\145\x74\141\x69\154\163\57\x6d\x69\x61\x6f\163\x68\x61\x22\54\xd\xa\x9\x9\x9\x22\x77\x69\144\x74\150\x22\x3a\62\60\60\15\xa\11\x9\175"; goto Lm_O6; EOU3E: global $_W, $_GPC; goto HqVBp; QZ2NX: $js = new WeixinJS($setting["\141\x70\x70\x69\144"], $setting["\x73\145\143\x72\x65\x74"]); goto cxP6b; VOjfC: header("\103\157\x6e\x74\145\x6e\164\x2d\x74\x79\x70\x65\72\40\x69\155\x61\147\145\57\x70\x6e\147"); goto X6Ly5; cxP6b: $token = $js->getToken(true); goto o5iCk; HqVBp: $path = trim($_GPC["\160\x61\x67\145"]); goto FtGhD; X6Ly5: echo $result; goto vekAl; Lm_O6: $result = CURL_image($url, $data, false); goto Zb8Rl; o5iCk: $url = "\150\164\164\160\163\x3a\57\57\141\160\x69\56\x77\x65\151\x78\151\x6e\56\x71\161\x2e\x63\157\x6d\57\167\170\141\x2f\147\x65\164\x77\170\141\143\x6f\x64\145\x75\156\154\x69\x6d\151\x74\77\x61\143\x63\145\x73\x73\x5f\x74\157\153\145\x6e\75" . $token["\x61\143\x63\x65\163\163\137\164\157\x6b\x65\x6e"]; goto VrtHW; FtGhD: $setting = getSetting(); goto QZ2NX; Zb8Rl: ob_end_clean(); goto VOjfC; vekAl: } public function goodsShareQR() { goto Xo53d; H0WO_: $js = new WeixinJS($setting["\x61\160\160\x69\144"], $setting["\163\145\x63\x72\x65\164"]); goto KziuN; mQImG: $result = CURL_image($url, $data, false); goto yPukv; eNV7U: $path = trim($_GPC["\160\141\147\x65"]); goto whsAH; Xo53d: global $_W, $_GPC; goto eNV7U; A9CzZ: $data = "\x7b\xd\12\x9\x9\x9\42\x73\143\145\x6e\x65\42\x3a\x22" . $extra . "\x22\54\xd\xa\11\11\x9\42\x70\141\x67\x65\42\72\42\172\163\x6b\137\155\x61\162\153\145\164\57\160\141\x67\x65\163\57\144\145\x74\x61\x69\x6c\x73\57\151\x6e\144\x65\170\x22\54\xd\xa\11\x9\x9\x22\x77\x69\144\164\150\42\x3a\62\x30\60\40\xd\xa\x9\11\175"; goto mQImG; v48P4: $extra = $_GPC["\145\x78\x74\162\x61"]; goto zZf70; YBFEC: header("\103\x6f\156\x74\145\156\164\x2d\164\171\x70\145\x3a\x20\x69\155\x61\147\145\x2f\160\x6e\x67"); goto gulRg; gulRg: echo $result; goto fUnRx; zZf70: $url = "\x68\164\164\x70\x73\x3a\x2f\x2f\x61\160\x69\56\x77\x65\151\x78\151\156\56\161\x71\x2e\x63\x6f\x6d\x2f\x77\x78\x61\x2f\147\145\164\167\x78\141\x63\x6f\x64\x65\165\x6e\x6c\x69\x6d\x69\164\77\141\x63\143\145\x73\163\137\x74\x6f\x6b\x65\x6e\75" . $token["\141\x63\143\145\163\163\x5f\164\157\x6b\x65\x6e"]; goto A9CzZ; whsAH: $setting = getSetting(); goto H0WO_; KziuN: $token = $js->getToken(true); goto v48P4; yPukv: ob_end_clean(); goto YBFEC; fUnRx: } public function pintuanShareQR() { goto NeQEu; KiWw3: $setting = getSetting(); goto D7WG3; Aa9v_: $url = "\x68\x74\164\160\x73\72\57\x2f\x61\x70\x69\56\167\145\151\170\x69\156\56\161\161\x2e\x63\x6f\x6d\x2f\167\170\141\x2f\x67\145\x74\x77\170\141\x63\x6f\144\145\x75\156\x6c\151\x6d\151\164\x3f\141\x63\x63\145\163\163\137\x74\x6f\x6b\145\x6e\x3d" . $token["\141\143\143\x65\163\x73\137\x74\157\153\x65\x6e"]; goto AQnPs; Hunr3: echo $result; goto ISN42; NeQEu: global $_W, $_GPC; goto T_Zrb; T_Zrb: $path = trim($_GPC["\160\x61\147\x65"]); goto KiWw3; D7WG3: $js = new WeixinJS($setting["\141\x70\x70\x69\x64"], $setting["\x73\145\143\162\145\x74"]); goto DxbCp; HezMv: $result = CURL_image($url, $data, false); goto tghad; AQnPs: $data = "\x7b\15\xa\x9\11\11\42\x73\143\x65\x6e\x65\42\x3a\42" . $_GPC["\145\x78\x74\x72\x61"] . "\42\54\15\xa\11\x9\x9\x22\160\x61\147\145\42\72\x22\x7a\163\x6b\x5f\155\141\162\153\x65\x74\57\x70\141\x67\x65\x73\x2f\144\145\x74\141\151\x6c\x73\x2f\160\151\156\164\x75\141\156\x22\54\15\xa\x9\11\x9\x22\167\151\144\164\150\42\x3a\x32\x30\x30\40\xd\12\x9\x9\175"; goto HezMv; tghad: ob_end_clean(); goto jtD1R; DxbCp: $token = $js->getToken(true); goto Aa9v_; jtD1R: header("\103\157\x6e\164\x65\156\x74\55\164\x79\x70\145\x3a\40\x69\x6d\141\147\x65\x2f\x70\156\147"); goto Hunr3; ISN42: } public function uploadFind() { goto SzNpM; u0Sod: ifmnz: goto nKlN4; djGPn: $model = Model("\x66\x69\156\144"); goto hmPjM; rB3vl: echo json_encode(array("\x73\x74\163" => $mid)); goto mGwmx; WclFM: $mood["\160\151\143\164\165\x72\145\x73"] = substr($_GPC["\x70\151\x63\163\x74\x72"], 0, strlen($_GPC["\x70\x69\143\163\164\162"]) - 1); goto u0Sod; UyxTj: if (!(strlen($_GPC["\160\x69\143\163\x74\162"]) > 5)) { goto ifmnz; } goto WclFM; hmPjM: $mood = array("\163\x68\x6f\160\151\x64" => intval($_GPC["\163\x68\x6f\160\151\144"]), "\165\156\x69\141\x63\x69\x64" => $uniacid, "\157\160\145\156\151\144" => $_GPC["\157\x70\145\x6e\x69\x64"], "\x63\x6f\x6e\x74\145\x6e\164" => $_GPC["\155\x6f\x6f\144\x73\164\x72"], "\x74\x79\160\x65" => 1, "\x73\x74\141\164\165\x73" => 1, "\x67\x6f\157\144\163\151\x64" => intval($_GPC["\x67\x6f\157\144\163\151\144"]), "\x63\x72\145\x61\x74\x65\164\151\x6d\x65" => date("\x59\55\x6d\55\144\x20\x48\x3a\x69\72\x73", time())); goto UyxTj; nKlN4: $mid = $model->add($mood); goto rB3vl; SzNpM: global $_W, $_GPC; goto CqqgQ; CqqgQ: $uniacid = intval($_W["\165\156\x69\141\x63\x69\144"]); goto djGPn; mGwmx: } public function downloadImage() { goto PZSoI; yrFUd: echo $result; goto anrdV; UbC_j: $result = CURL_image($url, $data, false); goto rqdqp; rqdqp: ob_end_clean(); goto i7Yox; PZSoI: global $_W, $_GPC; goto Cgijj; Cgijj: $url = urldecode($_GPC["\160\141\164\150"]); goto UbC_j; i7Yox: header("\103\157\x6e\x74\145\x6e\164\x2d\164\x79\160\145\x3a\40\151\155\x61\147\x65\57\x70\156\147"); goto yrFUd; anrdV: } }