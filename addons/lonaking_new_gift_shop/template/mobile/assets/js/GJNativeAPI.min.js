+function(){function a(a){window.console.log("javascript -> native: "+JSON.stringify(a)),window.GJNativeAPI.send(JSON.stringify(a))}function b(b){var c=f[b.method];return c?void setTimeout(function(){try{c(b.params,function(c,d){b.id&&a(c?{jsonrpc:"2.0",error:{code:c.code,message:c.message},id:b.id}:{jsonrpc:"2.0",result:d,id:b.id})})}catch(d){a({jsonrpc:"2.0",error:{code:d.code||-32e3,message:d.message},id:b.id})}},0):void a({jsonrpc:"2.0",error:e.METHOD_NOT_FOUND,id:b.id||null})}function c(a){var b=g[a.id];g[a.id]=null,b&&setTimeout(function(){b(a.error||null,a.result)},0)}function d(a){try{a=JSON.parse(a)}catch(b){return}a.id&&c({jsonrpc:"2.0",error:e.INTERNAL_ERROR,id:a.id})}var e={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},INTERNAL_ERROR:{code:-32603,message:"Internal error"}},f={},g={},h=1,i=!0;window.GJNativeAPI=window.GJNativeAPI||{},window.GJNativeAPI.send||!function(){var a=[];if(/ganji_\d*/.test(window.navigator.userAgent)){var b=setTimeout(function(){a.forEach(d),window.GJNativeAPI.send=d},3e3);return document.addEventListener("WebViewJavascriptBridgeReady",function(){clearTimeout(b),setTimeout(function(){a.forEach(window.GJNativeAPI.send)},10)},!1),void(window.GJNativeAPI.send=function(b){a.push(b)})}i=!1,window.GJNativeAPI.send=d}(),window.GJNativeAPI.onMessage=function(d){window.console.log("native -> javascript: "+d);try{d=JSON.parse(d)}catch(f){return a({jsonrpc:"2.0",error:e.PARSE_ERROR,id:null})}d.method?b(d):d.id&&c(d)},window.GJNativeAPI.registerHandler=function(a,b){f[a]=b},window.GJNativeAPI.invoke=function(b,c,d){var e,f={jsonrpc:"2.0",method:b,params:c};d&&(e="jsonp_"+h,h++,g[e]=d,f.id=e),a(f)},window.GJNativeAPI.isSupport=function(){return i},Object.keys(e).forEach(function(a){window.GJNativeAPI[a]=e[a]})}();