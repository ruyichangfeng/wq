<?php
 class MyorderController extends MobileBaseController { public $size = 7; public function index() { goto ZW0to; jDzJo: $this->display(); goto Wk9A4; Xtjku: $this->data["\146\x61\163\164\x5f\155\x65\x6e\x75"] = false; goto WlxXe; WlxXe: $this->assign($this->data); goto jDzJo; ZW0to: $this->getParams(); goto Xtjku; Wk9A4: } public function more() { $this->getData(); $this->ajaxReturn(0, '', $this->data); } private function getData() { goto YLsM7; G7CQj: $this->data["\164\x79\160\145"] = $type; goto P63J8; pXsxM: foreach ($list as $de) { $this->data["\154\x69\163\164"][] = $de; FI35u: } goto NCIK6; JvSy0: $type = "\141\154\154"; goto rc2g9; YLsM7: $type = trim($this->GPC["\x74\171\x70\x65"]); goto D9e4e; fNS3k: goto op0mT; goto iZkSH; N3Oar: $detail = $this->OrderDetailModel->getList(["\157\x72\144\145\162\x5f\x69\144" => $order_ids], ["\x67\x6f\157\144\163\137\151\x64", "\157\x72\x64\145\x72\x5f\x69\144", "\x61\x6d\157\x75\x6e\164", "\164\151\164\154\x65", "\160\x72\151\143\145", "\164\x68\165\x6d\142", "\x74\x79\x70\145\x5f\x74\151\164\x6c\x65", "\147\157\157\144\163\x74\x79\160\145", "\162\x65\155\141\x72\x6b"]); goto eUVfj; Q5wvM: $list = $this->arrayIndex($list, "\151\x64"); goto bHpdU; IdUT0: $this->data["\155\157\x72\145"] = true; goto q17uv; iZkSH: RtYwd: goto yZGc6; OK03T: l_dkG: goto B9OuD; bHmjR: if ($type == "\165\x6e\x72\145\x63\x65\x69\166\x65") { goto RtYwd; } goto JvSy0; yZGc6: $where["\x73\164\141\164\165\163"] = [1, 2]; goto Tggsk; Cq_Zw: zMcAe: goto u6A3r; B9OuD: $this->data["\160\141\x67\145"] = $page + 1; goto G7CQj; NCIK6: sknRe: goto Z1ODQ; Y_iIQ: ws_92: goto OK03T; QJwIz: $this->data["\155\157\x72\x65"] = false; goto EwlHz; ZYDCz: if (!$order_ids) { goto l_dkG; } goto N3Oar; CTPk_: S4LsL: goto ZYDCz; olTLX: $where["\x6d\145\155\142\145\162\x69\144"] = $this->uid; goto IdUT0; jmaFN: $list = $this->OrderModel->getList($where, ["\145\170\x70\162\x65\x73\163\x73\156", "\145\170\x70\x72\145\163\163\143\x6f\155", "\151\x64", "\157\162\x64\x65\162\163\x6e", "\x74\x6f\164\x61\x6c", "\x6f\x72\x64\x65\x72\x70\x72\x69\x63\145", "\163\x74\141\x74\x75\x73", "\163\x70\x65\x63\151\141\154"], ["\151\x64\40\x64\x65\163\143"], [$page, $this->size]); goto Q5wvM; q17uv: $order_ids = []; goto jmaFN; u6A3r: $where["\163\x74\141\164\x75\163"] = 0; goto fNS3k; Tggsk: op0mT: goto olTLX; foVak: $page = $page ? $page : 1; goto Pe2t1; EwlHz: C8jZz: goto UtqJp; Pe2t1: if ($type == "\165\156\160\141\x79") { goto zMcAe; } goto bHmjR; eUVfj: foreach ($detail as $item) { goto tXbZK; tXbZK: $item["\x74\x68\165\155\x62"] = formatArrImage($item["\164\x68\165\x6d\142"]); goto JI5pY; JI5pY: $item["\x75\162\154"] = $this->createMobileUrl("\x67\x6f\157\144\163", array("\147\x6f\x6f\x64\163\137\x69\144" => $item["\x67\x6f\x6f\x64\163\137\151\x64"])); goto f6nB2; f6nB2: $list[$item["\157\x72\144\145\162\137\x69\x64"]]["\144\145\164\x61\x69\154"][] = $item; goto GQcZF; GQcZF: yFh5x: goto l54Uu; l54Uu: } goto Y_iIQ; rc2g9: goto op0mT; goto Cq_Zw; D9e4e: $page = intval($this->GPC["\160\141\x67\x65"]); goto foVak; P63J8: $this->data["\x6c\151\163\x74"] = []; goto pXsxM; bHpdU: if (!(count($list) < $this->size)) { goto C8jZz; } goto QJwIz; UtqJp: foreach ($list as &$value) { goto yQnIk; QxvmN: if (!($list["\x73\164\x61\164\165\x73"] == 0)) { goto Tc3OY; } goto X88Tu; X88Tu: $value["\160\141\x79\x5f\165\x72\154"] = $this->createMobileUrl("\143\x6f\x6e\x66\x69\x72\x6d\x6f\x72\144\145\x72", ["\x6f\162\144\x65\x72\x5f\x69\x64" => $value["\x69\x64"]]); goto dc9OB; dc9OB: Tc3OY: goto PDaxa; yQnIk: $value["\143\157\155\155\145\x6e\164"] = $value["\x73\160\145\143\x69\x61\x6c"] & self::$ORDER_SPECIAL["\x63\157\155\155\x65\156\x74"]; goto QxvmN; PDaxa: $order_ids[] = $value["\x69\144"]; goto NBA6X; NBA6X: ipfOk: goto GhKj_; GhKj_: } goto CTPk_; Z1ODQ: } private function getParams() { goto YElyP; A_SK_: $where["\163\x74\141\164\x75\x73"] = [1, 2]; goto bB2f0; cEf6b: $this->data["\x74\171\x70\x65"] = $type; goto x0s7r; KwbEg: fqesL: goto IVlBo; R1lk9: goto vS4zD; goto KwbEg; jvIn7: if ($type == "\x75\156\160\x61\171") { goto fqesL; } goto aG1XG; XHRk_: goto vS4zD; goto ffwPh; bB2f0: vS4zD: goto cEf6b; aG1XG: if ($type == "\165\x6e\x72\145\x63\x65\x69\166\x65") { goto O2H22; } goto EiPMu; ffwPh: O2H22: goto A_SK_; YElyP: $type = trim($this->GPC["\164\x79\x70\x65"]); goto jvIn7; EiPMu: $type = "\141\154\x6c"; goto R1lk9; IVlBo: $where["\x73\164\x61\164\x75\x73"] = 0; goto XHRk_; x0s7r: } public function del() { goto reiYE; qeoQz: goto NyCV0; goto Vy4ao; Vy4ao: GOxgn: goto Nt2s_; W3eAe: $result = $this->OrderModel->del(["\151\144" => $order_id, "\x6d\x65\155\142\x65\162\151\144" => $this->uid]); goto GBhY3; Nt2s_: $this->OrderDetailModel->del(["\x6f\162\144\x65\162\x5f\151\144" => $order_id]); goto cNXES; GBhY3: if ($result) { goto GOxgn; } goto kafZY; reiYE: $order_id = intval($this->GPC["\157\x72\144\145\162\137\x69\144"]); goto W3eAe; aZaSU: NyCV0: goto e18K_; cNXES: $this->ajaxReturn(0, ''); goto aZaSU; kafZY: $this->ajaxReturn(101, "\xe5\210\xa0\xe9\x99\xa4\xe5\244\xb1\350\xb4\245"); goto qeoQz; e18K_: } public function done() { goto GRUNM; IJ69v: $this->ajaxReturn(0, ''); goto aQVjZ; GRUNM: $order_id = intval($this->GPC["\157\x72\x64\145\162\137\151\144"]); goto jf9TQ; KvdUZ: $this->ajaxReturn(101, "\346\223\x8d\xe4\xbd\x9c\345\244\261\350\264\245"); goto aldjv; uFxVp: if ($result) { goto c1VbB; } goto KvdUZ; jf9TQ: $result = $this->OrderModel->update(["\x69\x64" => $order_id, "\x6d\145\155\142\x65\162\x69\144" => $this->uid, "\x73\x74\x61\x74\x75\163" => 2], ["\163\164\141\x74\165\x73" => 3, "\163\x68\x6f\x75\150\x75\157\x74\x69\155\145" => time()]); goto uFxVp; BItQ3: c1VbB: goto IJ69v; aQVjZ: eVobC: goto FNOnK; aldjv: goto eVobC; goto BItQ3; FNOnK: } public function jiao() { goto LV9Ry; Xl5xV: message("\xe6\225\x99\xe7\250\x8b\xe4\xb8\215\xe5\xad\230\xe5\234\xa8"); goto C9ia1; PSnaV: Header("\x4c\x6f\143\x61\x74\x69\x6f\x6e\x3a\40" . $url); goto zzEyl; Lci2_: if ($url) { goto DEO0E; } goto Xl5xV; C9ia1: goto D4YzN; goto WOwT9; Uc6ih: D4YzN: goto bgikz; nAisP: $url = $this->GoodsAttributeModel->getOne(["\x67\x6f\x6f\144\163\137\151\144" => $id])["\x67\x6f\x6f\x64\x73\154\151\141\x6e\x6a\151\145"]; goto Lci2_; zzEyl: exit; goto Uc6ih; LV9Ry: $id = (int) $_GET["\147\157\x6f\144\137\x69\144"]; goto nAisP; WOwT9: DEO0E: goto PSnaV; bgikz: } }