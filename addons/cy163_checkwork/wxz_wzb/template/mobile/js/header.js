define("m-douyu/js/com/header",["jquery"],function(e){var a=null,i={config:{isOpen:0,cateUrl:"/category"},init:function(){var e=i;e.bindEvent()},headToggle:function(){var s=i;s.config.isOpen=s.config.isOpen?0:1,s.config.isOpen?(e(".header .header-nav").fadeIn(),e(".header .classes").addClass("open"),e(".mainbody .mainbody-mask").show(),e("body,html").css({overflow:"hidden"}),a=new Swiper(".header .swiper-container",{slidesPerView:4,centeredSlides:!1,spaceBetween:0,grabCursor:!0,freeMode:!0})):(e(".header .header-nav").fadeOut(),e(".header .classes").removeClass("open"),e(".mainbody .mainbody-mask").hide(),e("body,html").css({overflow:"auto"}))},navToggle:function(a){var s=i;e.ajax({url:s.config.cateUrl,data:{type:a},type:"get",dataType:"json",success:function(a){var i=[];for(one in a.cate2Info){var s=a.cate2Info[one];s&&i.push('<a href="/roomlists/'+s.shortName+'"><div class="swiper-slide n-list-item" data-type="'+s.shortName+'"><img src="'+s.pic+'"><br>'+s.cate2Name+"</div></a>")}e(".header .header-nav .n-list").html(i.join("")),i.length>0?e(".header .header-nav .n-list").addClass("clearfix").css({"overflow-y":"auto"}):(e(".header .header-nav .n-list").html('<div class="no-data"><div class="img"></div><div class="txt">此栏目暂无内容</div></div>'),e(".header .header-nav .n-list").removeClass("clearfix").css({"overflow-y":"visible"}))},error:function(a){e(".header .header-nav .n-list").html('<div class="error-data"><div class="img"></div><div class="error-tip">糟糕，加载失败~</div><div class="error-btn"></div></div>'),e(".header .error-data .error-btn").click(function(){e(this).hasClass("disabled")||(e(this).addClass("disabled"),e(".header .swiper-slide.cur").trigger("click"))})},complete:function(){}})},bindEvent:function(){var a=i;e(".header .classes").click(function(){a.headToggle()}),e(".header .swiper-slide").each(function(){var i=this;e(i).click(function(){e(i).addClass("cur").siblings().removeClass("cur"),a.navToggle(e(i).data("type"))})}),e(".mainbody-mask").click(function(){a.config.isOpen&&a.headToggle()})}};return{init:function(){i.init()},getStatu:function(){return i.config.isOpen}}});