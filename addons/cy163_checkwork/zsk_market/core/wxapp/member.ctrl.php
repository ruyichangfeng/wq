<?php
 class Member extends ZskWxapp { private $openid = ''; public function AutoLogin() { goto FS9YI; IG89g: $tab0 = $model->tablename("\155\145\155\x62\x65\162"); goto Egeou; DHZCo: ZIiFs: goto o5l65; PGgad: $out["\x67\162\x6f\x75\x70"] = Model("\x6d\145\155\142\145\x72\x67\x72\157\x75\x70")->where("\x75\156\151\141\143\151\144\75{$uniacid}\40\x61\x6e\144\40\151\x64\75" . intval($member["\x67\x72\157\165\160\x69\x64"]))->get(); goto kLhL1; nu47b: RI9R8: goto XWpt_; vIADD: $m->where("\157\x70\x65\x6e\151\x64\x3d\47" . $openid . "\x27\40\x61\156\x64\x20\165\156\x69\x61\143\x69\x64\75{$uniacid}")->save($member); goto W5jWd; mXfzo: if (!(strlen(trim($_POST["\143\x69\x74\x79"])) > 1)) { goto bjT9X; } goto e4_lL; xSeFv: $dayM = Model("\144\x61\164\x61\137\144\x61\x79"); goto k4YWb; FS9YI: global $_W, $_GPC; goto uq293; A75uT: if (!(strlen(trim($_GPC["\x67\x65\x6e\x64\x65\162"])) > 0)) { goto AroNL; } goto wP29c; SkOAr: w5DJr: goto YE5mK; iruak: $dayM->add(array("\165\x6e\x69\x61\x63\x69\144" => $uniacid, "\166\x69\x73\x69\x74\145\x64" => 1, "\144\x61\x74\x65" => $today)); goto TJ94b; XwYxv: if (!$temp) { goto w5DJr; } goto LNBpz; rD9e8: $member["\154\141\163\x74\x6c\157\147\151\x6e"] = date("\x59\55\155\x2d\144\x20\110\x3a\x69\72\163", time()); goto EQVeD; wS1OB: $isAgent = Model("\141\x67\x65\156\x74")->exist("\165\156\151\x61\x63\x69\144\75" . $uniacid . "\x20\x61\x6e\144\40\157\160\x65\x6e\151\144\x3d\x27" . $openid . "\47"); goto d_7U3; XW0Yf: echo JSON_OUT($out); goto Q3hEX; kLhL1: xvK0F: goto Ih2Zb; d_tXz: s_ZML: goto vIADD; HVlw4: $member["\x6e\x69\143\153\x6e\141\155\145"] = $_POST["\156\x69\x63\153\x4e\x61\x6d\x65"]; goto lG7y9; VPVx7: $member["\141\166\x61\x74\141\x72"] = $_POST["\141\x76\x61\164\141\162\125\x72\154"]; goto atYXf; e4_lL: $member["\143\151\164\x79"] = $_POST["\x63\151\164\x79"]; goto LUyNo; Jo8lL: $member["\x61\x67\145\x6e\x74\x5f\x70\60"] = $agent["\x63\157\x64\x65"]; goto f2zku; LFrqO: AhXb0: goto A75uT; lAoX1: $member["\160\162\157\166\x69\156\x63\145"] = $_POST["\160\162\x6f\x76\x69\156\143\x65"]; goto C2DMl; pNb26: $out["\x61\147\145\x6e\164"]["\147\162\x6f\x75\x70"] = Model("\x61\147\145\156\164\147\x72\x6f\165\160")->where("\x75\156\151\141\143\x69\x64\x3d" . $uniacid . "\40\x61\156\144\x20\151\x64\75" . intval($out["\x61\147\145\156\x74"]["\147\x72\x6f\165\x70\x69\x64"]))->get(); goto PGgad; JLD0J: if (!(strlen(trim($_POST["\160\x72\157\166\151\156\x63\x65"])) > 1)) { goto Wbc1o; } goto lAoX1; hZTD_: $this->openid = $openid; goto qz8ac; iB0tX: $out = $member; goto vIwFQ; qpROo: if (!(intval($_GPC["\x61\147\145\x6e\164\143\157\144\x65"]) > 0 && intval($member["\x61\x67\145\x6e\x74\x5f\x70\x30"]) < 1)) { goto s_ZML; } goto VSrmJ; iVfMQ: $member = $m->where("\x6f\160\x65\156\x69\144\x3d\47" . $openid . "\47\40\x61\156\144\40\x75\156\151\141\x63\x69\x64\x3d{$uniacid}")->get("\151\x64\54\157\x70\145\x6e\151\x64\54\x6e\x69\x63\153\x6e\141\155\145\54\147\x65\156\x64\x65\162\54\155\157\x62\x69\154\x65\54\143\151\x74\171\54\x70\162\x6f\x76\151\156\x63\145\54\141\144\x6d\x69\156\163\x68\x6f\x70\x69\144\54\x6c\141\x73\x74\154\x6f\x67\x69\156\x2c\141\147\145\x6e\164\x5f\x70\x30\x2c\x61\147\145\x6e\164\137\160\61\54\x61\147\x65\156\x74\137\x70\x32\54\x61\x76\x61\x74\x61\x72\x2c\x4c\105\106\x54\x28\x6c\141\x73\x74\154\157\x67\151\x6e\54\x31\60\51\x20\141\x73\40\x6c\x61\x73\x74\144\x61\171\54\147\162\x6f\165\x70\151\144\54\155\157\156\x65\171\x74\157\164\x61\x6c\40"); goto BIdsD; C2DMl: Wbc1o: goto kERHc; wP29c: $member["\x67\145\156\144\145\x72"] = $_GPC["\147\x65\156\144\x65\x72"]; goto UvtIT; rTW7b: if ($isAgent) { goto GJ3wf; } goto v6g_0; bnFww: exit; goto cbUk8; yEAhr: if (empty($agent)) { goto MCKp0; } goto hKpFn; gqUm3: goto eioUQ; goto DHZCo; f2zku: $member["\141\147\145\156\164\x5f\160\x31"] = $agent["\141\x67\145\x6e\x74\x5f\x70\x30"]; goto pNk0K; YfIu9: mW9BE: goto rD9e8; R2fN3: $member["\147\x72\x6f\x75\160\x69\144"] = intval($group_new["\151\144"]); goto YfIu9; JH7KX: $temp = Model("\155\x65\155\x62\x65\162\147\162\157\x75\x70")->where("\165\156\x69\141\x63\151\144\75{$uniacid}\x20\x61\156\144\40\151\144\x3d" . intval($group_new["\151\144"]))->get(); goto XwYxv; MXT23: $member["\x75\x6e\x69\141\x63\x69\x64"] = $_W["\x75\156\151\x61\x63\151\144"]; goto VPVx7; LNBpz: $member["\147\x72\157\x75\x70"] = $temp; goto SkOAr; o5l65: $group_new = Model("\155\145\x6d\x62\x65\x72\147\x72\x6f\165\x70")->where("\165\156\x69\141\143\151\144\x3d" . $uniacid . "\40\x61\x6e\144\x20\x6d\x6f\x6e\145\x79\164\x6f\164\141\x6c\x3c" . floatval($member["\155\x6f\156\x65\x79\164\157\164\x61\154"]))->order("\x6d\157\x6e\145\171\x74\x6f\164\x61\154\40\144\145\x73\143")->get("\151\x64\54\x6e\x61\x6d\x65"); goto JH7KX; k4YWb: if (!(strlen($member["\154\141\163\164\x6c\157\147\151\x6e"]) > 10 && $member["\154\x61\163\164\144\141\171"] != $today)) { goto L665J; } goto jPzaP; RrN72: $openid = $res["\157\160\145\156\151\x64"]; goto hZTD_; Fsx03: $member["\141\147\x65\x6e\x74\x5f\160\x31"] = $agent["\141\147\145\156\164\x5f\x70\x30"]; goto BWmI9; Yfw81: $member["\x70\x72\x6f\x76\151\156\x63\x65"] = $_POST["\x70\162\157\x76\151\x6e\143\145"]; goto HVlw4; vIwFQ: $m = Model("\141\x67\145\x6e\x74"); goto tEg5y; WXhbC: $model->limit(1)->where("\157\x70\145\156\151\144\x3d\47" . $member["\x6f\160\x65\x6e\151\x64"] . "\47\x20\141\156\x64\x20\x75\x6e\x69\141\143\x69\144\75" . $uniacid)->save(array("\147\x72\157\x75\160\x69\x64" => $group_new["\151\x64"])); goto R2fN3; WV_d0: unset($member["\154\x61\163\164\144\x61\x79"]); goto UtYvR; XFr40: $sql = "\123\105\114\x45\103\124\40{$tab0}\x2e\141\147\x65\x6e\164\137\160\60\54{$tab0}\56\x61\147\x65\x6e\x74\137\160\x31\x2c{$tab0}\56\141\x67\x65\x6e\164\137\x70\62\x20\54{$tab1}\x2e\143\x6f\144\145\40\106\122\117\115\x20{$tab1}\x20\x4c\x45\x46\x54\40\x4a\x4f\111\116\x20{$tab0}\x20\x4f\116\40{$tab1}\x2e\157\x70\x65\156\x69\144\x3d{$tab0}\56\x6f\x70\x65\x6e\151\x64\40\127\110\105\122\x45\x20{$tab1}\56\x75\156\151\141\x63\151\144\x3d{$uniacid}\x20\141\x6e\x64\40\x63\x6f\x64\145\75\47" . intval($_GPC["\141\x67\x65\156\164\x63\157\x64\x65"]) . "\47\40\x4c\x49\x4d\x49\124\40\61"; goto jJKmv; IEVL3: $member["\x6e\151\143\x6b\156\141\155\x65"] = $_POST["\x6e\x69\143\153\116\141\155\145"]; goto LFrqO; UtYvR: unset($member["\151\144"]); goto Hqccv; qlG0T: $tab1 = $model->tablename("\x61\147\x65\x6e\164"); goto XFr40; d_7U3: if ($isAgent) { goto RI9R8; } goto IG89g; EQVeD: if (!(strlen(trim($_POST["\x61\166\141\x74\141\x72\125\162\x6c"])) > 1)) { goto hSmVw; } goto Dk2ze; Egeou: $tab1 = $model->tablename("\141\x67\x65\156\x74"); goto tT1a0; jJKmv: $agent = $model->fetch($sql); goto GerOZ; c30zd: $agent = $model->fetch($sql); goto yEAhr; I8_7D: if (!empty($data)) { goto H5Pxg; } goto iruak; atYXf: $member["\143\151\164\x79"] = $_POST["\143\151\164\x79"]; goto Yfw81; Hk9y7: if (!(strlen($openid) > 20)) { goto w7dva; } goto wzSZo; LUyNo: bjT9X: goto JLD0J; LbVZG: H5Pxg: goto kZCXz; cbUk8: hW0dU: goto RrN72; wcQWP: btlC3: goto aNwYj; pNk0K: $member["\141\x67\145\x6e\164\x5f\160\62"] = $agent["\141\x67\145\x6e\x74\x5f\160\61"]; goto VdMIw; IHfc2: $uniacid = intval($_W["\x75\156\x69\x61\x63\x69\144"]); goto EWviD; EWviD: $res = getOpenID(true); goto txtce; Ip35V: if (!(intval($_GPC["\x61\147\x65\x6e\164\143\157\x64\145"]) > 0)) { goto KtU4V; } goto wS1OB; VdMIw: beL3l: goto q2mso; aNwYj: L665J: goto WV_d0; tT1a0: $sql = "\x53\x45\114\105\x43\x54\x20{$tab0}\56\141\x67\x65\156\164\137\x70\60\54{$tab0}\x2e\x61\147\145\156\164\137\x70\61\54{$tab0}\56\x61\x67\x65\x6e\164\137\x70\62\40\x2c{$tab1}\56\143\x6f\144\x65\x20\106\x52\x4f\115\x20{$tab1}\40\x4c\x45\106\124\x20\112\117\x49\x4e\x20{$tab0}\x20\x4f\x4e\40{$tab1}\56\157\160\145\x6e\151\x64\x3d{$tab0}\x2e\157\160\x65\156\x69\x64\x20\127\x48\x45\122\105\x20{$tab1}\x2e\165\156\151\x61\143\151\x64\x3d{$uniacid}\x20\141\156\144\x20\x63\x6f\x64\145\75\47" . intval($_GPC["\x61\x67\145\156\x74\x63\x6f\144\145"]) . "\47\x20\114\x49\x4d\111\124\40\x31"; goto c30zd; Gweyk: echo json_encode($res); goto bnFww; TJ94b: goto btlC3; goto LbVZG; JE7AP: hSmVw: goto mXfzo; wzSZo: $m = Model("\155\145\x6d\142\x65\x72"); goto iVfMQ; UvtIT: AroNL: goto qpROo; At_Jd: $member["\x69\144"] = $m->add($member); goto gqUm3; Hqccv: if (strlen($member["\x6f\x70\145\156\151\144"]) > 0) { goto ZIiFs; } goto DGJJM; DGJJM: $member = array("\x6f\160\145\156\x69\144" => $openid, "\x6c\x61\x73\164\x6c\x6f\147\151\x6e" => date("\131\x2d\x6d\x2d\x64\x20\x48\x3a\x69\72\163", time()), "\163\151\x67\x6e\164\x69\x6d\145" => time(), "\163\x74\x61\164\165\x73" => 1); goto MXT23; YE5mK: if (!(!empty($group_new) && intval($group_new["\x69\144"]) != intval($member["\x67\x72\157\165\160\x69\144"]))) { goto mW9BE; } goto WXhbC; hKpFn: $member["\141\x67\x65\156\164\137\160\x30"] = $agent["\x63\x6f\x64\145"]; goto Fsx03; qz8ac: $out = array("\145\x72\x72\x63\157\x64\145" => 0, "\x73\x74\x73" => 1, "\157\x70\x65\156\151\x64" => NULL, "\x63\157\x75\160\x6f\x6e\x73" => array()); goto Hk9y7; uq293: $model = Model("\x6d\x65\x6d\x62\145\162"); goto IHfc2; nVcbI: if (empty($out["\141\147\x65\x6e\164"])) { goto xvK0F; } goto pNb26; kERHc: if (!(strlen(trim($_POST["\156\151\x63\153\116\x61\x6d\145"])) > 1)) { goto AhXb0; } goto IEVL3; Dk2ze: $member["\x61\166\x61\164\141\162"] = $_POST["\x61\166\x61\164\x61\162\x55\x72\154"]; goto JE7AP; BIdsD: $today = date("\131\x2d\x6d\55\x64", time()) . ''; goto xSeFv; VSrmJ: $isAgent = Model("\141\147\x65\x6e\x74")->exist("\x75\156\x69\x61\x63\x69\x64\x3d" . $uniacid . "\40\x61\x6e\x64\x20\157\160\145\156\151\144\x3d\47" . $openid . "\47"); goto rTW7b; v6g_0: $tab0 = $model->tablename("\x6d\x65\155\142\145\162"); goto qlG0T; GerOZ: if (empty($agent)) { goto beL3l; } goto Jo8lL; BWmI9: $member["\141\147\145\x6e\164\x5f\160\62"] = $agent["\141\147\145\156\x74\137\x70\x31"]; goto XVdfv; XWpt_: KtU4V: goto At_Jd; kZCXz: $dayM->where("\x75\156\x69\x61\143\151\x64\x3d{$uniacid}\40\x61\x6e\x64\40\140\x64\141\164\x65\140\x3d\47{$today}\47")->limit(1)->save(array("\x76\x69\163\x69\164\145\x64" => intval($data["\x76\151\x73\x69\164\145\x64"]) + 1)); goto wcQWP; jPzaP: $data = $dayM->where("\165\156\151\141\143\151\144\x3d{$uniacid}\x20\x61\x6e\x64\40\140\x64\x61\164\x65\140\75\x27{$today}\47")->get(); goto I8_7D; lG7y9: $member["\x67\x65\156\144\145\x72"] = $_POST["\147\x65\156\144\145\162"]; goto Ip35V; q2mso: GJ3wf: goto d_tXz; txtce: if (!(intval($res["\145\162\162\x63\157\x64\x65"]) > 0)) { goto hW0dU; } goto Gweyk; XVdfv: MCKp0: goto nu47b; tEg5y: $out["\141\x67\145\156\164"] = $m->where("\x75\x6e\151\141\x63\151\x64\75{$uniacid}\40\x61\x6e\x64\40\157\x70\x65\x6e\x69\144\75\x27{$openid}\47\40\x61\x6e\144\x20\x73\164\x61\164\165\163\x3e\x30")->get(); goto nVcbI; W5jWd: eioUQ: goto iB0tX; Ih2Zb: w7dva: goto XW0Yf; Q3hEX: } public function defaultAddr() { goto RvwLb; T432h: goto bVhtk; goto UcuLY; rBqsH: $uniacid = intval($_W["\x75\156\151\x61\x63\151\144"]); goto WK3cR; fus2d: $addr["\x61\x64\144\x72\x65\x73\x73"] = $addr["\160\162\157\x76"] . $addr["\143\151\x74\171"] . $addr["\143\x6f\x75\x6e\164\x79"] . $addr["\x73\164\x72\145\x65\x74"]; goto Lw3sE; gCmPA: $addr = $m->where("\x20\157\160\145\x6e\151\x64\x3d\47" . $openid . "\x27\40\x61\156\144\x20\163\x74\141\164\165\x73\76\x30\40\x61\x6e\144\40\165\x6e\x69\x61\x63\151\x64\75{$uniacid}")->order("\151\x73\104\x65\146\x61\165\154\x74\40\144\x65\x73\143")->get("\52\x2c\160\162\x6f\x76\x69\156\143\145\x20\x61\x73\40\160\162\157\166\x2c\143\x6f\x6e\x74\141\143\x74\40\x61\x73\40\x6e\x61\x6d\x65"); goto fus2d; asu8b: echo json_encode(array("\163\x74\163" => 0)); goto T432h; vGmQw: $m = Model("\155\145\155\x62\x65\162\141\x64\x64\x72\x65\163\x73"); goto gCmPA; Lw3sE: echo JSON_OUT(array("\163\164\163" => 1, "\x61\x64\144\x72" => $addr)); goto C15Qw; C15Qw: bVhtk: goto Mmzzn; j7PVE: $model = Model("\155\x65\x6d\142\x65\162"); goto rBqsH; UcuLY: gufPS: goto vGmQw; tH_Cz: if (strlen($openid) > 20) { goto gufPS; } goto asu8b; RvwLb: global $_W, $_GPC; goto j7PVE; WK3cR: $openid = $_POST["\x6f\160\145\x6e\x69\144"]; goto tH_Cz; Mmzzn: } public function MyAddr() { goto QuN4S; uOJsV: $sql = "\x53\105\114\x45\103\124\40\151\144\x20\x61\x73\x20\x69\x64\54\143\x6f\x6e\x74\141\x63\x74\40\x61\163\x20\156\x61\x6d\x65\54\x73\164\x72\145\145\x74\x20\141\x73\x20\163\164\x72\145\x65\x74\x2c\x63\x6f\165\x6e\164\171\40\141\163\x20\x60\x63\157\165\156\164\171\x60\x2c\155\157\x62\x69\154\145\40\x61\x73\x20\x6d\x6f\x62\x69\x6c\145\54\x70\162\157\x76\x69\x6e\x63\x65\x20\141\x73\40\x70\x72\x6f\x76\x2c\143\x69\164\171\40\x61\163\x20\x63\x69\x74\x79\54\x69\x73\x44\x65\146\x61\x75\154\164\x20\x61\163\40\151\x73\144\x65\x66\x61\165\154\164\x20\x46\x52\x4f\115\x20{$tab}\40\127\110\x45\x52\105\40\165\156\151\141\143\151\144\x3d{$uniacid}\40\141\x6e\144\x20\x6f\160\x65\156\151\x64\75\47" . $openid . "\47\40\157\162\x64\145\162\40\x62\x79\x20\x69\x73\104\145\146\141\x75\x6c\x74\x20\x64\145\163\143\40\x6c\x69\x6d\x69\164\x20\x36"; goto J_Jxv; knvQK: fwSb4: goto FWEhE; l_Oy1: k9Nsx: goto imn_n; lmMwR: if (strlen($openid) > 20) { goto fwSb4; } goto aHlIP; E0rJW: foreach ($res as $key => $val) { goto tkm3F; W2pI2: $res[$key]["\155\x6f\x62\151\154\x65"] = $val["\x6d\x6f\142\151\154\145"]; goto O_30t; O_30t: MnUUy: goto IqLw0; tkm3F: $res[$key]["\141\144\144\x72\145\x73\163"] = $val["\160\162\x6f\166"] . $val["\x63\x69\164\171"] . $val["\163\x74\162\145\145\164"]; goto W2pI2; IqLw0: } goto l_Oy1; idZbW: L9bsE: goto iLKXX; QuN4S: global $_W, $_GPC; goto M3p4V; E3lzI: $openid = $_POST["\157\160\x65\156\151\x64"]; goto lmMwR; aHlIP: echo json_encode(array("\163\x74\x73" => 0)); goto LLy_Z; M3p4V: $model = Model("\155\145\x6d\142\x65\162"); goto wTOaQ; LLy_Z: goto L9bsE; goto knvQK; FWEhE: $tab = $model->tablename("\x6d\x65\x6d\x62\x65\162\x61\144\144\162\x65\163\163"); goto uOJsV; wTOaQ: $uniacid = intval($_W["\x75\x6e\151\x61\143\x69\x64"]); goto E3lzI; J_Jxv: $res = pdo_fetchall($sql); goto E0rJW; imn_n: echo JSON_OUT(array("\x73\164\163" => 1, "\x6c\151\163\x74" => $res)); goto idZbW; iLKXX: } public function DelAddr() { goto mmPx8; XDpJv: if (!(strlen($openid) > 20 && $aid > 0)) { goto so311; } goto aXcEm; mmPx8: global $_W, $_GPC; goto CPKSS; aXcEm: $out["\163\x74\163"] = Model("\x6d\x65\x6d\142\x65\162\x61\x64\144\x72\145\x73\x73")->limit(1)->delete("\x20\157\x70\145\156\x69\x64\75\x27" . $openid . "\x27\40\x61\156\144\40\151\144\75" . $aid); goto I6buT; JCpGz: echo json_encode($out); goto vEol0; I6buT: so311: goto JCpGz; jEGFf: $aid = intval($_POST["\141\x69\x64"]); goto tepfh; CPKSS: $model = Model("\155\x65\x6d\142\x65\162"); goto GSPLP; tepfh: $out = array("\163\164\x73" => 0); goto XDpJv; FG5FI: $openid = $_POST["\x6f\160\145\156\x69\144"]; goto jEGFf; GSPLP: $uniacid = intval($_W["\x75\156\x69\x61\x63\x69\144"]); goto FG5FI; vEol0: } public function setDeaultAddr() { goto oyMLC; HG1TD: $aid = intval($_POST["\x61\x69\144"]); goto S_ruN; NcM2z: $uniacid = intval($_W["\165\x6e\151\141\143\151\144"]); goto Xm1Hh; S_ruN: $out = array("\x73\164\x73" => 1); goto is_St; is_St: $model = Model("\155\145\x6d\142\x65\x72\x61\144\144\162\x65\x73\x73"); goto o2kMY; o2kMY: if (!(strlen($openid) > 20 && $aid > 0)) { goto N5dBK; } goto jj_Cj; mnrIo: $model = Model("\x6d\145\155\x62\145\162"); goto NcM2z; oyMLC: global $_W, $_GPC; goto mnrIo; Xm1Hh: $openid = $_POST["\x6f\160\145\156\151\144"]; goto HG1TD; jj_Cj: $model->where("\40\157\160\145\x6e\x69\x64\75\47" . $openid . "\x27\x20\141\x6e\x64\x20\165\x6e\x69\141\x63\151\144\75{$uniacid}\x20\141\x6e\144\x20\x69\163\104\x65\x66\141\165\154\x74\x3e\60\x20")->save(array("\x69\x73\104\145\146\141\x75\x6c\x74" => 0)); goto A0i4i; T8gVj: echo json_encode($out); goto yb_at; A0i4i: $model->where("\157\160\x65\x6e\x69\x64\75\47" . $openid . "\47\x20\141\156\x64\x20\165\x6e\151\x61\x63\x69\144\75{$uniacid}\x20\40\x61\x6e\144\40\151\144\x3d" . $aid)->limit(1)->save(array("\151\x73\x44\x65\x66\x61\165\154\x74" => 1)); goto e4Ukp; e4Ukp: N5dBK: goto T8gVj; yb_at: } public function NewAddr() { goto QHgFa; TX1dR: $out = array("\x73\x74\163" => 0, "\x6d\x73\147" => "\xe4\277\x9d\345\xad\230\xe5\xa4\xb1\350\264\245"); goto XyXzC; f9gcQ: Q699w: goto AmG06; opOGd: $out["\163\x74\163"] = $m->add($addr); goto sOIlI; f28xH: $out["\x6d\x73\147"] = "\xe4\277\235\xe5\xad\230\346\x88\220\xe5\x8a\237"; goto f9gcQ; Usdrw: $uniacid = intval($_W["\x75\x6e\x69\x61\x63\x69\x64"]); goto hgBma; AmG06: echo json_encode($out); goto syfTA; sOIlI: if (!intval($out["\163\x74\163"])) { goto Q699w; } goto f28xH; QSrYo: $m = Model("\155\x65\x6d\x62\x65\162\141\x64\144\162\145\163\163"); goto TX1dR; hgBma: $openid = $_POST["\x6f\x70\x65\156\x69\144"]; goto QSrYo; QHgFa: global $_W, $_GPC; goto Usdrw; XyXzC: $addr = array("\x75\x6e\151\141\143\x69\x64" => $uniacid, "\x73\164\x72\x65\145\x74" => $_POST["\163\164\162\145\x65\164"], "\157\x70\145\x6e\x69\144" => $openid, "\x63\157\156\x74\x61\x63\164" => $_POST["\156\x61\155\145"], "\x6d\157\x62\151\x6c\x65" => $_POST["\x6d\x6f\142\x69\154\145"], "\160\x72\x6f\x76\x69\x6e\x63\x65" => $_POST["\x70\x72\157\x76"], "\x63\x69\x74\x79" => $_POST["\x63\151\x74\171"], "\143\157\165\x6e\x74\x79" => $_POST["\x63\157\x75\156\x74\171"], "\x73\x74\x61\x74\165\x73" => 1); goto opOGd; syfTA: } public function collectgoods() { goto jC19B; OGv31: if (!($status == 0)) { goto afvsu; } goto oF083; H_j68: $uniacid = intval($_W["\165\x6e\151\x61\x63\151\x64"]); goto ebkuB; PPO0Q: afvsu: goto e0iDe; zL4Ge: $collect = array("\x67\x6f\x6f\x64\x73\x69\x64" => $goodsid, "\157\x70\145\156\x69\x64" => $openid, "\163\164\x61\164\165\x73" => $status, "\x75\156\151\141\x63\151\144" => $uniacid, "\163\x68\x6f\x70\151\x64" => intval($_GPC["\163\150\x6f\160\151\x64"])); goto WSD0v; wq9pt: $openid = $_GPC["\157\x70\145\156\151\144"]; goto j0dzN; zzBCn: if (!empty($col)) { goto ri71_; } goto zL4Ge; eNT0e: ri71_: goto rwL85; ebkuB: $openid = $_POST["\x6f\x70\145\156\x69\x64"]; goto X6Wxp; WSD0v: $out["\x73\x74\163"] = $model->add($collect); goto eNT0e; j0dzN: $model = Model("\x63\157\154\154\x65\x63\x74\151\157\x6e"); goto mdoSd; X6Wxp: $status = intval($_GPC["\x73\164\x61\x74\x75\x73"]); goto QGlG9; mdoSd: $col = $model->where("\x67\x6f\157\144\x73\x69\144\x3d{$goodsid}\40\141\x6e\144\40\x6f\x70\x65\x6e\x69\x64\75\x27" . $openid . "\47")->get(); goto ejCzV; jC19B: global $_W, $_GPC; goto H_j68; QGlG9: $goodsid = intval($_GPC["\x67\x6f\157\x64\x73\x69\x64"]); goto wq9pt; rwL85: $out["\163\164\x73"] = $model->where("\x67\157\157\144\163\151\144\75{$goodsid}\40\x61\156\x64\x20\157\160\x65\x6e\151\x64\75\47" . $openid . "\x27")->save(array("\163\x74\x61\164\x75\x73" => $status)); goto OGv31; ejCzV: $out = array("\155\163\x67" => "\xe6\x94\266\xe8\227\x8f\346\210\220\xe5\x8a\237", "\x73\x74\141\164\x75\x73" => $status); goto zzBCn; oF083: $out["\x6d\x73\147"] = "\xe7\x94\xa8\346\210\267\xe5\217\226\346\xb6\210\344\xba\206\xe6\224\266\xe8\227\x8f"; goto PPO0Q; e0iDe: echo JSON_OUT($out); goto fOYDK; fOYDK: } public function mycollection() { goto dOcng; dOcng: global $_W, $_GPC; goto AifMF; AF370: $sql0 = "\123\x45\x4c\105\103\124\x20{$tab2}\56\x2a\x20\x46\x52\117\x4d\40{$tab2}\x20\114\105\106\x54\x20\112\117\111\116\40{$tab0}\x20\x4f\x4e\40{$tab0}\56\147\x6f\x6f\x64\163\x69\x64\x3d{$tab2}\x2e\151\144\40\127\x48\x45\122\105\x20{$tab0}\x2e\x6f\160\145\156\x69\144\x3d\47" . $openid . "\x27\x20\x61\156\144\x20{$tab2}\56\163\164\141\164\x75\163\76\x30\40\x61\x6e\x64\x20{$tab0}\x2e\x73\x74\x61\x74\x75\x73\x3e\60\x20\x4f\122\104\105\122\40\x42\131\40{$tab0}\x2e\144\x61\164\x65\x20\144\x65\163\x63"; goto o42YF; ILaZv: WO2Yf: goto tZZJY; bkT2O: $tab3 = $model->tablename("\x73\150\x6f\x70"); goto xpcNT; U48am: $out["\x73\x71\154"] = $sql0; goto WSoqo; Yr4t2: $tab2 = $model->tablename("\147\x6f\157\144\x73"); goto bkT2O; tZZJY: $out["\x73\150\x6f\160\163"] = $shops; goto wj06R; Ot8mh: $sql = "\x53\105\x4c\105\x43\x54\x20{$tab3}\56\x6e\x61\155\145\54{$tab0}\56\163\x68\157\x70\x69\x64\x2c{$tab3}\x2e\154\157\147\157\x2c{$tab3}\x2e\151\144\40\x46\122\117\x4d\40{$tab3}\40\114\105\106\124\x20\x4a\117\111\116\40{$tab0}\x20\117\116\40{$tab3}\x2e\x69\x64\75{$tab0}\56\x73\x68\157\x70\x69\x64\40\127\110\x45\x52\105\x20\50{$tab3}\56\154\151\x6d\x69\164\x64\x61\x74\145\76\x3d\47{$today}\47\x20\x6f\162\40{$tab3}\x2e\x6c\x69\155\x69\x74\x64\x61\164\x65\40\151\x73\x20\x6e\165\154\154\x29\40\141\x6e\144\40{$tab0}\x2e\165\x6e\151\141\x63\151\144\x3d{$uniacid}\40\40\x67\162\x6f\165\160\x20\142\x79\40{$tab0}\56\163\150\157\x70\x69\144\x20\x6f\x72\x64\x65\x72\40\142\171\x20{$tab0}\x2e\140\144\x61\x74\145\140\40\x64\x65\x73\x63"; goto lVauj; cQZJy: $goodslist = getGoodsSimpleInfo($goodss); goto U48am; HaxaI: if (!(strlen($openid) > 20)) { goto ISjg2; } goto e3L5b; h76NU: $tab0 = $model->tablename("\x63\x6f\x6c\154\x65\143\164\151\x6f\x6e"); goto Yr4t2; WSoqo: $cases = pdo_fetchall($sql1); goto eDSlv; Zrrge: $out["\x67\x6f\x6f\144\163"] = $goodslist; goto q1TPs; xpcNT: $out = array("\163\150\157\160\163" => array(), "\143\x61\163\145\163" => array()); goto C8Axp; djF4j: $openid = trim($_POST["\x6f\x70\x65\x6e\151\x64"]); goto JhhdL; AifMF: $model = Model("\143\x6f\x6c\x6c\145\x63\x74\151\x6f\156"); goto CSJXx; lVauj: $shops = $model->query($sql); goto AF370; o42YF: $goodss = $model->query($sql0); goto cQZJy; i_2OH: vYj_Z: goto Zrrge; JhhdL: $act2 = $_POST["\x61\143\x74\62"]; goto h76NU; eDSlv: foreach ($goodslist as $k => $v) { goto KWotO; ZGAdX: h5loS: goto Sr6ch; KWotO: $goodslist[$k]["\163\x72\143"] = $_W["\x61\164\164\141\143\x68\165\162\154"] . $v["\160\151\143\164\165\162\x65"]; goto BImVr; BImVr: foreach ($shops as $key => $val) { goto aK2_G; whcXg: EfSLZ: goto MFkcq; aK2_G: if (!(intval($v["\163\150\157\x70\x69\x64"]) == intval($val["\x69\144"]))) { goto EfSLZ; } goto lypEy; lypEy: $shops[$key]["\x67\157\157\144\163\x6c\x65\x6e\x67\x74\x68"] = intval($val["\x67\157\157\144\x73\x6c\x65\x6e\x67\164\150"]) + 1; goto whcXg; MFkcq: wHE4b: goto Sg5s_; Sg5s_: } goto aj6Fx; aj6Fx: EOG1k: goto ZGAdX; Sr6ch: } goto i_2OH; C8Axp: $shop = array(); goto HaxaI; CSJXx: $uniacid = intval($_W["\165\156\151\141\143\151\x64"]); goto djF4j; q1TPs: foreach ($shops as $key => $val) { goto ncgbC; ncgbC: if (!(intval($val["\x67\x6f\157\144\x73\154\x65\x6e\x67\164\x68"]) < 1)) { goto Ru10b; } goto uhft8; wHXWP: N43Iv: goto M1gcR; vc1yu: Ru10b: goto wHXWP; uhft8: unset($shops[$key]); goto vc1yu; M1gcR: } goto ILaZv; e3L5b: $today = date("\131\x2d\155\x2d\144", time()); goto Ot8mh; y9EzF: echo JSON_OUT($out, true); goto S8UwY; wj06R: ISjg2: goto y9EzF; S8UwY: } }