$(document).ready(function() {
    function e() {
        document.fullScreenElement && null !== document.fullScreenElement || !document.mozFullScreen && !document.webkitIsFullScreen ? document.documentElement.requestFullScreen ? document.documentElement.requestFullScreen() : document.documentElement.mozRequestFullScreen ? document.documentElement.mozRequestFullScreen() : document.documentElement.webkitRequestFullScreen && document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT) : document.cancelFullScreen ? document.cancelFullScreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.webkitCancelFullScreen && document.webkitCancelFullScreen()
    }
    function a(e) {
        $(e).block({
            message: '<img src="assets/images/reload.gif" width="20px" alt="">',
            css: {
                border: "none",
                padding: "0px",
                width: "20px",
                height: "20px",
                backgroundColor: "transparent"
            },
            overlayCSS: {
                backgroundColor: "#fff",
                opacity: .9,
                cursor: "wait"
            }
        })
    }
    function o(e) {
        $(e).unblock()
    }
    $(".show-search").click(function() {
        $(".search-form").css("margin-top", "0"),
        $(".search-input").focus()
    }),
    $(".close-search").click(function() {
        $(".search-form").css("margin-top", "-70px")
    }),
    $(".toggle-fullscreen").click(function() {
        e()
    }),
    Waves.displayEffect(),
    $('[data-toggle~="tooltip"]').tooltip({
        container: "body"
    });
    var n = Array.prototype.slice.call(document.querySelectorAll(".js-switch"));
    n.forEach(function(e) {
        new Switchery(e, {
            color: "#23B7E5"
        })
    }),
    $(".panel-collapse").click(function() {
        $(this).closest(".panel").children(".panel-body").slideToggle("fast")
    }),
    $(".panel-reload").click(function() {
        var e = $(this).closest(".panel").children(".panel-body");
        a(e),
        window.setTimeout(function() {
            o(e)
        },
        1e3)
    }),
    $(".panel-remove").click(function() {
        $(this).closest(".panel").hide()
    }),
    $(".push-sidebar").click(function() {
        var e = $(".sidebar");
        e.hasClass("visible") ? (e.removeClass("visible"), $(".page-inner").removeClass("sidebar-visible")) : (e.addClass("visible"), $(".page-inner").addClass("sidebar-visible")),
        $(".push-sidebar i").toggleClass("icon-arrow-left"),
        $(".push-sidebar i").toggleClass("icon-arrow-right")
    }),
    $(".sortable").sortable({
        connectWith: ".sortable",
        items: ".panel",
        helper: "original",
        revert: !0,
        placeholder: "panel-placeholder",
        forcePlaceholderSize: !0,
        opacity: .95,
        cursor: "move"
    });
    var s = $("input[type=checkbox]:not(.switchery), input[type=radio]:not(.no-uniform)");
    s.length > 0 && s.each(function() {
        $(this).uniform()
    }),
    $.fn.toggleAttr = function(e, a) {
        var o = void 0 === a;
        return this.each(function() {
            o && !$(this).is("[" + e + "]") || !o && a ? $(this).attr(e, e) : $(this).removeAttr(e)
        })
    };
    $(".sidebar .accordion-menu li .sub-menu").slideUp(0),
    $(".sidebar .accordion-menu li.open .sub-menu").slideDown(0),
    $(".small-sidebar .sidebar .accordion-menu li.open .sub-menu").hide(0),
    $(".sidebar .accordion-menu > li.droplink > a").click(function() {
        if (!$("body").hasClass("small-sidebar") && !$("body").hasClass("page-horizontal-bar") && !$("body").hasClass("hover-menu")) {
            var e = $(".sidebar .menu"),
            a = ($(".page-sidebar-inner"), $(".page-content"), $(this).next());
            $(this);
            return e.find("li").removeClass("open"),
            $(".sub-menu").slideUp(200,
            function() {
                i()
            }),
            i(),
            a.is(":visible") ? a.slideUp(200,
            function() {
                i()
            }) : ($(this).parent("li").addClass("open"), $(this).next(".sub-menu").slideDown(200,
            function() {
                i()
            })),
            !1
        }
        if ($("body").hasClass("small-sidebar") && $("body").hasClass("page-sidebar-fixed")) {
            var e = $(".sidebar .menu"),
            a = ($(".page-sidebar-inner"), $(".page-content"), $(this).next());
            $(this);
            return e.find("li").removeClass("open"),
            $(".sub-menu").slideUp(200,
            function() {
                i()
            }),
            i(),
            a.is(":visible") ? a.slideUp(200,
            function() {
                i()
            }) : ($(this).parent("li").addClass("open"), $(this).next(".sub-menu").slideDown(200,
            function() {
                i()
            })),
            !1
        }
    }),
    $(".sidebar .accordion-menu .sub-menu li.droplink > a").click(function() {
        var e = $(this).parent().parent(),
        a = ($(".page-sidebar-inner"), $(".page-content"), $(this).next());
        $(this);
        return e.find("li").removeClass("open"),
        i(),
        a.is(":visible") ? a.slideUp(200,
        function() {
            i()
        }) : ($(this).parent("li").addClass("open"), $(this).next(".sub-menu").slideDown(200,
        function() {
            i()
        })),
        !1
    });
    var t = function() {
        $(".small-sidebar.page-sidebar-fixed:not(.page-horizontal-bar) .page-sidebar").mouseenter(function() {
            $("body:not(.page-horizontal-bar) .navbar").addClass("hovered-sidebar"),
            $(".navbar .logo-box a span").text() == m ? p: m
        }),
        $(".small-sidebar.page-sidebar-fixed:not(.page-horizontal-bar) .page-sidebar").mouseleave(function() {
            $("body:not(.page-horizontal-bar) .navbar").removeClass("hovered-sidebar"),
            $(".navbar .logo-box a span").text() == m ? p: m
        })
    };
    t();
    var i = function() {
        var e, a = $(".page-inner"),
        o = $(".page-sidebar"),
        n = $("body"),
        s = $(".page-footer").outerHeight(),
        t = $(".page-content").height();
        a.attr("style", "min-height:" + o.height() + "px !important"),
        n.hasClass("page-sidebar-fixed") ? e = o.height() + s: (e = o.height() + s, e < $(window).height() && (e = $(window).height())),
        e >= a.height() && a.attr("style", "min-height:" + e + "px !important"),
        n.hasClass("page-horizontal-bar") && a.attr("style", "min-height:" + $(window).height() + "px !important"),
        o.length || $(".navbar").length || a.attr("style", "min-height:" + t + "px !important")
    };
    i(),
    window.onresize = i,
    $(".slimscroll").slimscroll({
        allowPageScroll: !0
    });
    var l = document.querySelector(".fixed-header-check"),
    c = document.querySelector(".fixed-sidebar-check"),
    r = document.querySelector(".horizontal-bar-check"),
    d = document.querySelector(".toggle-sidebar-check"),
    h = document.querySelector(".boxed-layout-check"),
    b = document.querySelector(".compact-menu-check"),
    u = document.querySelector(".hover-menu-check"),
    g = function() {
        $("body").hasClass("small-sidebar") && 1 == d.checked && d.click(),
        $("body").hasClass("page-header-fixed") && 1 == l.checked && l.click(),
        $("body").hasClass("page-sidebar-fixed") && 1 == c.checked && c.click(),
        $("body").hasClass("page-horizontal-bar") && 1 == r.checked && r.click(),
        $("body").hasClass("compact-menu") || 0 != b.checked || b.click(),
        $("body").hasClass("hover-menu") && 1 == u.checked && u.click(),
        $(".page-content").hasClass("container") && 1 == h.checked && h.click(),
        i()
    },
    p = $(".navbar .logo-box a span").text(),
    m = p.slice(0, 1),
    f = function() {
        $("body").toggleClass("small-sidebar"),
        $(".navbar .logo-box a span").text() == m ? p: m,
        i(),
        $(".sidebar-toggle i").toggleClass("icon-arrow-left"),
        $(".sidebar-toggle i").toggleClass("icon-arrow-right"),
        t()
    },
    k = function() {
        $("body").hasClass("page-horizontal-bar") && $("body").hasClass("page-sidebar-fixed") && $("body").hasClass("page-header-fixed") && (c.click(), alert("Static header isn't compatible with a fixed horizontal nav mode. I will set a static mode on the horizontal nav."), t()),
        $("body").toggleClass("page-header-fixed"),
        i(),
        t()
    },
    C = function() { ! $("body").hasClass("page-horizontal-bar") || $("body").hasClass("page-sidebar-fixed") || $("body").hasClass("page-header-fixed") || (l.click(), alert("Fixed horizontal nav isn't compatible with a static header mode. I will set a fixed mode on the header.")),
        $("body").hasClass("hover-menu") && !$("body").hasClass("page-sidebar-fixed") && (u.click(), alert("Fixed sidebar isn't compatible with a hover menu mode. I will set an accordion mode on the menu.")),
        $("body").toggleClass("page-sidebar-fixed"),
        $("body").hasClass(".page-sidebar-fixed") && $(".page-sidebar-inner").slimScroll({
            destroy: !0
        }),
        $(".page-sidebar-inner").slimScroll(),
        i(),
        t()
    },
    y = function() {
        $(".sidebar").toggleClass("horizontal-bar"),
        $(".sidebar").toggleClass("page-sidebar"),
        $("body").toggleClass("page-horizontal-bar"),
        $("body").hasClass("page-sidebar-fixed") && !$("body").hasClass("page-header-fixed") && (l.click(), alert("Static header isn't compatible with a fixed horizontal nav mode. I will set a static mode on the horizontal nav.")),
        i(),
        t()
    },
    v = function() {
        $(".page-content").toggleClass("container"),
        $(".search-form").toggleClass("boxed-layout-search"),
        $(".search-form .input-group").toggleClass("container"),
        i(),
        t()
    },
    x = function() {
        $("body").toggleClass("compact-menu"),
        i(),
        t()
    },
    w = function() { ! $("body").hasClass("hover-menu") && $("body").hasClass("page-sidebar-fixed") && (c.click(), alert("Fixed sidebar isn't compatible with a hover menu mode. I will set a static mode on the sidebar."), t()),
        $("body").toggleClass("hover-menu"),
        i(),
        t()
    };
    if ($(".navbar .logo-box a span").text() == m ? p: m, $(".theme-settings").length || $(".sidebar-toggle").click(function() {
        f()
    }), $(".theme-settings").length && (l.onchange = function() {
        k()
    },
    c.onchange = function() {
        C()
    },
    r.onchange = function() {
        y()
    },
    d.onchange = function() {
        f()
    },
    b.onchange = function() {
        x()
    },
    u.onchange = function() {
        w()
    },
    h.onchange = function() {
        v()
    },
    $(".sidebar-toggle").click(function() {
        d.click()
    }), $(".reset-options").click(function() {
        g()
    }), $("body").hasClass("page-sidebar-fixed") || 1 != c.checked || $("body").addClass("page-sidebar-fixed"), $("body").hasClass("page-sidebar-fixed") && 0 == c.checked && $(".fixed-sidebar-check").prop("checked", !0), $("body").hasClass("page-header-fixed") || 1 != l.checked || $("body").addClass("page-header-fixed"), $("body").hasClass("page-header-fixed") && 0 == l.checked && $(".fixed-header-check").prop("checked", !0), $("body").hasClass("page-horizontal-bar") || 1 != r.checked || ($("body").addClass("page-horizontal-bar"), $(".sidebar").addClass("horizontal-bar"), $(".sidebar").removeClass("page-sidebar")), $("body").hasClass("page-horizontal-bar") && 0 == r.checked && $(".horizontal-bar-check").prop("checked", !0), $("body").hasClass("small-sidebar") || 1 != d.checked || $("body").addClass("small-sidebar"), $("body").hasClass("small-sidebar") && 0 == d.checked && $(".horizontal-bar-check").prop("checked", !0), $(".page-content").hasClass("container") || 1 != h.checked || $(".toggle-sidebar-check").addClass("container"), $(".page-content").hasClass("container") && 0 == h.checked && $(".boxed-layout-check").prop("checked", !0), $(".page-content").hasClass("container") || 1 != h.checked || $(".toggle-sidebar-check").addClass("container"), $(".page-content").hasClass("container") && 0 == h.checked && $(".boxed-layout-check").prop("checked", !0), $(".page-content").hasClass("container") || 1 != h.checked || $(".toggle-sidebar-check").addClass("container"), $(".page-content").hasClass("container") && 0 == h.checked && $(".boxed-layout-check").prop("checked", !0)), $(".chat").length) {
        var S = document.getElementById("cbp-spmenu-s1"),
        z = document.getElementById("showRight"),
        E = document.getElementById("closeRight"),
        F = document.getElementById("cbp-spmenu-s2"),
        q = document.getElementById("closeRight2");
        document.body;
        z.onclick = function() {
            classie.toggle(S, "cbp-spmenu-open")
        },
        E.onclick = function() {
            classie.toggle(S, "cbp-spmenu-open")
        },
        q.onclick = function() {
            classie.toggle(F, "cbp-spmenu-open")
        },
        $(".showRight2").click(function() {
            classie.toggle(F, "cbp-spmenu-open")
        }),
        $(".chat-write form input").keypress(function(e) {
            if (13 == e.which && 0 == !$(this).val().length) $('<div class="chat-item chat-item-right"><div class="chat-message">' + $(this).val() + "</div></div>").insertAfter(".chat .chat-item:last-child"),
            $(this).val("");
            else if (13 == e.which) return;
            $(".chat").slimscroll({
                allowPageScroll: !0
            })
        })
    }
});