<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator          |
    |              on 2018-08-04 11:37:32              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 class Wg_sales_Mobile_Detail extends SalesBaseController { public $site = null; public $data = array(); public $size = 10; public function init() { goto qeIn0; Rn6ug: $this->site->loadmodule("\143\x61\x74\x65\x67\157\162\171\115\157\x64\165\154\145"); goto GUois; AcAek: $this->site->loadmodule("\x61\162\x74\151\x63\x6c\x65\115\157\x64\165\x6c\145"); goto Rn6ug; qeIn0: parent::init(); goto AcAek; ynKYE: $this->site->loadmodule("\143\157\x6d\x6d\x65\x6e\x74\115\x6f\x64\x75\x6c\145"); goto LKvse; LKvse: $this->site->loadmodule("\157\x72\144\145\162\x4d\x6f\x64\x75\x6c\x65"); goto BsuUu; GUois: $this->site->loadmodule("\x61\x72\164\x69\143\154\x65\x41\144\115\x6f\x64\165\154\145"); goto ynKYE; BsuUu: } public function index() { goto nBhj2; xudvs: $data["\162\145\x6c\x61\x74\151\x6f\156"] = $this->site->articleModule->getList($category_id, $where, ["\151\144", "\164\151\x74\154\145", "\152\x75\x6d\160", "\165\162\x6c"], "\151\x64\x20\144\x65\x73\143", 2); goto w6eZm; IqBFB: $flag = false; goto xTi8g; y4syT: goto UVDvi; goto cgVj3; N1qjm: $flag = true; goto i0Wsw; cgVj3: wFdyp: goto kah27; xTi8g: ndOyI: goto jelJN; OuSg2: if (!$flag) { goto lPSFR; } goto Ptll2; RJPhm: $this->site->display("\x64\x65\x74\141\151\x6c\x2f\160\x61\171"); goto uOIx0; J34vS: mfyNH: goto q6y6J; N4J7k: $this->site->display("\x64\145\x74\141\151\x6c\x2f\151\x6d\x61\147\145"); goto ZZrMr; TmPxw: $data["\x61\162\x74\151\x63\x6c\x65"]["\143\157\156\164\145\x6e\164"] = $content; goto oS2Ef; yDTDX: $data["\143\157\156\146\x69\x67"] = $this->site->getSettings(); goto h9628; jvWip: sPtqe: goto NiI3L; jsK8T: $video = json_decode($data["\x61\x72\164\x69\143\154\x65"]["\143\157\x6e\x74\x65\156\164"], true); goto c4XaV; y3RYK: $ads = $this->site->arrayIndex($data["\141\x64\x73"], "\151\x64"); goto LdULs; RcsKR: foreach ($c as $value) { goto Rn9bV; x3TYk: if ($value["\x74\x79\x70\145"] == "\x74\x65\170\x74") { goto LLrMi; } goto jVOsr; Rn9bV: if ($value["\164\171\x70\145"] == "\151\155\141\147\145") { goto lPJQ7; } goto x3TYk; uWJ3X: lPJQ7: goto rBDdB; wXR4e: LLrMi: goto XWpov; pperV: $content .= "\74\x70\76\x3c\x69\155\147\40\163\x72\x63\x3d\42" . $value["\144\141\164\141"]["\157\x72\x69\x67\x69\156\141\154"]["\x75\162\154"] . "\42\57\76\x3c\57\160\76"; goto WDWE5; rBDdB: $data["\163\x6c\x69\x64\145\x72"][] = $value["\144\x61\164\141"]["\157\162\151\x67\151\x6e\141\154"]; goto pperV; ssqFl: oVBrV: goto p9HoO; XWpov: $content .= "\x3c\x70\76" . $value["\144\x61\x74\141"] . "\74\x70\x2f\x3e"; goto JYy5O; WDWE5: goto p9lox; goto wXR4e; jVOsr: goto p9lox; goto uWJ3X; JYy5O: p9lox: goto ssqFl; p9HoO: } goto ridE2; Mr0JY: yV7fw: goto F7vnY; hsC8J: jtrmF: goto zJJMC; V2zlo: setcookie($key, 1, time() + 3600, "\57"); goto jeSSV; qL6bE: b8Vs7: goto FJmBy; Ady3R: if (!$ad_ids) { goto EcoS5; } goto zzMPR; XRlr3: $data["\141\x72\x74\151\143\154\145"]["\143\157\156\164\145\x6e\x74"] = $video["\x63\157\x6e\164\145\156\x74"]; goto vvhJZ; Lwr1A: $data["\143\x6f\x6d\x6d\x65\x6e\164"] = $this->site->formatComment($data["\143\x6f\x6d\155\145\156\x74"]); goto Lm9Pu; F7vnY: $s_image = $this->site->formatArrImage($s_images[0])["\x75\x72\154"]; goto jvWip; w6eZm: $data["\143\157\155\x6d\145\156\x74"] = $this->site->commentModule->getList($category_id, ["\141\162\x74\151\143\x6c\145\137\151\144" => $id], ["\151\x64", "\164\x79\160\x65", "\x61\x72\164\x69\x63\154\145\137\151\144", "\x75\151\144", "\x63\x6f\x6e\x74\x65\156\164", "\160\162\x61\x69\x73\145", "\143\162\x65\x61\164\145\137\164\x69\x6d\x65"], "\x69\144\x20\144\145\x73\143", 10); goto Lwr1A; zzMPR: $data["\141\x64\x73"] = $this->site->articleAdModule->getList(["\x69\144" => $ad_ids], ["\52"]); goto y3RYK; EjAnq: $data["\143\x61\x74\x65\x67\x6f\x72\171"] = $this->site->categoryModule->getOne(["\x69\x64" => $category_id]); goto Q01hj; gdq93: if (!($data["\x61\162\164\x69\x63\x6c\x65"]["\x64\x61\x74\141\137\x74\171\x70\145"] == 1)) { goto LhXRJ; } goto AenIf; LdULs: foreach ($ad_id as $k => $v) { $data[$k] = $ads[$v]; Jh4im: } goto wt9OG; oS2Ef: LhXRJ: goto uST66; FJmBy: $url = $_W["\163\151\164\x65\162\x6f\157\x74"] . "\x61\x70\160" . ltrim($this->site->mobileUrl("\144\x65\164\x61\151\x6c", ["\143\141\x74\145\147\x6f\162\x79\137\x69\144" => $category_id, "\151\x64" => $id, "\146\162\157\155\146\x75\x69\x64" => $_SESSION["\x77\x67"]["\165\x73\145\162"][$this->site->site_id]["\151\144"]]), "\x2e"); goto Towf_; qhB4O: if ($flag) { goto jtrmF; } goto ALc_M; x1b0O: goto sPtqe; goto Mr0JY; iw8Ly: if (is_array($s_images) && $s_images) { goto yV7fw; } goto D2Shf; zJJMC: if (!($data["\x61\162\x74\151\143\x6c\145"]["\x74\x79\160\145"] == 2)) { goto Qws3b; } goto N4J7k; NiI3L: if (!(strpos($s_image, "\x68\164\x74\160") === false)) { goto b8Vs7; } goto LjRiQ; FTmCV: $this->site->assign($data); goto qhB4O; uHyL3: if ($_COOKIE[$key]) { goto su5ID; } goto fgSoX; uzoV6: su5ID: goto J34vS; c4XaV: $data["\141\162\x74\x69\x63\x6c\x65"]["\166\x69\x64\145\157\x5f\164\171\160\x65"] = $video["\x76\x69\x64\x65\x6f\x5f\164\x79\x70\x65"]; goto Roj_G; Lcp0_: $data["\x63\x61\164\145"] = $this->site->getCategory(); goto EjAnq; ridE2: hXdzc: goto TmPxw; RDKzn: global $_W; goto MHbDH; q6y6J: if ($data["\x61\x72\164\151\x63\x6c\145"]["\x74\171\x70\x65"] == 3) { goto cP6yd; } goto gdq93; kah27: $flag = false; goto Oh4Uk; U_aDd: $ad_setting = $this->site->getSettings(); goto jHGun; Oh4Uk: UVDvi: goto OuSg2; D2Shf: $share = $this->site->_getCache("\163\150\141\162\145"); goto jFnrY; QXdkf: T8MfV: goto jmevs; wt9OG: rzR2x: goto A8_EO; aMGv1: $c = json_decode($data["\x61\162\x74\151\x63\154\x65"]["\x63\x6f\x6e\164\145\x6e\x74"], true)["\x63\157\x6e\x74\x65\156\x74"]; goto RcsKR; h9628: $data["\x61\162\164\x69\143\x6c\145"] = $this->site->articleModule->getOne($category_id, ["\151\144" => $id]); goto ixBKO; jelJN: goto z1QxE; goto D5jNW; apKc4: $ad_id = json_decode($data["\141\162\164\151\x63\154\145"]["\x67\157\x6f\x64\163\137\151\x6e\146\157"], true); goto Wip21; TETW2: $data["\x6c\151\x73\x74"] = $this->site->getNewsArticles($data["\x63\141\164\145"]); goto apKc4; jFnrY: $s_image = $share["\160\151\x63\x75\x72\x6c"]; goto x1b0O; jHGun: foreach (self::$AD_TYPE as $key => $value) { goto PSi0z; hPCaP: TbgUN: goto JyOnb; XkqPu: lpz1l: goto hPCaP; DKZ73: $ad_id[$key] = $ad_setting[$key]; goto XkqPu; PSi0z: if (!(!isset($ad_id[$key]) && $ad_setting[$key])) { goto lpz1l; } goto DKZ73; JyOnb: } goto QXdkf; LjRiQ: $s_image = $_W["\x61\164\x74\141\x63\150\165\x72\154"] . $s_image; goto qL6bE; ZZrMr: Qws3b: goto RJPhm; D5jNW: cP6yd: goto jsK8T; ALc_M: $this->site->display("\x64\x65\164\141\x69\x6c\x2f\145\162\162\x6f\162"); goto hsC8J; Wip21: $ad_ids = []; goto U_aDd; MHbDH: $s_images = @json_decode($data["\x61\162\x74\151\x63\154\145"]["\x69\x6d\141\x67\x65"], true); goto iw8Ly; jeSSV: goto mfyNH; goto uzoV6; Roj_G: $data["\x61\162\164\151\143\x6c\145"]["\166\151\x64\x65\x6f\x5f\x75\162\x6c"] = $video["\x76\151\144\145\157\x5f\165\162\x6c"]; goto K5tyE; jmevs: foreach ($ad_id as $value) { $ad_ids[] = $value; z1lmG: } goto jSnW1; jSnW1: UCCHP: goto Ady3R; ixBKO: $key = "\167\147\x5f\163\x61\154\145\163\137\143\x6f\x6d\155\x65\156\164\x5f\141\162\164\x69\143\x6c\x65\x5f" . $category_id . "\x5f" . $id; goto uHyL3; Towf_: $data["\x73\150\x61\162\145"] = ["\x74\x69\164\154\145" => $data["\141\x72\164\x69\143\154\x65"]["\164\151\164\x6c\x65"], "\x64\145\163\x63" => $data["\x61\162\164\151\143\x6c\x65"]["\164\145\x78\x74"] ? $data["\x61\x72\x74\x69\x63\x6c\145"]["\x74\145\x78\164"] : $data["\141\x72\x74\151\x63\154\145"]["\164\x69\164\x6c\145"], "\x6c\151\x6e\x6b" => $url, "\x69\155\147\x55\x72\x6c" => $s_image]; goto y4syT; Ptll2: $where["\x69\x64\40\74"] = $id; goto xudvs; fgSoX: $this->site->articleModule->update($category_id, ["\x69\144" => $id], ["\162\x65\141\144\x5f\164\x69\155\x65\x73\x20\x2b\x3d" => "\x31"]); goto V2zlo; Lm9Pu: lPSFR: goto TETW2; Q01hj: $data["\x63\141\x74\x65\x67\x6f\162\x79\137\x69\144"] = $category_id; goto N1qjm; i0Wsw: if (!$data["\x63\x61\164\145\x67\x6f\162\x79"]) { goto wFdyp; } goto yDTDX; uEjO7: $id = intval($_REQUEST["\151\144"]); goto Lcp0_; AenIf: $content = ''; goto aMGv1; nBhj2: $category_id = intval($_REQUEST["\x63\x61\x74\x65\147\157\162\x79\x5f\151\144"]); goto uEjO7; uST66: if ($data["\x61\162\x74\151\143\x6c\145"]) { goto ndOyI; } goto IqBFB; K5tyE: $data["\x61\x72\164\151\x63\x6c\x65"]["\x69\x6d\141\x67\145"] = json_decode($data["\x61\162\164\151\x63\x6c\x65"]["\151\x6d\x61\147\145"], true)[0]["\x75\162\x6c"]; goto XRlr3; A8_EO: EcoS5: goto FTmCV; vvhJZ: z1QxE: goto RDKzn; uOIx0: } public function video() { goto VO8g8; xTOvp: $this->site->assign($data); goto CiGr8; EpILo: $id = intval($_REQUEST["\151\x64"]); goto vD5BM; BTxaQ: if (!($data["\141\x72\164\x69\x63\154\145"]["\x74\171\160\145"] == 3)) { goto A_2au; } goto KswaO; DalLB: $data["\x61\x72\164\x69\x63\x6c\x65"]["\166\x69\144\145\157\x5f\x75\x72\154"] = $video["\166\x69\x64\145\x6f\x5f\x75\x72\154"]; goto Xf0r3; vD5BM: $data["\x61\x72\x74\151\143\x6c\x65"] = $this->site->articleModule->getOne($category_id, ["\151\144" => $id]); goto BTxaQ; KswaO: $video = json_decode($data["\x61\162\x74\151\143\154\145"]["\x63\157\156\164\x65\x6e\x74"], true); goto ILHe2; CiGr8: $this->site->display("\x64\x65\164\x61\151\154\x2f\x76\x69\144\145\x6f\64"); goto V5n5e; NAR4G: A_2au: goto xTOvp; ILHe2: $data["\141\162\164\151\143\x6c\145"]["\166\151\144\x65\157\x5f\164\171\160\x65"] = $video["\x76\151\x64\x65\x6f\x5f\164\171\x70\145"]; goto DalLB; cnOsn: $data["\x61\162\164\151\143\x6c\145"]["\143\157\156\x74\x65\x6e\164"] = $video["\143\x6f\x6e\x74\145\x6e\164"]; goto NAR4G; VO8g8: $category_id = intval($_REQUEST["\143\141\x74\x65\147\157\x72\x79\x5f\x69\144"]); goto EpILo; Xf0r3: $data["\x61\162\164\151\x63\154\x65"]["\151\x6d\141\x67\145"] = json_decode($data["\141\x72\164\151\143\x6c\x65"]["\151\x6d\x61\x67\x65"], true)[0]["\165\x72\x6c"]; goto cnOsn; V5n5e: } public function comment() { goto DoXfR; lB0kg: if ($data["\143\x6f\156\x74\x65\156\164"]) { goto bUtLX; } goto W212R; CWy6E: $data["\141\x72\164\x69\143\x6c\145\137\151\x64"] = intval($_REQUEST["\x61\162\x74\x69\143\x6c\x65\x5f\x69\144"]); goto A3g2X; T3hpG: bUtLX: goto eZwPH; BxLlq: $article = $this->site->articleModule->getOne($category_id, ["\151\144" => $data["\x61\162\164\x69\143\154\145\137\x69\144"]], ["\163\x70\145\x63\151\141\154"]); goto nR2zC; W212R: echo json_encode(["\143\x6f\144\x65" => 1, "\155\163\x67" => "\xe5\x86\205\xe5\xae\xb9\344\270\215\xe8\203\275\344\xb8\272\xe7\xa9\xba"]); goto FWOO1; aAD_u: if (!($article["\x73\x70\x65\x63\x69\141\x6c"] & $this->site->special["\165\156\x63\157\x6d\x6d\x65\156\164"])) { goto Xl6In; } goto lB0kg; DoXfR: $data["\143\157\x6e\x74\145\156\x74"] = trim($_REQUEST["\x63\157\156\x74\x65\156\164"]); goto CWy6E; DXQps: exit; goto VUHfb; FWOO1: exit; goto T3hpG; A3g2X: $data["\143\x72\x65\141\164\x65\x5f\164\x69\x6d\x65"] = time(); goto VvgeT; ppm_n: if (!$result) { goto DM1jP; } goto WLXaw; CpWxn: exit; goto MiUfa; WLXaw: $this->site->articleModule->update($category_id, ["\x69\x64" => $data["\x61\162\164\151\143\154\x65\137\x69\144"]], ["\x63\157\x6d\x6d\x65\156\164\x5f\x74\151\155\x65\163\40\x2b\x3d" => "\x31"]); goto PDOWC; X6KpU: $data["\165\x69\x64"] = $_SESSION["\167\147"]["\165\x73\145\162"][$this->site->site_id]["\x69\x64"]; goto mb9f6; PGjJw: echo json_encode(["\143\x6f\x64\x65" => 1, "\155\163\x67" => "\350\257\204\350\xae\xba\345\xa4\261\350\264\xa5"]); goto DXQps; PDOWC: echo json_encode(["\143\157\x64\x65" => 0, "\155\x73\x67" => '']); goto CpWxn; q2F89: Xl6In: goto PGjJw; nR2zC: if (!$_SESSION["\x77\x67"]["\x75\163\x65\162"][$this->site->site_id]) { goto IzNm1; } goto X6KpU; mb9f6: IzNm1: goto aAD_u; MiUfa: DM1jP: goto q2F89; VvgeT: $category_id = intval($_REQUEST["\x63\141\164\145\x67\x6f\162\x79\x5f\x69\x64"]); goto BxLlq; eZwPH: $result = $this->site->commentModule->add($category_id, $data); goto ppm_n; VUHfb: } public function praise() { goto CJ1c4; XQFnB: $category_id = intval($_REQUEST["\143\141\164\145\x67\x6f\162\171\x5f\x69\144"]); goto G0e3p; RZxaz: echo json_encode(["\143\157\144\145" => 1, "\155\x73\147" => '']); goto FTR1X; hbgeg: if (!$_COOKIE[$key]) { goto uuqk0; } goto RZxaz; xFbNJ: $this->site->commentModule->update($category_id, ["\151\x64" => $id], ["\x70\x72\141\151\163\x65\40\53\x3d" => "\x31"]); goto MwkuY; FTR1X: exit; goto eSLY3; FZzPm: echo json_encode(["\x63\157\144\x65" => 0, "\x6d\x73\x67" => '']); goto j0UXe; MwkuY: setcookie($key, 1, time() + 3600 * 24, "\x2f"); goto FZzPm; j0UXe: exit; goto Q2vJi; eSLY3: uuqk0: goto xFbNJ; G0e3p: $key = "\x77\147\137\x73\x61\154\145\x73\x5f\x70\x72\141\151\163\x65\137" . $category_id . "\x5f" . $id; goto hbgeg; CJ1c4: $id = intval($_REQUEST["\x69\x64"]); goto XQFnB; Q2vJi: } public function praisearticle() { goto a4d6f; rafYx: echo json_encode(["\x63\x6f\144\145" => 0, "\155\163\147" => '']); goto V1xXV; a4d6f: $id = intval($_REQUEST["\x69\144"]); goto J2GFx; V1xXV: exit; goto Tg1qf; tPrLE: $this->site->articleModule->update($category_id, ["\151\x64" => $id], ["\160\162\x61\151\163\145\40\x2b\x3d" => "\x31"]); goto oiJyo; DK31p: $key = "\167\x67\x5f\163\141\154\x65\163\x5f\x70\x72\x61\x69\x73\145\137\141\162\x74\151\143\154\x65\x5f" . $category_id . "\x5f" . $id; goto RI0NT; J2GFx: $category_id = intval($_REQUEST["\x63\141\164\x65\147\x6f\x72\x79\x5f\x69\x64"]); goto DK31p; Vyfph: p2pxB: goto tPrLE; wH_DU: echo json_encode(["\143\x6f\x64\145" => 1, "\x6d\x73\147" => '']); goto zyWCP; zyWCP: exit; goto Vyfph; RI0NT: if (!$_COOKIE[$key]) { goto p2pxB; } goto wH_DU; oiJyo: setcookie($key, 1, time() + 3600 * 24, "\x2f"); goto rafYx; Tg1qf: } public function commentlist() { } public function reward() { goto Wzqxj; GHe_T: foreach ($list as $reward) { goto Kx4Yc; yFE2w: BTK6s: goto qBzhk; s9x8V: $user_ids[] = $reward["\x75\151\144"]; goto yFE2w; qBzhk: tSRtp: goto abFco; Kx4Yc: if (!$reward["\165\151\144"]) { goto BTK6s; } goto s9x8V; abFco: } goto ck_ua; Mf9Rx: if (!(count($list) < $this->size)) { goto N4O7g; } goto aw67w; aw67w: $data["\x6d\157\x72\145"] = false; goto g48Yz; IMha_: Lxupi: goto D_xVG; ck_ua: m2JE2: goto d9lww; wNlBM: $list = $this->site->orderModule->getList($where, ["\165\x69\144", "\160\141\x79\137\x6d\x6f\x6e\145\171", "\x69\x64"], "\x69\144\x20\144\145\163\x63", $this->size); goto iWQor; Wzqxj: $this->site->loadmodule("\x75\163\x65\162\x4d\157\144\x75\154\145"); goto KO9HV; c5sM0: exit; goto exPRo; ACa6r: if (!($id > 0)) { goto bOgSt; } goto zwHU7; d9lww: $user_ids = array_unique($user_ids); goto V1iic; GHCTZ: bOgSt: goto wNlBM; H90J0: $where = ["\x63\141\164\x65\x67\157\162\x79\x5f\151\x64" => $category_id, "\141\162\164\x69\143\154\x65\137\x69\144" => $article_id, "\x73\x74\141\164\x75\163" => 2]; goto dweny; TUfAV: foreach ($list as &$value) { goto qxQ0Y; CyBuh: $value["\156\x69\x63\153\x6e\x61\155\x65"] = $users[$value["\165\x69\144"]]["\156\x69\x63\x6b\156\x61\155\145"]; goto PO44d; qxQ0Y: if ($users[$value["\165\151\x64"]]["\150\x65\x61\x64\x69\155\x67\x75\x72\x6c"]) { goto bKDHR; } goto s3W87; s3W87: $users[$value["\165\x69\x64"]]["\150\145\x61\144\151\x6d\147\165\162\154"] = STATIC_ROOT . "\x2f\x69\155\141\x67\x65\x73\57\150\145\141\x64\56\x70\156\x67"; goto WXNj7; PO44d: Z64Af: goto v1tD4; vqBsF: $value["\x68\x65\141\x64\x69\155\147\x75\x72\x6c"] = $users[$value["\x75\151\144"]]["\150\145\141\x64\151\x6d\x67\x75\x72\x6c"]; goto CyBuh; WXNj7: bKDHR: goto vqBsF; v1tD4: } goto IMha_; g48Yz: N4O7g: goto Ov7Ms; HF0c8: $users = $this->site->arrayIndex($users, "\151\x64"); goto TUfAV; aktRQ: $article_id = (int) $_REQUEST["\141\162\164\x69\143\x6c\145\137\x69\x64"]; goto K6kQF; zwHU7: $where["\x69\144\x20\74"] = $id; goto GHCTZ; Ov7Ms: $data["\154\x69\163\x74"] = $list; goto R6dyu; R6dyu: echo json_encode($data); goto c5sM0; dweny: $data["\x6d\x6f\162\x65"] = true; goto ACa6r; D_xVG: s7czx: goto Mf9Rx; iWQor: if (!$list) { goto s7czx; } goto GHe_T; V1iic: $users = $this->site->userModule->getList(["\x69\x64" => $user_ids], ["\156\x69\143\x6b\156\141\155\145", "\x68\x65\141\x64\x69\x6d\147\165\x72\x6c", "\151\x64"]); goto HF0c8; K6kQF: $id = (int) $_REQUEST["\x69\x64"]; goto H90J0; KO9HV: $category_id = (int) $_REQUEST["\x63\141\164\x65\x67\157\162\x79\137\x69\144"]; goto aktRQ; exPRo: } }