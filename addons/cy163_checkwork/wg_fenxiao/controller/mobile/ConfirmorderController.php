<?php
 class ConfirmorderController extends MobileBaseController { public function index() { goto x4BXX; wu6SK: $this->data["\x61\144\x64\162\145\x73\x73\x5f\156\x65\145\x64"] = false; goto jpD2T; xp57W: if (!$order_info) { goto AK2QP; } goto LBSxb; rshFz: $zhekou = $this->arrayIndex($zhekou, "\x67\157\157\x64\163\137\x69\144"); goto mSn5Q; q936L: if (!$order_detail) { goto kG7Wm; } goto QyzrW; tVH3B: $goods_info = $this->GoodsModel->getList(["\151\x64" => $ids, "\x73\164\x61\x74\165\x73" => 1], ["\x69\x64", "\x67\x6f\x6f\x64\x73\156\x61\155\145", "\155\x61\x72\x6b\x65\x74\x70\162\151\143\145", "\164\150\165\x6d\142", "\161\x75\141\156\x67\x75\157\171\157\165\146\x65\151", "\x67\x6f\157\144\x73\x74\x79\x70\145"]); goto jf7km; ccGJj: $where = ["\x73\x74\x61\162\x74\x20\74" => time(), "\x65\x6e\x64\x20\x3e" => time(), "\147\x6f\157\x64\x73\x5f\x69\144" => $ids, "\164\x79\160\145" => 1]; goto SuvMg; QyzrW: $pay_str = ''; goto jzfAm; YRwx6: lo0uz: goto lRxfe; eXDdH: $data["\160\141\x79\x5f\x69\156\146\x6f"] = trim($_GET["\160\141\171\x5f\x69\x6e\x66\x6f"]); goto HVnkB; B4bVa: $goods_types = $this->GoodsTypeModel->getList(["\x69\144" => $goods_types, "\x64\x65\x6c" => 0], "\52"); goto u_jt3; M71LX: message("\xe8\xaf\xb7\346\202\250\345\x9c\250\xe5\xbe\256\344\277\xa1\xe7\253\xaf\xe8\xae\277\351\x97\256", $this->createMobileUrl("\163\x68\157\160")); goto H1jfN; L0N1C: LOY5V: goto gVmeW; R3O1M: $goods_types = array_unique($goods_types); goto B4bVa; KMzK2: $this->display(); goto D8G5P; x4BXX: if ($this->uid) { goto EKslF; } goto M71LX; k5qUx: if (!$goods_types) { goto Il_2d; } goto R3O1M; uAMOu: foreach ($pay_info as $detail) { goto ykExm; RDHOJ: $ids[] = $goods_id; goto PfQ6f; PfQ6f: if (!$type) { goto oSEuH; } goto gKBmS; gKBmS: $goods_types[] = $type; goto S5FpW; TTFI_: AeDum: goto sxWji; W_EtP: $goods_ids[$goods_id . "\137" . $type] = ["\151\x64" => $goods_id, "\x61\x6d\157\x75\x6e\164" => $amount, "\164\x79\160\145" => $type]; goto RDHOJ; S5FpW: oSEuH: goto TTFI_; ykExm: list($goods_id, $amount, $type) = explode("\x5f", $detail); goto W_EtP; sxWji: } goto ovXR5; Z6har: $data["\x61\x64\x64\162\x65\163\x73"] = $this->AddressModel->getList(["\165\x6e\151\x61\143\151\x64" => $this->W["\165\x6e\x69\x61\143\151\144"], "\165\x69\x64" => $this->uid], "\52"); goto Q6wBX; ABgAa: $order_id = intval($_GET["\x6f\162\x64\x65\162\137\x69\144"]); goto piLhk; VI18P: $this->assign($this->data); goto KMzK2; uuSvY: AK2QP: goto F0f1m; tRn2a: $pay_info = explode("\54", $pay_info); goto A2S_j; jf7km: $goods_info = $this->arrayIndex($goods_info, "\151\144"); goto J6DU7; pqAAJ: $data["\154\x65\x76\145\154\x6e\x61\155\x65"] = $this->userInfo["\x6c\x65\x76\145\154\156\141\155\145"]; goto JXvqE; gCfxb: $order_info = $this->OrderModel->getOne(["\151\144" => $order_id, "\x6d\x65\155\x62\x65\162\x69\x64" => $this->uid]); goto xp57W; mBV_y: if (!$pay_info) { goto L90On; } goto tRn2a; o57qO: $ids = array_unique($ids); goto tVH3B; rDiGm: $data["\160\157\163\x74\x61\x67\145"] = number_format($postage, 2, "\x2e", ''); goto kQHeY; Ma6Iq: Il_2d: goto FNbFQ; NpT30: $data["\141\154\x6c"] = number_format($all + $postage, 2, "\56", ''); goto R0WBI; u_jt3: $goods_types = $this->arrayIndex($goods_types, "\x69\144"); goto Ma6Iq; mSn5Q: $money = $postage = $all = 0; goto wu6SK; jpD2T: foreach ($goods_ids as &$value) { goto WCXly; dVe9q: ruZq3: goto BJqJn; F1NWq: V_lou: goto ouzTr; r7aoc: jde99: goto K3DOw; ipEk_: $all += $value["\x61\155\157\x75\156\164"] * $value["\x74\171\160\145\x5f\151\156\146\x6f"]["\x6d\141\162\x6b\x65\x74\x70\162\x69\143\145"] * $value["\172\150\145\153\x6f\165"] / 10; goto XQs1d; hp6KF: if (!($value["\x74\171\160\x65"] && $goods_types[$value["\x74\171\160\x65"]])) { goto ruZq3; } goto EOp1N; ouzTr: $value["\x67\x6f\x6f\144\x73\137\151\x6e\x66\157"] = $goods_info[$value["\x69\144"]]; goto nbrZL; YVv3P: $value = null; goto hu_Uv; dsx1N: $money += $value["\x61\x6d\157\165\x6e\x74"] * $value["\164\171\x70\145\x5f\x69\x6e\146\x6f"]["\x6d\x61\162\153\145\x74\160\162\151\x63\145"]; goto ipEk_; nbrZL: if (!($value["\x67\x6f\x6f\144\x73\x5f\151\156\x66\157"]["\147\x6f\x6f\x64\x73\164\171\160\x65"] == 0)) { goto XR9EK; } goto m8Wo_; wBAp0: Dn815: goto hp6KF; yO9SO: goto kW45b; goto r7aoc; K3DOw: $value["\x7a\x68\145\x6b\157\165"] = $zhekou[$value["\x69\144"]]["\172\150\145\x6b\x6f\165"] && $zhekou[$value["\151\x64"]]["\172\x68\x65\153\x6f\x75"] > 0 ? $zhekou[$value["\151\x64"]]["\172\150\145\153\157\165"] : 10; goto QA7j1; QA7j1: kW45b: goto dsx1N; m8Wo_: $this->data["\x61\144\x64\x72\145\x73\x73\137\156\145\145\x64"] = true; goto cIr24; QXcC1: $postage = $value["\147\x6f\x6f\144\163\137\x69\156\x66\x6f"]["\x71\x75\141\x6e\147\165\157\x79\x6f\x75\x66\x65\151"] > $postage ? $value["\147\x6f\157\x64\x73\x5f\x69\x6e\146\157"]["\161\x75\x61\156\147\x75\x6f\171\157\x75\x66\145\151"] : $postage; goto wBAp0; RvL76: if (!($value["\147\x6f\x6f\x64\x73\137\x69\x6e\x66\x6f"]["\x71\165\x61\156\x67\165\x6f\171\x6f\x75\x66\x65\x69"] > 0)) { goto Dn815; } goto QXcC1; aGYgm: YdLpb: goto Gk0wt; XQs1d: CQLLc: goto aGYgm; oWAPD: $value["\172\150\145\153\157\165"] = $data["\x7a\150\x65\153\157\x75"]; goto yO9SO; hu_Uv: goto CQLLc; goto F1NWq; WCXly: if ($goods_info[$value["\x69\144"]]) { goto V_lou; } goto YVv3P; cIr24: XR9EK: goto RvL76; EOp1N: $value["\x74\x79\x70\x65\x5f\151\x6e\146\x6f"] = $goods_types[$value["\x74\x79\160\145"]]; goto dVe9q; BJqJn: if ($zhekou[$value["\x69\144"]]) { goto jde99; } goto oWAPD; Gk0wt: } goto xhs4c; R0WBI: $data["\x6c\x69\163\164"] = $goods_ids; goto eXDdH; piLhk: $data["\157\x72\144\x65\162\x5f\x69\144"] = 0; goto otR17; A2S_j: if (!$pay_info) { goto lo0uz; } goto uAMOu; FNbFQ: if (!$ids) { goto b4sWr; } goto o57qO; J6DU7: b4sWr: goto ccGJj; HVnkB: $this->assign($data); goto VI18P; H1jfN: EKslF: goto ABgAa; LBSxb: $order_detail = $this->OrderDetailModel->getList(["\x6f\162\144\145\x72\137\151\144" => $order_id], ["\x67\157\x6f\144\163\137\151\144", "\141\155\x6f\165\156\164", "\164\171\160\x65\x5f\x69\x64"]); goto q936L; joocR: $goods_types = []; goto m3V1l; Qc1GQ: $data["\x6f\162\144\145\x72\137\151\144"] = $order_id; goto oCj7E; otR17: $data["\x7a\150\x65\153\x6f\x75"] = $this->userInfo["\172\x68\x65\153\157\165"]; goto pqAAJ; ovXR5: bCfyy: goto YRwx6; nCNWb: if (!$order_id) { goto X7bdU; } goto gCfxb; kQHeY: $data["\156\145\x65\x64"] = number_format($money + $postage, 2, "\x2e", ''); goto NpT30; oCj7E: kG7Wm: goto uuSvY; JXvqE: $data["\x77\x71\160\x61\x79"] = $this->site->configs["\x63\x6f\x6e\146\151\147"]["\x77\x71\x70\141\171"]; goto nCNWb; F0f1m: X7bdU: goto joocR; gVmeW: $_GET["\160\x61\171\137\x69\156\146\x6f"] = rtrim($pay_str, "\54"); goto Qc1GQ; lRxfe: L90On: goto k5qUx; cD8TP: $ids = $goods_info = $goods_ids = []; goto mBV_y; SuvMg: $zhekou = $this->GouModel->getList($where, ["\x2a"]); goto rshFz; jzfAm: foreach ($order_detail as $value) { $pay_str .= $value["\x67\x6f\x6f\x64\x73\137\x69\144"] . "\137" . $value["\141\155\157\x75\156\164"] . "\137" . $value["\164\x79\x70\x65\137\x69\x64"] . "\54"; QhCDL: } goto L0N1C; xhs4c: Ehijt: goto Z6har; Q6wBX: $data["\155\x6f\x6e\145\x79"] = number_format($money, 2, "\56", ''); goto rDiGm; m3V1l: $pay_info = trim($_GET["\160\141\171\137\151\x6e\x66\157"]); goto cD8TP; D8G5P: } }