<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator          |
    |              on 2018-08-04 11:37:34              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 class Wg_sales_Mobile_Index extends SalesBaseController { public $data = array(); public $size = 20; public function init() { goto Z13L7; Z13L7: parent::init(); goto oWMPY; TovPx: $this->site->loadmodule("\x61\162\164\151\143\154\x65\x4d\157\144\x75\154\x65"); goto kYl7i; oWMPY: $this->site->loadmodule("\x73\154\151\144\x65\x72\x4d\x6f\x64\165\x6c\x65"); goto TovPx; kYl7i: } public function index() { goto nKJpD; nOBJv: if ($data["\143\x61\x74\137\151\x6e\x64\x65\170"][0]["\144\145\154"]) { goto TUo_r; } goto UYuf7; aJTH2: TUo_r: goto AJGFe; eaEJN: if ($data["\143\x61\x74\145"][$category_id]) { goto ZQiF6; } goto Z5IrP; lUylx: if ($category_id == 0) { goto eXqE0; } goto xWfwS; hf_K_: $this->site->assign($data); goto ichoi; Qs2sS: $share = $this->site->_getCache("\x73\150\141\x72\x65"); goto WKqRg; cOV2C: $data["\x63\x6f\x6e\146\151\147"] = $this->site->getSettings(); goto lUylx; AJGFe: $data["\143\x61\164\x65"] = $this->site->arrayIndex($cate, "\x69\x64"); goto eaEJN; xWfwS: goto DHbgx; goto EfPw3; B9GAi: $cate = $this->site->getCategory(); goto BxvVo; UYuf7: array_unshift($cate, $data["\143\141\164\x5f\151\x6e\144\145\170"][0]); goto aJTH2; GN8z3: $data["\163\x68\x61\x72\145"] = ["\x74\151\x74\x6c\x65" => $share["\164\151\x74\154\x65"], "\144\x65\x73\x63" => $share["\x64\x65\163\x63\162\151\160\164\151\x6f\x6e"], "\x6c\151\156\153" => $_W["\x73\151\164\x65\162\x6f\157\x74"] . $_SERVER["\122\105\x51\125\x45\x53\124\x5f\x55\x52\111"], "\151\x6d\147\x55\162\x6c" => $share["\160\151\143\x75\162\154"]]; goto hf_K_; nKJpD: $category_id = intval($_GET["\x63\x61\164\x65\x67\x6f\x72\x79\137\x69\x64"]); goto B9GAi; pPjKf: $data["\164\x6f\x70\137\156\145\x77\163"] = $this->site->sliderModule->getList(["\x75\x6e\x69\x61\x63\151\144" => $this->site->site_id, "\163\x6f\165\162\143\145" => -1, "\x73\164\x61\162\164\40\x3c" => time(), "\145\x6e\x64\40\x3e" => time()], "\144\151\x73\160\x6c\141\171\137\157\x72\x64\145\162\40\x61\x73\143"); goto y748y; EfPw3: eXqE0: goto pPjKf; BxvVo: $data["\x63\x61\164\137\x69\x6e\144\145\x78"][0] = $this->site->getCategoryIndex(); goto nOBJv; MLjw8: ZQiF6: goto cOV2C; Z5IrP: $category_id = $cate[0]["\151\144"]; goto MLjw8; y748y: DHbgx: goto iu_F1; iu_F1: $data["\x63\x61\x74\145\147\157\162\171"] = $data["\x63\141\164\145"][$category_id]; goto Qs2sS; WKqRg: global $_W; goto GN8z3; ichoi: } public function more() { goto ikVaD; mIQbu: nZQwZ: goto ixNQW; q71tn: $ii = 1; goto oV2SV; oV2SV: foreach ($data["\141\162\164\151\143\154\x65"] as $value) { goto rsbZZ; rsbZZ: GIUDo: goto VssXQ; tncJ9: $new_article[] = $this->_formatarticle($category_id, $value); goto Y_E3j; Y_E3j: $data["\x6d\151\x6e\137\151\144"] = $value["\151\144"]; goto Koynf; bpeQ7: $new_article[] = $this->_formatarticle($category_id, $top[$ii], true); goto ld2gT; Npm10: q7_ej: goto tncJ9; BGNOG: $ii++; goto t6lWh; t6lWh: goto GIUDo; goto Npm10; VssXQ: if (!isset($top[$ii])) { goto q7_ej; } goto bpeQ7; ld2gT: unset($top[$ii]); goto BGNOG; Koynf: $ii++; goto IvNbd; IvNbd: iL1H8: goto R4PPE; R4PPE: } goto At4L5; ZTaR2: lBpUU: goto as01U; J5ILd: $cate = $this->site->arrayIndex($cate, "\151\144"); goto B5k_3; DcFEH: glSnG: goto tzyhn; Ti7g6: uvxxU: goto xMd0f; FXL_C: $top_ids = []; goto Fu3d9; UPGHj: iQMxK: goto IGwJh; i_wQf: GChcN: goto ZTaR2; bxoYn: $article = $this->site->getNewsArticles($cate); goto m9CPK; TDBqw: $where["\x69\x64\x20\74"] = $id; goto pEGjH; m9CPK: foreach ($article as $value) { goto Lfrj2; Tz9tr: npL81: goto x0mTB; x0mTB: i_qsz: goto CZUnS; Lfrj2: if (!$value["\x61\x72\164\151\143\x6c\x65"]) { goto i_qsz; } goto BM1y3; CZUnS: ayok3: goto fUh8S; BM1y3: foreach ($value["\141\x72\x74\x69\x63\154\145"] as $v) { goto AP83e; ifyMd: $v["\x6b\x77"] = $v["\153\x77"] ? $v["\153\x77"] : $value["\x63\x61\164\145\x67\157\x72\171"]["\x6e\x61\x6d\145"]; goto oiWct; oiWct: $data["\x61\x72\x74\x69\143\x6c\145"][] = $v; goto YdxhO; AP83e: $v["\143\x61\x74\x65\147\x6f\x72\x79\137\x69\144"] = $value["\x63\x61\x74\145\147\157\162\171"]["\151\x64"]; goto ifyMd; YdxhO: uPMqL: goto FVtTr; FVtTr: } goto Tz9tr; fUh8S: } goto mIQbu; qsEtY: foreach ($slider as $s) { goto yDNj2; yDNj2: if (!($s["\x73\164\x61\162\x74"] < time() && $s["\x65\156\144"] > time())) { goto rrBnW; } goto ubynE; OZLbG: HnfVk: goto Eyk8Z; V0y4L: $top_ids[] = $s["\141\x72\x74\x69\x63\154\x65\x5f\x69\x64"]; goto OZLbG; WMklU: $top[] = $s; goto oKZ_3; gOYE5: Wh983: goto SA1tT; Eyk8Z: rrBnW: goto gv0Fk; SA1tT: $data["\163\x6c\x69\144\x65\x72"][] = ["\x74\x69\x74\154\145" => $s["\164\151\x74\x6c\x65"], "\x73\162\143" => $this->site->formatArrImage(json_decode($s["\x69\x6d\141\147\x65"], true)[0])["\x75\162\x6c"], "\x75\x72\154" => $s["\x6a\x75\155\160"] ? $s["\x75\x72\154"] : $this->site->mobileUrl("\x64\x65\x74\x61\151\154", ["\143\141\x74\x65\x67\157\x72\x79\x5f\x69\144" => $s["\x63\141\164\x65\x67\157\x72\x79\137\151\x64"], "\x69\x64" => $s["\141\x72\x74\151\143\154\x65\x5f\x69\144"]])]; goto V0y4L; ubynE: if ($s["\x74\171\x70\x65"] == 0) { goto Wh983; } goto WMklU; gv0Fk: vhS8J: goto J3US_; oKZ_3: goto HnfVk; goto gOYE5; J3US_: } goto i_wQf; inQ8g: exit; goto JLGqZ; lPaQ2: if (!$top) { goto glSnG; } goto DpjpM; mSvWt: $data["\x73\x6c\x69\x64\x65\x72"] = []; goto RjU1J; l9buW: LHKW8: goto lt2TH; tX277: if (!(count($data["\x61\162\x74\x69\143\154\x65"]) < $this->size)) { goto uvxxU; } goto KzxgL; tzyhn: $new_article = []; goto q71tn; CHDFB: zTw9u: goto lPaQ2; NbtKQ: $cate = $this->site->getCategory(); goto J5ILd; as01U: if ($category_id == 0) { goto pXY20; } goto TDBqw; DpjpM: $top = $this->site->arrayIndex($top, "\x64\151\163\160\154\x61\x79\137\157\x72\x64\145\162"); goto DcFEH; ckaBh: echo json_encode($data); goto inQ8g; C5C97: $data["\163\150\141\162\145"] = ["\164\151\x74\x6c\x65" => $data["\143\x6f\x6e\146\x69\x67"]["\156\141\x6d\145"] . "\55" . $category["\x6e\141\x6d\145"], "\x64\x65\163\x63" => "\xe6\234\x80\xe6\x96\260" . $category["\156\x61\x6d\145"] . "\344\xbf\xa1\346\x81\257", "\x6c\151\156\x6b" => $this->site->webmobileUrl("\x64\x65\164\x61\151\x6c", ["\x63\x61\164\145\147\x6f\162\171\x5f\x69\x64" => $category_id])]; goto ckaBh; ixNQW: $data["\155\x6f\x72\x65"] = false; goto CHDFB; KzxgL: $data["\x6d\x6f\162\x65"] = false; goto Ti7g6; GNVoL: $cate = $this->site->getCategory(); goto bxoYn; gBJ4O: $id = intval($_REQUEST["\151\144"]); goto mSvWt; H4fPK: global $_W; goto NbtKQ; KzfjK: goto zTw9u; goto MlaY0; G0hb6: $slider = $this->site->sliderModule->getList(["\165\156\151\x61\143\x69\x64" => $this->site->site_id, "\x73\x6f\x75\162\143\x65" => $category_id], "\144\151\163\160\x6c\141\171\x5f\157\x72\144\x65\x72\x20\141\x73\x63"); goto qsEtY; d9mUP: $category_id = intval($_REQUEST["\143\141\x74\145\x67\x6f\162\x79\x5f\x69\144"]); goto gBJ4O; B5k_3: $category = $cate[$category_id]; goto C5C97; RjU1J: $top = []; goto FXL_C; IGwJh: $data["\141\x72\164\151\x63\x6c\x65"] = $new_article; goto H4fPK; MlaY0: pXY20: goto GNVoL; xMd0f: foreach ($data["\x61\162\x74\151\x63\x6c\145"] as $art) { goto n01wD; KIRNI: CMQ2P: goto Usp94; n01wD: if (in_array($art["\x69\144"], $top_ids)) { goto jBwa4; } goto LSzSb; xbsPG: jBwa4: goto KIRNI; LSzSb: $new_article[] = $art; goto xbsPG; Usp94: } goto sc8NR; lt2TH: $data["\x61\x72\164\x69\143\154\145"] = $this->site->articleModule->getList($category_id, $where, ["\151\144", "\164\x79\x70\145", "\163\x70\x65\x63\x69\x61\154", "\x61\165\164\x68\x6f\162", "\x74\151\164\154\145", "\151\x6d\141\x67\x65", "\x6b\x77", "\x6a\x75\155\x70", "\165\162\154", "\164\151\155\145\x5f\163\164\x65\x70", "\160\162\x61\151\163\x65"], "\151\x64\40\144\x65\x73\143", $this->size); goto tX277; sc8NR: ERHK0: goto STayH; bJSYj: $where = []; goto l9buW; Cc3zK: if (!($id == 0)) { goto LHKW8; } goto bJSYj; At4L5: x8A2o: goto snzqf; pEGjH: $data["\x6d\157\162\145"] = true; goto Cc3zK; Fu3d9: if (!($id == 0)) { goto lBpUU; } goto G0hb6; STayH: $data["\141\x72\x74\x69\x63\x6c\145"] = $new_article; goto KzfjK; snzqf: foreach ($top as $new) { goto LLUTc; tJVA5: Zc7HO: goto Utzzd; pbb3R: $new_article[] = $this->_formatarticle($category_id, $new, true); goto rNpL5; rNpL5: fbJcF: goto tJVA5; LLUTc: if (!$new) { goto fbJcF; } goto pbb3R; Utzzd: } goto UPGHj; ikVaD: $data["\x63\157\x6e\x66\x69\x67"] = $this->site->getSettings(); goto d9mUP; JLGqZ: } private function _formatarticle($category_id, $value, $top = false) { goto mR9kQ; XBcgs: $value["\x63\157\165\x6e\164"] = count($image) < 3 ? 1 : 3; goto REVns; dsnIy: c99aB: goto eOmFx; cstAa: unset($value["\151\x6d\141\147\x65"]); goto VQji1; zOyXS: $value["\153\x77"] = $this->site->article_type[$value["\x74\171\160\145"]]; goto WREyg; u4eWr: return $value; goto Fr1kp; VQji1: if (!$value["\x63\x61\x74\x65\x67\x6f\x72\x79\137\x69\x64"]) { goto R8ixe; } goto N96ix; CMD4j: if (!$top) { goto tK5G5; } goto VSZfV; TKR0e: $value["\164\151\155\x65"] = $this->site->formatTime($value["\164\x69\x6d\x65\137\163\x74\145\160"]); goto jDTP1; A8cr0: hYRa_: goto cstAa; nrjGZ: $value["\141\x75\164\150\x6f\162"] = $this->site->article_type[$value["\164\171\160\145"]]; goto BuHlI; Nc3yA: R8ixe: goto CdD84; zn0ss: if (!(!$value["\153\x77"] && $value["\164\x79\x70\145"] > 1)) { goto P9U0a; } goto zOyXS; UrzPC: XEBnl: goto A8cr0; uQuMb: $value["\151\x64"] = $value["\x61\162\164\x69\143\154\145\137\151\144"]; goto nrjGZ; oko9O: tK5G5: goto u4eWr; CdD84: $value["\x75\x72\x6c"] = $value["\x6a\165\x6d\x70"] ? $value["\x75\x72\x6c"] : $this->site->mobileUrl("\x64\x65\x74\141\151\x6c", ["\143\141\164\145\x67\157\162\171\137\151\144" => $category_id, "\x69\144" => $value["\151\144"]]); goto P33iz; REVns: foreach ($image as $key => $im) { $value["\151\x6d\x61\x67\145\137" . $key] = $this->site->formatArrImage($im)["\x75\162\x6c"]; zsXgX: } goto UrzPC; VSZfV: $value["\165\162\x6c"] = $value["\x6a\165\155\x70"] ? $value["\x75\x72\154"] : $this->site->mobileUrl("\144\145\x74\141\151\154", ["\143\x61\x74\x65\147\x6f\162\171\x5f\x69\144" => $category_id, "\151\x64" => $value["\x61\x72\164\x69\x63\154\x65\x5f\x69\144"]]); goto uQuMb; mR9kQ: $image = @json_decode($value["\151\155\141\x67\145"], true); goto os4VW; os4VW: $value["\x63\x6f\x75\156\164"] = 0; goto TKR0e; N96ix: $category_id = $value["\x63\x61\x74\x65\x67\x6f\162\x79\x5f\x69\144"]; goto Nc3yA; P33iz: $value["\153\x77"] = $value["\x6b\x77"] ? $value["\x6b\167"] : ''; goto zn0ss; jDTP1: if (!(is_array($image) && $image)) { goto hYRa_; } goto XBcgs; QzgyU: $value["\x6b\x77"] = "\347\xbd\256\xe9\241\xb6"; goto dsnIy; BuHlI: if ($value["\x6b\x77"]) { goto c99aB; } goto QzgyU; eOmFx: $value["\164\x69\x6d\x65"] = $this->site->formatTime($value["\143\x72\145\x61\x74\145\137\x74\151\x6d\x65"]); goto oko9O; WREyg: P9U0a: goto CMD4j; Fr1kp: } }