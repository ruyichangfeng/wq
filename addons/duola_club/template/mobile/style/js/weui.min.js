var Weui;!function(i){"function"==typeof define&&define.amd?define(["jquery"],i):i(jQuery)}(function(i){return Weui=function(){var e=function(i){i&&i.stopPropagation?i.stopPropagation():window.event.cancelBubble=!0},t=function(t,n){if(i(".weui_dialog_alert").remove(),"string"==typeof t)var t=i.extend(!0,{title:"",content:""},{content:t});else var t=i.extend(!0,{title:"",content:""},t);var a=t.title,o="";if("object"==typeof a)o=a.length>=0?a[0].outerHTML:a.outerHTML;else if("string"==typeof a)var o=t.title;var l=t.content,d="";if("object"==typeof l)d=l.length>=0?l[0].outerHTML:l.outerHTML;else if("string"==typeof l)var d=l;var s=['<div class="weui_dialog_alert" id="dialog_alert" style="display: none;">','<div class="weui_mask"></div>','<div class="weui_dialog">','<div class="weui_dialog_hd"><strong class="weui_dialog_title">'+o+"</strong></div>",'<div class="weui_dialog_bd">'+d+"</div>",'<div class="weui_dialog_ft">','<a href="javascript:;" class="weui_btn_dialog weui_btn_sure primary">确定</a>',"</div>","</div>","</div>"].join("");$weuiAlert=i(s),$weuiAlert.find("a.weui_btn_sure").on("click",function(){e(event),n instanceof Function?0!=n()&&$weuiAlert.remove():$weuiAlert.remove()}),i("body").append($weuiAlert),$weuiAlert.show()},n=function(t){i(".weui_dialog_confirm").remove();var t=i.extend(!0,{title:"",content:"",cancelCallback:function(i){e(i)},sureCallback:function(i){e(i)}},t),n=t.title,a="";if("object"==typeof n)a=n.length>=0?n[0].outerHTML:n.outerHTML;else if("string"==typeof n)var a=t.title;var o=t.content,l="";if("object"==typeof o)l=o.length>=0?o[0].outerHTML:o.outerHTML;else if("string"==typeof o)var l=o;var d=['<div class="weui_dialog_confirm" id="dialog_confirm" style="display: none;">','<div class="weui_mask"></div>','<div class="weui_dialog">','<div class="weui_dialog_hd"><strong class="weui_dialog_title">'+a+"</strong></div>",'<div class="weui_dialog_bd">'+l+"</div>",'<div class="weui_dialog_ft">','<a href="javascript:;" class="weui_btn_dialog weui_btn_cancel default">取消</a>','<a href="javascript:;" class="weui_btn_dialog weui_btn_sure primary">确定</a>',"</div>","</div>","</div>"].join("");$weuiConfirm=i(d),$weuiConfirm.find("a.weui_btn_sure").on("click",function(i){e(i),t.sureCallback instanceof Function?0!=t.sureCallback(i)&&$weuiConfirm.remove():$weuiConfirm.remove()}),$weuiConfirm.find("a.weui_btn_cancel").on("click",function(i){e(i),t.cancelCallback instanceof Function?0!=t.cancelCallback(i)&&$weuiConfirm.remove():$weuiConfirm.remove()}),i("body").append($weuiConfirm),$weuiConfirm.show()},a=function(e){i(".weui_dialog_dialog").remove();var e=i.extend(!0,{title:"",content:"",button:["取消","确认"]},e),t=e.title,n="";if("object"==typeof t)n=t.length>=0?t[0].outerHTML:t.outerHTML;else if("string"==typeof t)var n=e.title;var a=e.content,o="";if("object"==typeof a)o=a.length>=0?a[0].outerHTML:a.outerHTML;else if("string"==typeof a)var o=a;var l=['<div class="weui_dialog_dialog" id="dialog_dialog" style="display: none;">','<div class="weui_mask"></div>','<div class="weui_dialog">','<div class="weui_dialog_hd"><strong class="weui_dialog_title">'+n+"</strong></div>",'<div class="weui_dialog_bd">'+o+"</div>",'<div class="weui_dialog_ft">',"</div>","</div>","</div>"].join("");$weuiDialog=i(l);var d=e.button,s=function(e){var t=document.createElement("a");if(t.setAttribute("href","javascript:void(0)"),"string"==typeof e)t.innerHTML=e,t.addEventListener("click",function(){$weuiDialog.remove()},!1);else{var e=i.extend(!0,{text:"","class":"",style:"",callback:function(){}},e);if(!e.text)return"";var n=e.text,a="";if("object"==typeof n)a=n.length>=0?n[0].outerHTML:n.outerHTML;else if("string"==typeof n)var a=n;t.innerHTML=a,t.setAttribute("class","weui_btn_dialog "+e["class"]),t.setAttribute("style",e.style),t.addEventListener("click",function(){0!=e.callback()&&$weuiDialog.remove()},!1)}return t};$weuiDialogFt=$weuiDialog.find(".weui_dialog_ft");for(var c=0;c<d.length;c++)d[c]&&$weuiDialogFt.append(s(d[c]));$buttion=$weuiDialogFt.find("a");var u=(100/$buttion.length).toFixed(2);$buttion.css("width",u+"%"),i("body").append($weuiDialog),$weuiDialog.show()},o=function(){i("#loadingToast.weui_loading_toast").remove();var e=['<div id="loadingToast" class="weui_loading_toast" style="display:none;">','<div class="weui_mask_transparent"></div>','<div class="weui_toast">','<div class="weui_loading">','<div class="weui_loading_leaf weui_loading_leaf_0"></div>','<div class="weui_loading_leaf weui_loading_leaf_1"></div>','<div class="weui_loading_leaf weui_loading_leaf_2"></div>','<div class="weui_loading_leaf weui_loading_leaf_3"></div>','<div class="weui_loading_leaf weui_loading_leaf_4"></div>','<div class="weui_loading_leaf weui_loading_leaf_5"></div>','<div class="weui_loading_leaf weui_loading_leaf_6"></div>','<div class="weui_loading_leaf weui_loading_leaf_7"></div>','<div class="weui_loading_leaf weui_loading_leaf_8"></div>','<div class="weui_loading_leaf weui_loading_leaf_9"></div>','<div class="weui_loading_leaf weui_loading_leaf_10"></div>','<div class="weui_loading_leaf weui_loading_leaf_11"></div>',"</div>",'<p class="weui_toast_content">数据加载中</p>',"</div>","</div>"].join("");$loading=i(e);var t=function(){i("body").append($loading),$loading.show()},n=function(){$loading.remove()};return{show:t,hide:n}}(),l=function(e,t){var e=e||3e3,n=['<div id="toast" style="display: none;">','<div class="weui_mask_transparent"></div>','<div class="weui_toast">','<i class="weui_icon_toast"></i>','<p class="weui_toast_content">已完成</p>',"</div>","</div>"].join("");$complete=i(n),i("body").append($complete),$complete.show(),setTimeout(function(){$complete.remove(),t instanceof Function&&t()},e)},d=function(t){i("#actionSheet_wrap.actionSheet_wrap").remove();var t=i.extend(!0,{menu:[],action:{text:"取消",callback:function(){}}},t||{}),n=['<div class="actionSheet_wrap" id="actionSheet_wrap">','<div class="weui_mask_transition" id="mask"></div>','<div class="weui_actionsheet" id="weui_actionsheet">','<div class="weui_actionsheet_menu">',"</div>",'<div class="weui_actionsheet_action">',"</div>","</div>","</div>"].join(""),a=i(n),o=a.find(".weui_actionsheet"),l=a.find(".weui_mask_transition"),d=o.find(".weui_actionsheet_menu"),s=o.find(".weui_actionsheet_action"),c=function(){i(a,"body")||i("body").append(a),o.addClass("weui_actionsheet_toggle"),l.show().addClass("weui_fade_toggle"),o.unbind("transitionend").unbind("webkitTransitionEnd")},u=function(){o.removeClass("weui_actionsheet_toggle"),l.removeClass("weui_fade_toggle"),o.on("transitionend",function(){l.hide()}).on("webkitTransitionEnd",function(){l.hide()})};l.on("click",function(){u()});for(var _=t.menu||[],r="",v=0;v<_.length;v++)!function(){if("string"==typeof _[v]){var t=function(){u()};r=i('<div class="weui_actionsheet_cell">'+_[v]+"</div>")}else{_[v]=_[v]||{},_[v]=i.extend(!0,{text:"",action:function(i){}},_[v]);var n=_[v].action;if("function"==typeof n)var t=function(){0!=n()&&u()};else if("string"==typeof n)var t=function(){window.location.href=n};r=i('<div class="weui_actionsheet_cell">'+_[v].text+"</div>")}r.on("click",function(i){e(i),t instanceof Function&&t()}),d.append(r)}();return $action=i('<div class="weui_actionsheet_cell" id="actionsheet_action">'+t.action.text+"</div>").on("click",function(){t.action.callback instanceof Function&&0!=t.action.callback()&&u()}).appendTo(s),i("body").append(a),{show:c,hide:u}};return{alert:t,confirm:n,dialog:a,loadingToast:o,completeToast:l,actionSheet:d}}()});