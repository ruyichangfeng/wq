<?php
 class GouController extends MobileBaseController { public $size = 10; public function index() { goto lzmS_; nBdbZ: $this->display(); goto up0ne; khNFs: $this->assign($data); goto nBdbZ; C3QyF: $data["\x66\141\x73\164\137\x6d\145\x6e\165"] = false; goto dcIOg; lzmS_: $data["\163\150\157\x77\x5f\x6c\151\163\x74"] = true; goto C3QyF; dcIOg: $data["\x73\154\x69\x64\x65\x72"] = $this->AdvModel->getList(["\167\x65\x69\x64" => $this->W["\x75\156\x69\x61\x63\x69\x64"], "\x65\156\x61\142\154\145\144" => 1, "\x74\171\x70\x65" => 9], "\x2a", "\x64\x69\x73\160\154\x61\171\x6f\162\144\x65\x72\x20\141\x73\143"); goto khNFs; up0ne: } public function more_comment() { goto vUTQe; vNpX9: R3Ke_: goto Mp7fa; YlUue: $uids = []; goto Gjiu_; Mp7fa: $user = $this->MemberModel->getList(["\x69\144" => $uids], ["\151\144", "\141\x76\141\164\x61\x72", "\156\x69\143\153\156\141\x6d\x65", "\x61\x67\145\156\x74\154\x65\166\x65\154", "\151\163\141\x67\145\x6e\164"]); goto KrNXo; Gjiu_: foreach ($list as &$value) { goto mznA0; mLGx7: $value["\x69\155\141\x67\x65\x73\137\x63\157\x75\x6e\x74"] = count($value["\x69\155\x61\x67\x65\x73"]); goto mS2Uy; kbvDp: $value["\151\155\141\x67\145\x73"] = json_decode($value["\x69\x6d\141\x67\x65\x73"], true); goto mLGx7; mznA0: $uids[] = $value["\x75\151\144"]; goto exPSx; mS2Uy: kK05o: goto LmLdR; exPSx: $value["\151\x6e\x66\x6f"] = json_decode($value["\x69\x6e\146\157"], true); goto kbvDp; LmLdR: } goto vNpX9; HziaO: $levels = $this->getAllLevel('', $this->W["\x75\x6e\x69\x61\143\151\x64"]); goto a0H8S; tDAha: $more = false; goto QIken; YYLaG: VT73e: goto CxbaU; TK7gV: $page = intval($_GET["\x70\141\147\x65"]); goto uFHyv; uFHyv: $list = $this->CommentModel->getList($where, "\52", ["\x69\x64\40\x64\x65\163\x63"], [$page, 10]); goto K1a4v; a0H8S: foreach ($list as &$detail) { goto AcDTz; AcDTz: $detail["\165\x73\145\x72"] = $user[$detail["\165\x69\144"]]; goto dEeGl; dEeGl: if (isset($levels[$user[$detail["\x75\151\x64"]]["\x61\x67\x65\156\x74\154\x65\x76\x65\x6c"]]) && $user[$detail["\165\x69\x64"]]["\151\x73\141\x67\145\156\164"] && $this->fenxiao_open) { goto rzHQs; } goto IrMKj; IrMKj: $detail["\x75\x73\x65\162"]["\154\x65\166\145\x6c\156\x61\x6d\145"] = self::$LEVEL_DEFAULT["\154\145\x76\145\x6c\156\141\155\x65"]; goto n_Pzm; n_Pzm: goto F0_xg; goto Yo7pa; dkNZN: Crfx_: goto aM0ed; Yo7pa: rzHQs: goto nAHIK; nAHIK: $detail["\165\163\x65\162"]["\154\x65\x76\145\x6c\x6e\141\x6d\x65"] = $levels[$this->userInfo["\141\147\145\x6e\x74\x6c\145\166\x65\154"]]["\154\145\166\145\154\156\x61\155\x65"]; goto FFFQ4; FFFQ4: F0_xg: goto dkNZN; aM0ed: } goto YYLaG; K1a4v: $more = true; goto zL7pL; zL7pL: if (!(count($list) < 10)) { goto N4pVL; } goto tDAha; QIken: N4pVL: goto x3Lon; KrNXo: $user = $this->arrayIndex($user, "\151\144"); goto HziaO; vUTQe: $where = ["\165\x6e\151\141\x63\151\144" => $this->W["\165\156\151\141\x63\151\144"], "\x73\164\x61\164\165\163" => 1]; goto TK7gV; x3Lon: if (!$list) { goto DSy6C; } goto YlUue; aG9AS: $this->ajaxReturn(0, '', ["\154\x69\x73\164" => $list, "\160\x61\147\x65" => $page + 1, "\155\157\162\x65" => $more]); goto vpWYi; CxbaU: DSy6C: goto aG9AS; vpWYi: } public function more_article() { goto hhWts; eWj5I: $this->ajaxReturn(0, '', ["\x6c\x69\163\x74" => $list, "\x70\141\x67\145" => $page + 1, "\x6d\x6f\162\x65" => $more]); goto N6m8J; GhbG1: cQOHu: goto eWj5I; Rnxg_: $list = $this->ArticleModel->getList($where, "\52", ["\x64\151\x73\160\154\141\x79\x6f\162\x64\x65\162\x20\x64\145\x73\x63"], [$page, 10]); goto NuF4h; w_m9v: $more = false; goto BrLL_; pwg09: if (!(count($list) < 10)) { goto OBtN6; } goto w_m9v; OVBam: DfbNe: goto GhbG1; NuF4h: $more = true; goto pwg09; hhWts: $where = ["\167\x65\151\144" => $this->W["\165\156\x69\141\x63\x69\x64"]]; goto FFYLM; FFYLM: $page = intval($_GET["\x70\x61\147\x65"]); goto Rnxg_; r6vGg: foreach ($list as &$value) { $value = $this->_formatarticle($value); BG7eL: } goto OVBam; BrLL_: OBtN6: goto xIx6Z; xIx6Z: if (!$list) { goto cQOHu; } goto r6vGg; N6m8J: } private function _formatarticle($value) { goto UppRl; mbZ14: E3q62: goto vDR2A; vDR2A: unset($value["\151\155\x61\x67\x65"]); goto d8gcI; Ha0Ic: egeFk: goto mbZ14; d8gcI: $value["\x75\162\154"] = $value["\x6a\165\x6d\160"] ? $value["\165\x72\154"] : $this->createMobileUrl("\x64\145\x74\141\x69\154", ["\x69\144" => $value["\151\x64"]]); goto EUxRX; TxeYb: XLJ4Z: goto g7F0_; EUxRX: $value["\153\x77"] = $value["\x6b\167"] ? $value["\153\x77"] : ''; goto Uy55W; UppRl: $image = @json_decode($value["\x69\x6d\x61\147\145"], true); goto cpeKY; g7F0_: if (!(rand(0, 10) > 5)) { goto egeFk; } goto pyPK3; x2DD2: $value["\x63\157\x75\x6e\x74"] = count($image) < 3 ? 1 : 3; goto Nrh_x; cxp6V: if (!(is_array($image) && $image)) { goto E3q62; } goto x2DD2; Nrh_x: foreach ($image as $key => $im) { goto WswZz; atvq9: $value["\x69\155\x61\x67\145\x5f" . $key] = $im["\165\162\x6c"]; goto t0Vxd; WswZz: $value["\x69\155\x61\x67\x65\x5f" . $key] = $this->W["\141\x74\x74\x61\x63\150\x75\162\x6c"] . $im["\165\162\154"]; goto atvq9; t0Vxd: opHEV: goto CCpLU; CCpLU: } goto TxeYb; cpeKY: $value["\143\157\x75\156\x74"] = 0; goto yDNei; yDNei: $value["\164\151\155\145"] = $this->formatTime($value["\143\162\145\x61\164\x65\x5f\164\151\155\x65"]); goto cxp6V; pyPK3: $value["\x63\157\165\x6e\x74"] = 4; goto Ha0Ic; Uy55W: return $value; goto R38cf; R38cf: } }