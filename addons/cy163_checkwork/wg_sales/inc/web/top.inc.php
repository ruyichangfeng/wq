<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator          |
    |              on 2018-08-04 11:37:56              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 class Wg_sales_Web_Top extends SalesBaseController { public static $MAX_SLIDER = 6; public static $PAGE_SIZE = 10; public function init() { goto l0b0s; qC8uf: $this->site->loadmodule("\x73\154\x69\144\x65\x72\115\x6f\144\x75\x6c\145"); goto rEnZ9; trPyy: $this->site->loadmodule("\x61\x72\164\151\x63\x6c\x65\x4d\157\x64\165\x6c\145"); goto qC8uf; Y7mSV: $this->uid = $this->site->_W["\x75\156\151\x61\x63\151\144"]; goto Cpw1o; Cpw1o: $this->site->loadmodule("\x63\141\x74\145\x67\157\x72\x79\115\157\144\x75\154\145"); goto trPyy; l0b0s: parent::init(); goto Y7mSV; rEnZ9: } public function index() { goto XhQ1W; Q_HNa: $data["\143\141\164\145"] = $this->site->categoryModule->getAllCategory(["\x75\x6e\x69\x61\x63\151\144" => $this->uid, "\144\145\x6c" => 0]); goto spABB; spABB: $list = $this->site->sliderModule->getList(["\x75\156\151\141\x63\151\x64" => $this->uid, "\163\157\x75\x72\x63\145" => $data["\x73\x6f\165\x72\x63\145"], "\x74\x79\x70\145\40\x3e" => 0], "\x64\x69\163\160\154\x61\x79\137\x6f\162\x64\145\x72\x20\141\x73\143"); goto wcXtM; mkyM_: $data["\163\157\x75\162\x63\145"] = intval($this->site->_GPC["\x73\157\x75\162\143\x65"]); goto Q_HNa; wcXtM: $data["\x6c\151\x73\x74"] = $list; goto ORJ6z; ORJ6z: $this->site->assign($data); goto OSISM; XhQ1W: $data["\151\x6e\x64\x65\170"] = $this->site->getCategoryIndex(); goto mkyM_; OSISM: } public function edit() { goto LZKqn; n0HmU: message("\xe6\x96\x87\347\253\240\x49\104\xe4\xb8\x8d\xe8\203\xbd\344\xb8\272\xe7\251\272"); goto YdypR; vuH9j: KAPei: goto nFwVk; QGjwl: $slider["\151\x6d\141\x67\145"] = $new_image; goto eYwpM; eUNDM: $id = intval($this->site->_GPC["\151\x64"]); goto HgeHC; Kgesf: message("\346\x96\x87\xe7\xab\240\x49\x44\xe5\xaf\271\345\272\x94\347\232\x84\346\x96\x87\xe7\253\xa0\xe4\xb8\215\345\255\230\345\234\xa8"); goto qJGs0; HEr2I: message("\344\277\235\345\xad\230\345\244\xb1\350\264\245"); goto HC_Mc; Qk8JY: $new_image = []; goto KzgMg; qJGs0: XMBy8: goto Ab1Ca; dargX: $source_name = $index["\x6e\141\155\x65"]; goto P4DZF; ukut1: $index = $this->site->getCategoryIndex(); goto Lfd9w; x563V: if (!($save["\x6a\x75\155\160"] == 0)) { goto KAPei; } goto hx5nP; Ab1Ca: $save["\x74\171\x70\x65"] = $article["\164\x79\160\145"]; goto vuH9j; BW8iZ: AmT4B: goto jPmTB; K8Xxz: $article = $this->site->articleModule->getOne($category_id, ["\x69\x64" => $save["\x61\162\x74\x69\143\154\145\137\151\144"]], ["\151\144", "\x74\171\x70\145"]); goto IEbD3; ShtVN: $in = false; goto dKF6N; IEbD3: if ($article) { goto XMBy8; } goto Kgesf; fZDXM: r9wSd: goto CBywm; KzgMg: if (!$images) { goto rdkEw; } goto ZsWHu; CBywm: $data["\164\171\x70\x65"] = $this->site->article_type; goto tfTy6; hx5nP: if (!($save["\141\162\164\x69\143\x6c\145\137\x69\x64"] <= 0)) { goto rDOPD; } goto n0HmU; b96Ev: if (!$id) { goto r9wSd; } goto qlymE; YvAxr: $data["\x63\141\x74\145"] = $this->site->categoryModule->getAllCategory(["\165\x6e\x69\141\143\151\144" => $this->uid, "\x64\145\x6c" => 0]); goto ShtVN; D4gfz: $image = []; goto U1t3V; qJXPV: goto USLCC; goto UVQ4n; Rf9TT: $id = intval($_POST["\x69\144"]); goto D4gfz; ZDDFP: foreach ($data["\143\x61\x74\x65"] as $cate) { goto w_kJ9; hWv62: $source = $cate["\151\144"]; goto sktvP; w_kJ9: if (!($cate["\151\144"] == $source)) { goto uuiud; } goto hWv62; X6ps5: uuiud: goto XipwN; sktvP: $source_name = $cate["\156\141\155\145"]; goto NocT4; XipwN: Iz3kd: goto ApIqr; NocT4: $in = true; goto Cmr9M; Cmr9M: goto urowT; goto X6ps5; ApIqr: } goto oe3fJ; dKF6N: $source_name = ''; goto ZDDFP; U1t3V: foreach ($_POST["\160\x69\x63"] as $k => $im) { goto J2KTg; oN5cn: goto XRiRy; goto STxnh; X3Ht4: if (!(count($image) > 2)) { goto CADtw; } goto oN5cn; T_wL0: dkf2V: goto X3Ht4; STxnh: CADtw: goto mfgSj; J2KTg: if (!$im) { goto dkf2V; } goto GJ02O; mfgSj: RNlBX: goto sFtgY; GJ02O: $image[] = ["\x75\162\154" => $this->site->formatArrImage(["\x75\x72\x6c" => $im])["\165\162\x6c"]]; goto T_wL0; sFtgY: } goto HHGUa; O0qhl: bOXKg: goto QHQV4; MVk01: message("\x75\x72\154\xe4\xb8\215\350\x83\275\344\270\xba\xe7\xa9\272"); goto iUlMk; xGIdM: qNj5X: goto iPEpa; q8WQL: $re = $this->site->sliderModule->update(["\165\156\151\x61\143\x69\x64" => $this->uid, "\x69\144" => $id], $save); goto Cp_cj; neaZS: $save = ["\x75\156\x69\x61\x63\151\x64" => $this->uid, "\143\x61\164\145\x67\157\x72\x79\137\151\x64" => $category_id, "\x73\x6f\165\162\143\x65" => $source, "\x74\x79\x70\145" => intval($_POST["\164\171\160\145"]), "\153\x77" => trim($_POST["\153\x77"]), "\141\x72\164\x69\x63\x6c\x65\x5f\151\x64" => intval($_POST["\141\162\x74\x69\x63\154\x65\137\151\x64"]), "\151\x6d\x61\147\145" => json_encode($image), "\x75\162\x6c" => trim($_POST["\165\x72\154"]), "\x6a\165\x6d\160" => intval($_POST["\x6a\x75\x6d\160"]), "\x74\151\164\154\x65" => trim($_POST["\x74\151\x74\154\x65"]), "\x63\162\145\141\x74\145\137\164\151\x6d\x65" => time(), "\144\151\x73\160\x6c\141\x79\x5f\157\162\x64\x65\x72" => intval($_POST["\144\151\x73\160\154\141\171\x5f\x6f\x72\x64\145\162"]) ? intval($_POST["\144\151\x73\160\x6c\x61\171\x5f\157\x72\144\145\x72"]) : 1, "\163\164\x61\x72\164" => strtotime(trim($_POST["\163\164\x61\162\164"])), "\x65\156\144" => strtotime(trim($_POST["\x65\156\144"]))]; goto Z_9Sz; P4DZF: QEf8g: goto grV7k; Lfd9w: $source = 0; goto dargX; RqDtp: $this->site->assign($data); goto wouoI; YdypR: rDOPD: goto K8Xxz; qdUgw: $data["\163\x6f\x75\162\x63\145\137\156\141\x6d\145"] = $source_name; goto DoyIr; ZsWHu: foreach ($images as $im) { $new_image[]["\x75\x72\x6c"] = $this->site->formatArrImage($im)["\x75\x72\154"]; VUUOW: } goto BW8iZ; LZKqn: $category_id = intval($this->site->_GPC["\x63\141\164\x65\x67\157\162\x79\x5f\x69\144"]); goto eUNDM; iUlMk: iBBeU: goto x563V; eYwpM: if ($slider) { goto qQ6v5; } goto jeW_l; wk8tL: message("\xe6\xa0\207\xe9\xa2\x98\xe6\210\226\345\233\xbe\xe7\211\x87\xe4\xb8\215\350\203\275\xe4\270\xba\347\251\xba"); goto xGIdM; NeN1W: qQ6v5: goto fZDXM; HHGUa: XRiRy: goto neaZS; cur8F: $re = $this->site->sliderModule->add($save); goto qJXPV; Z_9Sz: if (!($save["\x74\151\x74\x6c\x65"] == '' || $save["\x69\155\141\147\145"] == '')) { goto qNj5X; } goto wk8tL; iPEpa: if (!($save["\152\x75\x6d\x70"] == 1 && $save["\165\162\x6c"] == '')) { goto iBBeU; } goto MVk01; QHQV4: BNEW5: goto b96Ev; nFwVk: if ($id) { goto DZwT8; } goto cur8F; q0hjJ: $images = @json_decode($slider["\x69\155\x61\147\145"], true); goto Qk8JY; qlymE: $slider = $this->site->sliderModule->getOne(["\165\156\x69\141\x63\151\144" => $this->uid, "\151\144" => $id]); goto q0hjJ; T1vNO: PhzxR: goto tX3RM; grV7k: $slider = []; goto VQ3kc; tfTy6: $data["\163\x6f\165\x72\143\145"] = $source; goto qdUgw; Cp_cj: USLCC: goto qT1gP; HC_Mc: goto bOXKg; goto T1vNO; HgeHC: $source = intval($_GET["\x73\157\x75\x72\x63\145"]); goto YvAxr; jPmTB: rdkEw: goto QGjwl; nzG9e: if ($in) { goto QEf8g; } goto ukut1; tX3RM: message("\xe4\xbf\x9d\345\xad\x98\346\x88\x90\345\212\237", $this->site->webUrl("\164\157\160", ["\x73\x6f\x75\162\143\145" => $source])); goto O0qhl; VQ3kc: if (!$this->site->ispost()) { goto BNEW5; } goto Rf9TT; qT1gP: if ($re) { goto PhzxR; } goto HEr2I; oe3fJ: urowT: goto nzG9e; UVQ4n: DZwT8: goto q8WQL; jeW_l: message("\xe8\275\xae\xe6\x92\255\345\233\276\344\xb8\x8d\345\255\230\xe5\234\250"); goto NeN1W; DoyIr: $data["\x73\x6c\151\x64\145\x72"] = $slider; goto RqDtp; wouoI: } public function del() { goto nju9i; Kz4yp: exit; goto eyUIn; bacHk: echo json_encode(["\143\157\x64\145" => 1, "\x6d\163\x67" => "\xe5\x88\240\xe9\x99\xa4\345\xa4\261\350\264\245"]); goto aUF92; JIjGt: uElGI: goto Kz4yp; nju9i: $id = intval($_POST["\x69\144"]); goto n6_uq; n6_uq: $result = $this->site->sliderModule->del(["\151\144" => $id, "\165\156\151\x61\143\151\x64" => $this->uid]); goto QqsUS; aUF92: goto uElGI; goto TrUa1; cpR40: echo json_encode(["\x63\157\x64\x65" => 0]); goto JIjGt; TrUa1: J85b7: goto cpR40; QqsUS: if ($result) { goto J85b7; } goto bacHk; eyUIn: } }