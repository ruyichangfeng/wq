<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator          |
    |              on 2018-07-11 14:50:02              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 class CallBaseController { public $site; public $W; public $GPC; public static $ACC; public static $_CACHE = array(); public static $_PRIZE_STATUS = array(0 => "\346\x9c\xaa\345\x8f\221\xe8\264\247", 1 => "\xe5\267\262\xe5\x8f\x91\xe8\264\xa7", 2 => "\xe5\xb7\262\346\224\xb6\xe8\264\247"); public function __construct() { goto Na99z; Na99z: global $_GPC, $_W; goto k5Sj0; WQSDx: $this->W = $_W; goto pKI5I; k5Sj0: $this->GPC = $_GPC; goto WQSDx; pKI5I: } public function __call($name, $arguments) { goto dwQcy; Ggg9f: goto hOwox; goto vV9nX; vV9nX: bmrDR: goto M6RRl; dwQcy: if (!method_exists($this, $name)) { goto bmrDR; } goto c30vp; LwFE2: hOwox: goto aGc61; M6RRl: return call_user_func_array([$this->site, $name], $arguments); goto LwFE2; c30vp: return call_user_func_array([$this, $name], $arguments); goto Ggg9f; aGc61: } protected function createWebUrl($do, $query = array()) { goto tc5aG; Rn9lQ: VkgQi: goto a0DOE; tc5aG: $route = explode("\x2f", $do); goto axZAT; ccxc1: $query["\x77\x64\x6f"] = $route[1]; goto Rn9lQ; qt0g9: return wurl("\x73\x69\x74\x65\x2f\145\156\x74\x72\171", $query); goto CCE1S; a0DOE: $query["\155"] = strtolower($this->site->modulename); goto qt0g9; e8zYP: if (!isset($route[1])) { goto VkgQi; } goto ccxc1; axZAT: $query["\x64\157"] = $route[0]; goto e8zYP; CCE1S: } protected function createMobileUrl($do, $query = array(), $noredirect = true) { goto ajZqS; ajZqS: global $_W; goto aVZ_6; aVZ_6: $route = explode("\57", $do); goto Fn22Q; nqRZq: if (!isset($route[1])) { goto iix71; } goto v1J7z; mPdf_: return murl("\145\x6e\x74\x72\171", $query, $noredirect); goto sW_PC; Fn22Q: $query["\144\157"] = $route[0]; goto nqRZq; NqDS6: $query["\155"] = strtolower($this->site->modulename); goto mPdf_; ddj3H: iix71: goto NqDS6; v1J7z: $query["\167\144\157"] = $route[1]; goto ddj3H; sW_PC: } public function assign($name, $value = '') { $this->site->assign($name, $value); } public function __get($name) { return $this->site->{$name}; } protected function display($filename = '') { $this->site->display($filename); } public function arrayIndex($arr, $key) { goto Z6QjO; Z6QjO: $new_arr = []; goto k6_TW; k6_TW: foreach ($arr as $value) { $new_arr[$value[$key]] = $value; TVQru: } goto w7SBJ; w7SBJ: lrGXJ: goto f4YLE; f4YLE: return $new_arr; goto ZXsq1; ZXsq1: } protected function ajaxReturn($error_code, $error_msg, $error_data = '') { goto ai_pU; ai_pU: $result = ["\143\157\144\x65" => $error_code, "\x6d\163\x67" => $error_msg, "\x64\141\x74\x61" => $error_data]; goto MDuu8; MDuu8: echo json_encode($result); goto O3dg8; O3dg8: exit; goto wCWvs; wCWvs: } protected function sendMyPaySuccessPush($userinfo, $templateid, $order, $weid, $jifen) { goto Esv5T; Esv5T: $acc = self::getWeAccount($weid); goto eu70U; eu70U: $data = array("\x66\x69\162\163\x74" => array("\x76\x61\x6c\x75\x65" => "\xe6\202\250\345\xa5\xbd\357\xbc\x8c\346\x82\xa8\xe8\xb4\255\344\xb9\xb0\xe7\x9a\204\xe5\225\x86\xe5\x93\x81\346\224\xaf\xe4\273\x98\346\210\x90\345\x8a\237", "\143\x6f\x6c\157\x72" => "\x23\x31\x37\63\61\67\67"), "\153\x65\171\167\157\x72\x64\x31" => array("\166\x61\154\165\x65" => $order["\x6f\162\x64\x65\x72\x73\x6e"], "\143\157\x6c\157\162" => "\x23\61\x37\x33\x31\67\67"), "\153\145\x79\167\157\162\x64\62" => array("\166\141\154\165\x65" => $order["\164\x6f\x74\141\x6c"], "\143\x6f\x6c\157\x72" => "\43\x31\67\63\61\67\x37"), "\x6b\x65\x79\167\157\x72\x64\63" => array("\x76\141\154\165\145" => $order["\x6f\x72\144\145\x72\x70\x72\151\143\x65"], "\x63\157\154\157\x72" => "\43\x31\x37\x33\x31\x37\67"), "\x6b\145\171\167\157\162\144\64" => array("\166\x61\x6c\165\145" => $jifen, "\143\157\x6c\157\x72" => "\43\x31\67\63\x31\67\67"), "\x72\145\155\141\162\153" => array("\166\141\x6c\x75\145" => "\346\254\242\350\277\216\xe5\x86\x8d\346\xac\241\345\x85\211\344\xb8\264", "\143\157\x6c\157\162" => "\43\61\67\x33\61\67\x37")); goto EvuiZ; EvuiZ: $acc->sendTplNotice($userinfo["\x6f\160\x65\156\x69\144"], $templateid, $data); goto cDaTg; cDaTg: } public function sendSellerPush($weid, $seller, $templateid, $order, $goods) { goto hHUFJ; zEoC5: if (empty($goods["\x73\x65\x6c\154\145\162"])) { goto a_ove; } goto Z3xzN; KNBbb: $data = array("\x66\x69\x72\163\x74" => array("\166\x61\154\x75\145" => "\345\x95\x86\345\256\266\346\x82\250\xe5\245\xbd\357\xbc\x8c\xe6\234\x89\345\256\xa2\xe6\210\xb7\xe6\226\xb0\344\xb8\x8b\350\256\242\345\x8d\x95", "\x63\157\154\157\162" => "\43\61\67\63\61\x37\x37"), "\x6b\x65\171\167\x6f\x72\x64\x31" => array("\166\x61\154\x75\x65" => date("\131\x2d\x6d\x2d\144\40\x48\72\151\72\x73", time()), "\x63\x6f\154\x6f\x72" => "\x23\x31\x37\63\x31\67\x37"), "\x6b\145\171\167\x6f\x72\x64\62" => array("\166\141\x6c\x75\x65" => $goods["\164\151\x74\x6c\x65"], "\143\x6f\154\x6f\162" => "\43\x31\x37\x33\61\x37\67"), "\153\x65\x79\167\157\x72\x64\63" => array("\166\x61\x6c\165\145" => $order["\157\162\144\145\x72\163\x6e"], "\x63\157\x6c\x6f\162" => "\x23\61\x37\63\x31\67\67"), "\162\145\x6d\x61\162\153" => array("\166\141\x6c\165\x65" => "\350\264\xad\344\xb9\260\346\x95\260\351\x87\217\344\270\272\xef\xbc\x9a" . $order["\164\157\164\x61\x6c"] . "\54\344\xb9\260\xe5\256\266\xe5\267\xb2\xe4\xbb\x98\xe6\xac\xbe", "\143\157\154\157\x72" => "\x23\61\x37\63\x31\67\67")); goto zEoC5; Z3xzN: $seller = $goods["\x73\145\x6c\x6c\145\x72"]; goto PUP1S; Fgf8g: $acc->sendTplNotice($seller, $templateid, $data); goto VZq91; hHUFJ: $acc = self::getWeAccount($weid); goto KNBbb; PUP1S: a_ove: goto Fgf8g; VZq91: } public function sendXinZengGuanZhuTongZhi($parent_info, $templateid, $nickname) { goto jbIhG; dqfpM: $name = "\350\x99\216\xe5\260\x86"; goto QAAqY; QAAqY: $data = array("\146\151\162\x73\x74" => array("\166\141\154\165\145" => "\xe6\x81\xad\345\x96\x9c\xe6\202\xa8\xe5\xa2\236\345\212\xa0\344\270\200\xe5\221\230" . $name . "\72" . $nickname, "\143\157\154\157\162" => "\x23\x31\67\63\61\x37\x37"), "\x6b\145\171\x77\157\x72\144\61" => array("\x76\x61\x6c\165\x65" => $nickname, "\x63\x6f\154\x6f\x72" => "\x23\x31\67\x33\61\67\x37"), "\153\x65\x79\x77\x6f\x72\144\x32" => array("\166\141\x6c\165\x65" => date("\131\55\155\55\144\40\x48\72\x69", strtotime("\x6e\x6f\167")), "\x63\x6f\x6c\x6f\162" => "\43\61\x37\x33\x31\67\x37"), "\162\x65\x6d\141\162\153" => array("\x76\141\x6c\x75\x65" => "\347\xb3\xbb\347\273\237\xe6\x8e\250\xe8\x8d\220\344\xba\xba\xef\xbc\x9a" . $parent_info["\x6e\x69\143\153\156\x61\155\x65"], "\x63\x6f\154\x6f\x72" => "\43\61\67\x33\x31\67\67")); goto egmF2; jbIhG: $acc = self::getWeAccount($parent_info["\x77\145\151\144"]); goto dqfpM; egmF2: $acc->sendTplNotice($parent_info["\x6f\x70\145\x6e\151\x64"], $templateid, $data); goto nxCKV; nxCKV: } public function sendSanJiGouMai($from, $to, $templateid, $order, $weid, $jifen, $money, $key, $day) { goto LNcQ7; cRo1W: $acc->sendTplNotice($to_info["\157\x70\145\156\x69\x64"], $templateid, $data); goto aEH1r; c7V17: $to_info = self::getPayUserInfo($to); goto KrRv9; LNcQ7: $acc = self::getWeAccount($weid); goto c7V17; bYdwv: WzW0s: goto NCa3P; Ml3fh: $name = "\xe7\xa6\217\xe5\xb0\x86"; goto XhMaM; Xgihl: if ($key == 3) { goto ifQGf; } goto si81p; NCa3P: $name = "\350\231\x8e\345\xb0\206"; goto u2wFp; KrRv9: if ($key == 1) { goto WzW0s; } goto I97kB; XhMaM: Qme_y: goto ycZgh; I97kB: if ($key == 2) { goto XQi7J; } goto Xgihl; si81p: goto Qme_y; goto bYdwv; u2wFp: goto Qme_y; goto BocJk; xYQS8: goto Qme_y; goto aJcqN; aJcqN: ifQGf: goto Ml3fh; BocJk: XQi7J: goto WfxOn; ycZgh: $data = array("\x66\151\162\163\164" => array("\x76\141\154\165\145" => "\xe6\201\255\xe5\226\x9c\xe6\x82\xa8\347\232\x84" . $name . "\72" . $from["\x6e\x69\143\153\x6e\141\155\145"] . "\xe8\264\xad\xe4\271\260\xe4\272\206\345\x95\x86\345\x93\201\357\xbc\214\346\x82\xa8\xe5\xb0\x86\350\216\xb7\345\276\227\xe4\275\243\351\207\221\72" . $money . "\xe5\205\203\357\xbc\x8c" . $day . "\xe5\244\251\345\x90\x8e\xe5\x8f\257\xe6\x8f\220\345\x8f\226", "\x63\x6f\154\x6f\x72" => "\43\x31\67\x33\61\x37\67"), "\x6b\145\171\167\x6f\162\x64\x31" => array("\x76\141\x6c\x75\145" => $order["\x6f\x72\x64\145\x72\163\x6e"], "\x63\157\154\157\162" => "\x23\x31\67\63\61\x37\67"), "\153\x65\x79\x77\157\x72\144\62" => array("\x76\141\x6c\x75\x65" => $order["\x74\157\x74\x61\x6c"], "\x63\x6f\154\x6f\x72" => "\43\61\x37\x33\x31\67\x37"), "\153\145\171\x77\x6f\162\x64\x33" => array("\166\x61\x6c\165\x65" => $order["\x6f\x72\144\145\x72\x70\162\151\x63\145"], "\x63\x6f\x6c\157\x72" => "\43\x31\x37\x33\61\67\x37"), "\x6b\145\171\x77\157\x72\144\64" => array("\166\x61\154\165\145" => $jifen, "\143\x6f\x6c\157\x72" => "\43\61\67\x33\x31\x37\67"), "\x72\x65\x6d\141\162\153" => array("\166\x61\x6c\x75\x65" => "\346\x84\237\xe8\260\xa2\346\202\xa8\xe7\x9a\x84\xe6\216\xa8\345\xb9\xbf", "\x63\157\154\157\162" => "\43\x31\x37\x33\x31\67\x37")); goto cRo1W; WfxOn: $name = "\345\xa4\xa7\345\xb0\x86"; goto xYQS8; aEH1r: } public function ispost() { return $_SERVER["\x52\x45\x51\125\105\123\x54\137\115\105\124\110\117\104"] == "\x50\117\x53\124" ? true : false; } public static function getWeAccount($weid) { goto U1ck2; Gbxq4: return self::$ACC[$weid]; goto jzOph; O2I2A: self::$ACC[$weid] = WeAccount::create($weid); goto QNimu; fuE9Q: oUGEY: goto vZ4c3; U1ck2: if (self::$ACC[$weid]) { goto oUGEY; } goto O2I2A; IKpj6: iKOI_: goto Gbxq4; vZ4c3: return self::$ACC[$weid]; goto IKpj6; QNimu: goto iKOI_; goto fuE9Q; jzOph: } public function _getCache($key) { goto QwJjk; YaHmA: if (!$data) { goto tLTsJ; } goto ck_1S; CSs93: $data = json_decode($this->SettingModel->getOne(["\156\141\x6d\x65" => $key . "\x5f" . $this->W["\x75\156\151\x61\x63\151\144"]])["\166\x61\x6c\x75\145"], true); goto YaHmA; UEPYe: return self::$_CACHE[$key]; goto rvZng; mnQgf: return $data; goto AHWcy; ck_1S: self::$_CACHE[$key] = $data; goto mnQgf; rvZng: lJZuh: goto CSs93; AHWcy: tLTsJ: goto PgZPx; QwJjk: if (!isset(self::$_CACHE[$key])) { goto lJZuh; } goto UEPYe; PgZPx: } public function _setCache($key, $data) { goto otzHv; otzHv: $key = $key . "\137" . $this->W["\165\156\151\x61\143\151\x64"]; goto qrl_Q; zHE7o: return $this->SettingModel->update(["\x6e\x61\x6d\x65" => $key], ["\166\141\x6c\x75\x65" => json_encode($data)]); goto WYj84; GHMN8: pF70R: goto zHE7o; j_p2z: goto qdrmO; goto GHMN8; qrl_Q: if ($this->SettingModel->getOne(["\156\x61\155\x65" => $key])) { goto pF70R; } goto NpusC; NpusC: return $this->SettingModel->add(["\x6e\141\x6d\x65" => $key, "\166\141\154\x75\x65" => json_encode($data), "\143\162\x65\x61\164\x65\x5f\164\151\155\x65" => time()]); goto j_p2z; WYj84: qdrmO: goto j8zbd; j8zbd: } }