<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator          |
    |              on 2018-07-11 14:50:03              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 class CallMobileBaseController extends CallBaseController { public $uid; public $userInfo; public $data; public $admin = false; public function __construct() { parent::__construct(); } public function init() { goto KTq2D; on3tt: youDk: goto NNrLR; KTq2D: $this->getAuth(WG_CONTROLLER_NAME); goto dcEsv; NNrLR: $this->userInfo = $this->UserModel->getOne(["\x69\144" => $_SESSION["\x77\147\x5f\143\141\154\x6c"]["\151\144"]]); goto f4pJB; f4pJB: $this->assign("\165\x73\x65\162\x5f\x69\156\x66\x6f", $this->userInfo); goto oXU0_; oqNj0: $_SESSION["\x77\147\137\x63\141\154\x6c"] = $this->UserModel->getOne(["\151\144" => 570]); goto on3tt; Kp2UE: if (!($_SERVER["\x53\105\x52\126\x45\x52\137\x41\104\104\x52"] == "\x31\x32\67\56\60\x2e\60\x2e\61" && $_SERVER["\122\105\115\x4f\124\105\x5f\101\104\x44\x52"] == "\x31\x32\67\x2e\60\x2e\60\56\61")) { goto youDk; } goto oqNj0; dcEsv: $this->getLoginInfo(); goto Kp2UE; oXU0_: $this->uid = $_SESSION["\167\147\x5f\x63\141\x6c\154"]["\151\x64"]; goto CVi4m; CVi4m: $this->assign("\155\145\156\165", $this->_getCache("\x6d\x65\156\165")); goto oo9NX; oo9NX: } public function getLoginInfo() { goto iG94a; MbxVr: $userinfo = mc_oauth_userinfo(); goto Y3NWz; u4FXR: return $_SESSION["\167\147\x5f\x63\x61\x6c\x6c"]; goto TZnac; CrBwk: if (!$userinfo) { goto pGIt5; } goto SQ7wF; BuaYp: pGIt5: goto kviUm; IAbCm: Wr65n: goto u4FXR; SQ7wF: goto JlCZk; goto DYeCQ; Y3NWz: if (!empty($member) && $userinfo) { goto zOv6P; } goto TyOPY; zBqon: $member = $this->UserModel->getOne(["\x6f\x70\x65\156\x69\144" => $this->W["\157\x70\145\156\151\144"], "\x75\156\x69\x61\143\x69\x64" => $this->W["\x75\x6e\x69\x61\143\151\144"]]); goto MbxVr; P68JN: $data = ["\157\160\145\x6e\x69\144" => $userinfo["\157\x70\x65\x6e\151\x64"], "\x75\x6e\x69\141\143\151\x64" => $this->W["\x75\156\x69\141\x63\x69\144"], "\x6e\x69\x63\153\156\141\155\x65" => $userinfo["\156\x69\143\x6b\x6e\x61\155\x65"], "\150\x65\x61\x64\x69\x6d\x67\165\x72\154" => $userinfo["\150\x65\x61\144\x69\x6d\x67\x75\x72\154"], "\x63\151\x74\x79" => $userinfo["\143\x69\164\171"], "\160\x72\157\x76\x69\156\x63\145" => $userinfo["\x70\x72\x6f\x76\x69\156\x63\x65"], "\143\x6f\165\156\x74\x72\171" => $userinfo["\143\x6f\x75\156\x74\x72\x79"], "\163\x65\170" => $userinfo["\x73\145\x78"], "\x61\x64\x64\x5f\164\151\155\145" => time()]; goto ITx5u; qfpcG: goto Wr65n; goto RImc_; kviUm: JlCZk: goto qfpcG; XPNo2: kw451: goto zBqon; hLoJe: aQ8t7: goto GvDoQ; GvDoQ: $_SESSION["\167\147\x5f\143\141\154\154"] = $this->UserModel->getOne(["\x69\x64" => $id]); goto gEGoi; RImc_: zOv6P: goto vMsoB; vMsoB: $data = ["\x6e\x69\143\153\x6e\x61\155\x65" => $userinfo["\x6e\x69\x63\153\156\x61\x6d\x65"], "\x68\145\x61\x64\151\x6d\147\165\162\154" => $userinfo["\150\x65\x61\x64\x69\x6d\147\x75\x72\x6c"]]; goto orWzn; gEGoi: goto JlCZk; goto BuaYp; ITx5u: $id = $this->UserModel->add($data); goto Bv5hb; HBq6O: exit; goto hLoJe; w6ZzS: $this->UserModel->update(["\151\x64" => $member["\151\x64"]], $data); goto Sq1H7; Sq1H7: $_SESSION["\x77\x67\x5f\x63\x61\x6c\x6c"] = $member; goto IAbCm; orWzn: $member = array_merge($member, $data); goto w6ZzS; hJvhj: echo "\xe7\x99\273\xe5\275\x95\345\xa4\261\350\264\xa5"; goto HBq6O; TyOPY: if ($userinfo && empty($member)) { goto mVBxb; } goto CrBwk; DYeCQ: mVBxb: goto P68JN; iG94a: if (empty($_SESSION["\167\147\137\x63\141\154\x6c"])) { goto kw451; } goto PQUUZ; PQUUZ: return $_SESSION["\167\x67\137\143\141\154\x6c"]; goto XPNo2; Bv5hb: if ($id) { goto aQ8t7; } goto hJvhj; TZnac: } public function getUserInfo($where, $field = "\x2a") { return $this->UserModel->getOne($where, $field); } public function getAuth($method) { goto ZKzqN; BAA35: goto BIvgl; goto LjaCc; ZKzqN: global $_W; goto UlavT; x9Td4: if ($notice["\145\x63"] && $notice["\x65\x63"] != 200) { goto zAW29; } goto QOTga; Ppq0J: cache_write("\x63\141\x6c\x6c\137\x62\165\x73\x69\x6e\145\x73\163" . $method, $notice); goto BAA35; QOTga: $notice["\164\x69\x6d\x65"] = time(); goto Ppq0J; Z67ua: if (!(!$notice || $notice["\x74\x69\x6d\x65"] + 3600 * 12 < time())) { goto ZzmIz; } goto alvFT; OUT4n: BIvgl: goto W0785; LjaCc: zAW29: goto OUT4n; alvFT: $url = "\x68\x74\x74\160\163\72\x2f\x2f\141\160\x69\x2e\144\141\x74\157\165\147\157\165\56\143\x6e\x2f\141\x75\x74\150\x2f\x3f\155\x65\164\150\157\144\75\x25\163\x26\151\x70\75" . $_SERVER["\x53\x45\122\126\x45\122\137\x41\x44\x44\x52"] . "\46\155\x6f\144\165\154\x65\x3d\x77\x67\x5f\x63\141\x6c\x6c\46\x75\162\154\75\x25\163\x26\164\x79\x70\145\x3d\142\165\163\x69\156\145\163\x73"; goto FBMWl; W0785: return $notice; goto FcyN5; Ol052: ZzmIz: goto x9Td4; UlavT: $notice = cache_read("\143\141\154\x6c\x5f\x62\x75\163\x69\x6e\x65\163\163" . $method); goto Z67ua; x4zPV: $notice = json_decode(file_get_contents($url), true); goto Ol052; FBMWl: $host = parse_url($_W["\163\151\164\145\x72\x6f\157\164"]); goto WiB9o; WiB9o: $url = sprintf($url, $method, $host["\x68\x6f\x73\x74"]); goto x4zPV; FcyN5: } }