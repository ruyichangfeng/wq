<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator          |
    |              on 2018-08-04 11:37:30              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 class Wg_sales_Mobile_Center extends SalesBaseController { public $data = array(); public $size = 10; public function init() { goto Qft6i; k5zyQ: $this->site->loadmodule("\x70\165\x62\x4d\x6f\x64\165\x6c\x65"); goto xBpn9; xBpn9: $this->site->loadmodule("\x61\162\164\151\x63\154\x65\115\x6f\x64\x75\154\x65"); goto jsfug; Qft6i: parent::init(); goto k5zyQ; jsfug: } public function index() { goto xKKlq; h3f6s: $_SESSION["\167\x67\x5f\163\141\x6c\145\x73"]["\164\151\155\145"] = time(); goto j_3JN; Isjp2: $_SESSION["\x77\x67\x5f\x73\x61\x6c\145\x73"]["\x61\144\137\155\157\156\x65\x79"] = (int) $this->site->pubModule->pdo_fetch($sql)["\x73\165\x6d"]; goto h3f6s; CLW_M: $_SESSION["\x77\x67\137\163\141\154\x65\x73"]["\x61\x72\x74\151\143\x6c\145\x5f\x63\x6f\x75\156\x74"] = $this->site->pubModule->count(["\x75\151\x64" => $this->uid]); goto q8BTd; qNh_s: $this->site->assign($data); goto mOQ21; xKKlq: if (!($_SESSION["\x77\x67\x5f\163\x61\x6c\145\x73"]["\x74\151\155\x65"] + 60 * 10 < time())) { goto iX3oZ; } goto CLW_M; j_3JN: iX3oZ: goto ips2a; q8BTd: $sql = "\163\x65\x6c\145\143\x74\x20\163\165\155\50\155\157\x6e\145\171\51\40\141\163\40\x73\165\155\x20\x66\162\x6f\x6d\x20" . tablename($this->site->pubModule->getTable()) . "\40\167\150\145\x72\x65\40\165\x69\144\75" . $this->uid . "\x20\141\156\144\40\x63\x61\x74\145\x3d\62\x20\141\x6e\x64\40\163\x74\141\x74\x75\x73\75\61"; goto Isjp2; ips2a: $data = $_SESSION["\167\x67\137\163\141\x6c\x65\x73"]; goto qNh_s; mOQ21: } public function more() { goto pvg87; LsyP5: if (!(count($data["\x6c\151\163\164"]) < $this->size)) { goto U4PLM; } goto EW1b0; nbnvT: foreach ($data["\154\151\163\164"] as &$value) { goto lm5gO; rhaD5: $image = @json_decode($value["\151\x6d\x61\x67\145"], true); goto bCclA; YPcAx: zse9k: goto LC7FF; RK21Y: CEtJ_: goto xwgEO; Le345: $value["\153\167"] = $value["\x6b\167"] ? $value["\153\167"] : ''; goto qtixA; Pplzw: foreach ($image as $key => $im) { $value["\x69\x6d\141\147\x65\137" . $key] = $this->site->formatArrImage($im)["\x75\x72\154"]; BGVRx: } goto EOerI; jg51c: $value["\x63\157\165\156\x74"] = 0; goto rhaD5; xwgEO: $value["\141\x75\164\150\x6f\x72"] = $this->site->formatTime($value["\143\x72\x65\x61\164\145\137\x74\151\155\x65"]); goto Le345; bCclA: if (!(is_array($image) && $image)) { goto CEtJ_; } goto fC9Ec; EOerI: yGnHZ: goto RK21Y; fC9Ec: $value["\143\x6f\165\x6e\164"] = count($image) < 3 ? 1 : 3; goto Pplzw; oEGJH: hcdFa: goto cl68G; pvXIY: $value["\153\x77"] = $this->site->article_type[$value["\x74\171\160\145"]]; goto oEGJH; lm5gO: $value["\x75\162\154"] = $value["\x6a\x75\155\160"] ? $value["\165\x72\x6c"] : $this->site->mobileUrl("\144\x65\x74\x61\151\x6c", ["\x63\141\x74\145\147\x6f\x72\x79\137\151\x64" => $value["\x63\x61\164\x65\147\157\x72\171\x5f\x69\144"], "\x69\144" => $value["\x61\162\164\x69\143\x6c\x65\x5f\x69\x64"]]); goto jg51c; qtixA: if (!(!$value["\153\x77"] && $value["\164\171\x70\x65"] > 1)) { goto hcdFa; } goto pvXIY; cl68G: $data["\155\151\x6e\137\x69\144"] = $value["\x69\144"]; goto YPcAx; LC7FF: } goto Ox6QP; HaLxH: U4PLM: goto YQjhU; HfL2V: $this->ajaxReturn(0, '', $data); goto rZMcN; YQjhU: $data["\160\x61\x67\145"] = $page + 1; goto HfL2V; Ox6QP: ef_iP: goto LsyP5; LwXcg: $page = intval($_REQUEST["\x70\141\x67\145"]); goto xDskq; ALQf8: $where = ["\165\x69\144" => $this->uid, "\143\x61\164\145" => $cate]; goto M0q7S; M0q7S: $data["\154\x69\x73\x74"] = $this->site->pubModule->getList($where, ["\151\x64", "\x73\164\x61\164\165\x73", "\x74\x69\164\x6c\145", "\143\141\164\x65\x67\x6f\162\171\x5f\151\144", "\x74\151\x6d\145\x5f\x73\x74\x65\x70", "\141\162\x74\x69\x63\x6c\x65\137\x69\x64"], ["\x69\x64\x20\x64\145\163\x63"], [$page, $this->size]); goto nbnvT; pvg87: $cate = intval($_REQUEST["\143\x61\x74\145"]); goto LwXcg; xDskq: $data["\x6d\157\x72\145"] = true; goto ALQf8; EW1b0: $data["\x6d\x6f\x72\145"] = false; goto HaLxH; rZMcN: } function del() { goto Un3Yh; Y4vIt: dyd03: goto Fx2Ql; Xmpwx: $this->site->articleModule->del($category_id, ["\151\x64" => $article["\141\x72\x74\151\143\154\x65\137\151\x64"]]); goto Y4vIt; Un3Yh: $id = (int) $this->site->_GPC["\x69\144"]; goto CQBov; Fx2Ql: $this->site->pubModule->del(["\x69\x64" => $id]); goto XftxH; vWvCt: if (!$article_id) { goto dyd03; } goto Xmpwx; Vy4jV: $category_id = $article["\143\141\164\145\x67\157\x72\x79\137\x69\144"]; goto le7sV; XftxH: echo json_encode(["\143\x6f\x64\x65" => 0]); goto j3F9H; j3F9H: exit; goto yEuVx; CQBov: $article = $this->site->pubModule->getOne(["\x69\144" => $id, "\x75\151\144" => $this->uid]); goto Vy4jV; le7sV: $article_id = $article["\141\162\x74\151\x63\154\145\137\151\144"]; goto vWvCt; yEuVx: } }