<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator          |
    |              on 2018-07-11 14:50:12              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 class PrizeController extends CallWebBaseController { public $size = 10; public $activity = array(); public function init() { goto AYvrC; jfZp0: $this->assign(["\x61\x63\x74\151\166\151\x74\171" => $this->activity]); goto WVPnt; AYvrC: parent::init(); goto cMdwL; L10VZ: message("\xe6\264\273\xe5\x8a\250\xe4\270\215\345\255\230\345\234\250\357\xbc\201", $this->createWebUrl("\x69\156\144\145\170", array("\157\160" => "\151\x6e\x64\145\x78")), "\x73\165\143\x63\x65\x73\163"); goto Mgnj3; pQPkj: $this->activity = $this->ActivityModel->getOne(["\151\x64" => $id, "\165\156\x69\x61\143\151\144" => $this->W["\x75\x6e\x69\x61\143\151\x64"]]); goto sSBg0; Mgnj3: tP8K0: goto jfZp0; sSBg0: if (!(!$this->activity && WG_APP_METHOD != "\151\x6e\144\145\170" && WG_APP_METHOD != "\x70\162\x69\172\145")) { goto tP8K0; } goto L10VZ; cMdwL: $id = intval($this->GPC["\141\x63\x74\x69\x76\151\164\171\x5f\x69\144"]); goto pQPkj; WVPnt: } public function index() { goto eprVg; atmb6: foreach ($data["\154\x69\163\164"] as &$value) { goto co2Mj; SWMX1: $value["\x65\x78\x70\162\145\163\163\x5f\x73\x74\141\164\165\x73\x5f\166\x61\154\165\x65"] = self::$_PRIZE_STATUS[$content["\x65\170\160\x72\x65\x73\163\x5f\x73\x74\x61\164\x75\163"]]; goto NCj6m; Kk7OK: JIPKV: goto IUJn1; xfX50: OHtvt: goto yLvRQ; fgl4Q: $prizes[] = $value["\160\162\151\x7a\145\137\151\x64"]; goto kobhC; jbC4W: goto dg1U0; goto xfX50; OpqNh: if (isset($content["\x65\x78\160\x72\145\x73\x73\x5f\163\164\x61\164\165\x73"])) { goto OHtvt; } goto SWMX1; NCj6m: $value["\145\x78\160\x72\x65\163\163\137\163\164\141\164\165\163"] = 0; goto Dffv3; SBHZ9: $value["\145\x78\160\162\x65\163\163\x5f\156\165\155"] = $content["\x65\x78\x70\162\145\163\163\137\156\x75\x6d"]; goto gEyJD; N4KGE: $value["\145\x78\160\162\145\x73\x73\137\163\x74\x61\164\165\163"] = $content["\x65\x78\x70\x72\x65\163\x73\x5f\x73\164\141\x74\165\x73"]; goto SBHZ9; ACTLR: $content = json_decode($value["\x63\x6f\156\164\x65\156\x74"], true); goto OpqNh; gEyJD: dg1U0: goto Kk7OK; kobhC: $activities[] = $value["\x61\x63\x74\x69\166\x69\x74\x79\x5f\151\144"]; goto ACTLR; co2Mj: $users[] = $value["\165\151\x64"]; goto fgl4Q; Dffv3: $value["\x65\x78\160\x72\145\x73\x73\137\156\x75\155"] = ''; goto jbC4W; yLvRQ: $value["\145\x78\x70\162\145\163\x73\x5f\x73\164\141\164\165\x73\x5f\166\x61\x6c\x75\145"] = self::$_PRIZE_STATUS[$content["\x65\170\x70\162\145\163\x73\137\163\x74\x61\x74\165\163"]]; goto N4KGE; IUJn1: } goto E3J93; jYtX5: $data["\x70\162\x69\x7a\145\x5f\x73\164\x61\x74\165\163"] = self::$_PRIZE_STATUS; goto vWMtU; Hgdx2: $users = $prizes = $activities = []; goto atmb6; H3Dww: if (!$user_prize_id) { goto wjZIS; } goto iw8bj; huYee: $data["\x70\x61\x67\145\x72"] = pagination($total, $pindex, $this->size); goto OiY6T; iw8bj: $where["\151\x64"] = $user_prize_id; goto fJuqq; DIdH5: $where["\x70\x72\151\172\x65\x5f\x69\x64"] = $prize_id; goto d0_ZY; HlFoa: Eyvwe: goto jYtX5; KkrDC: jaC8u: goto LJcj6; u7oNN: ftHc4: goto HlFoa; NH14w: $where["\x61\x63\164\151\166\151\164\171\137\x69\144"] = $this->activity["\151\x64"]; goto sywaU; zxG1Z: goto YeI4R; goto KkrDC; fJuqq: wjZIS: goto jHtxQ; flbCU: $prizes = $this->PrizeModel->getList(["\151\144" => $prizes], ["\151\x64", "\156\x61\x6d\145", "\x6e\x65\145\144\x5f\x63\x61\154\x6c"]); goto Eaz1s; sywaU: Dks6Q: goto EwxmI; r3SAK: $prize_id = intval($this->GPC["\x70\162\151\x7a\145\x5f\151\x64"]); goto rKyBU; CXg_9: $this->assign($data); goto xd3vp; xd3vp: if ($data["\x6c\x69\163\x74"] && $user_prize_id) { goto jaC8u; } goto y4UJC; Eaz1s: $activities = $this->ActivityModel->getList(["\151\144" => $activities], ["\151\x64", "\156\141\x6d\145"]); goto IpbfM; Hnt2D: $prizes = $this->arrayIndex($prizes, "\x69\144"); goto co5cw; OiY6T: $data["\x6c\151\163\164"] = $this->UserPrizeModel->getList($where, "\52", ["\151\x64\40\x64\145\x73\143"], [$pindex, $this->size]); goto Hgdx2; co5cw: $activities = $this->arrayIndex($activities, "\151\144"); goto gnZlF; vWMtU: $data["\x75\163\145\x72\137\160\x72\151\172\145\x5f\151\x64"] = $user_prize_id; goto CXg_9; zAUBK: YeI4R: goto vZaKY; E3J93: WRjgi: goto d1qk1; jHtxQ: $total = $this->UserPrizeModel->count($where); goto huYee; rKyBU: $user_prize_id = intval($this->GPC["\165\x73\145\162\x5f\x70\x72\x69\172\145\x5f\151\144"]); goto Sgkq3; LJcj6: $this->display("\167\x65\142\57\x70\x72\151\172\x65\57\x65\x64\x69\164"); goto zAUBK; gnZlF: foreach ($data["\x6c\151\x73\x74"] as &$value) { goto xgS5p; MCOvv: $value["\160\x72\x69\172\145"] = $prizes[$value["\160\162\151\172\x65\x5f\x69\x64"]]; goto wwjc6; P8mYL: jPgDQ: goto Rig3P; xgS5p: $value["\x75\163\145\x72"] = $users[$value["\165\151\x64"]]; goto MCOvv; wwjc6: $value["\x61\x63\164\151\166\151\x74\x79"] = $activities[$value["\x61\x63\x74\151\166\x69\164\171\x5f\151\x64"]]; goto P8mYL; Rig3P: } goto u7oNN; EwxmI: if (!$prize_id) { goto i93h_; } goto DIdH5; IpbfM: $users = $this->arrayIndex($users, "\x69\144"); goto Hnt2D; w5dA2: if (!$this->activity) { goto Dks6Q; } goto NH14w; eprVg: $pindex = max(1, intval($this->GPC["\x70\141\147\x65"])); goto r3SAK; y4UJC: $this->display(); goto zxG1Z; MR3k3: $users = $this->UserModel->getList(["\x69\x64" => $users], ["\x69\144", "\156\151\143\153\156\141\x6d\145"]); goto flbCU; d0_ZY: i93h_: goto H3Dww; d1qk1: if (!$users) { goto Eyvwe; } goto MR3k3; Sgkq3: $where = ["\x75\156\151\141\143\x69\144" => $this->W["\165\x6e\x69\141\x63\x69\x64"]]; goto w5dA2; vZaKY: } public function post() { goto Wf9ah; FrG2o: r28kE: goto uBCNH; KgGij: goto rFQau; goto fJ7D0; uBCNH: $prize = $this->PrizeModel->getOne(["\151\144" => $id]); goto lkZyj; dpLiS: $data = array("\x61\x63\x74\x69\166\x69\164\x79\137\151\144" => $this->activity["\151\x64"], "\x6e\141\x6d\145" => $this->GPC["\x6e\x61\155\145"], "\156\x65\x65\x64\x5f\143\x61\x6c\154" => $this->GPC["\x6e\145\x65\144\137\x63\x61\154\154"], "\141\x6d\x6f\165\x6e\x74" => $this->GPC["\141\x6d\157\x75\156\x74"], "\154\x6f\x67\x6f" => trim($this->GPC["\x6c\157\x67\x6f"]), "\155\x61\x78" => intval($this->GPC["\x6d\141\170"]), "\x64\x69\163\x70\x6c\141\171\x6f\162\144\145\x72" => $this->GPC["\144\x69\163\x70\154\141\x79\157\162\144\x65\x72"]); goto BqRb_; BqRb_: if (!empty($id)) { goto TcPt9; } goto QjHGB; Wf9ah: $id = intval($this->GPC["\x69\144"]); goto b7gyJ; QjHGB: $id = $this->PrizeModel->add($data); goto KgGij; b7gyJ: if (!checksubmit("\163\x75\x62\x6d\x69\x74")) { goto r28kE; } goto dpLiS; lkZyj: $this->assign($prize); goto XjY70; da7Rs: $this->PrizeModel->update(["\x69\144" => $id], $data); goto dxFd_; I4mEI: message("\xe6\x9b\xb4\346\226\xb0\346\x88\x90\xe5\x8a\x9f\xef\274\x81", $this->createWebUrl("\160\x72\x69\172\145", array("\x61\x63\x74\151\166\151\164\x79\x5f\151\x64" => $this->activity["\x69\x64"], "\x6f\x70" => "\154\x69\x73\164\x73")), "\x73\x75\x63\x63\145\163\163"); goto FrG2o; XjY70: $this->display(); goto TFiaJ; dxFd_: rFQau: goto I4mEI; fJ7D0: TcPt9: goto da7Rs; TFiaJ: } public function lists() { goto QjlVn; QjlVn: $where["\x61\x63\164\151\166\x69\x74\171\137\x69\x64"] = $this->activity["\151\x64"]; goto DzgQV; esthr: $this->display(); goto stBI7; DzgQV: $data["\154\x69\163\164"] = $this->PrizeModel->getList($where, "\52", ["\144\151\x73\x70\154\141\171\157\162\x64\145\x72\x20\x61\163\143"]); goto r15Or; r15Or: $this->assign($data); goto esthr; stBI7: } public function prize() { goto iDnxD; iA8oY: $express_num = intval($this->GPC["\x65\170\160\x72\145\x73\163\137\156\165\155"]); goto nc9k2; o2eT2: $content["\x65\x78\x70\x72\145\163\163\x5f\x6e\165\155"] = $express_num; goto o96rN; iDnxD: $id = intval($this->GPC["\x69\144"]); goto dZw_l; PU2vs: $content = json_decode($data["\x63\x6f\x6e\x74\x65\x6e\x74"], true); goto Tw8h6; dZw_l: $express_status = intval($this->GPC["\x65\x78\160\162\145\163\163\x5f\163\x74\141\164\165\x73"]); goto iA8oY; nc9k2: $data = $this->UserPrizeModel->getOne(["\x69\x64" => $id]); goto PU2vs; a3cve: message("\xe6\233\264\346\x96\xb0\xe6\x88\x90\xe5\212\237\xef\xbc\x81"); goto QGgWa; Tw8h6: $content["\145\170\x70\x72\x65\163\163\x5f\x73\x74\141\164\165\x73"] = $express_status; goto o2eT2; ll_RJ: $this->UserPrizeModel->update(["\x69\144" => $id], ["\143\x6f\156\164\145\156\x74" => $content]); goto a3cve; o96rN: $content = json_encode($content); goto ll_RJ; QGgWa: } public function delete() { goto iCzKW; lbi3B: message("\xe5\210\240\351\x99\244\346\x88\220\xe5\x8a\237\357\274\x81", $this->createWebUrl("\x69\156\144\x65\170", array("\x6f\x70" => "\x69\156\144\145\170")), "\163\165\143\143\x65\163\x73"); goto ylU0E; iCzKW: $id = intval($_GET["\x69\144"]); goto p7WkE; p7WkE: $this->ActivityModel->del(["\151\x64" => $id, "\x75\x6e\x69\x61\143\151\x64" => $this->W["\x75\156\x69\141\x63\x69\144"]]); goto lbi3B; ylU0E: } }