!function(){function set(str,value){for(var p,cur=VARS.source,ps=str.split("."),ks=[],fns="",i=0,len=ps.length;len>i;i++)p=ps[i],cur=cur[p],ks.push('["'+ps[i]+'"]');fns="VARS.source"+ks.join("")+'="'+value+'"',eval("("+fns+")")}function get(a){for(var b=VARS.source,c=a.split("."),d=0,e=c.length;e>d;d++)if(b=b[c[d]],void 0===b)return;return b}for(var VARS={prefix:"$",keys:["SYS","ROOM","PAGE"],source:{},scope:window},i=0;i<VARS.keys.length;i++){var key=VARS.keys[i],fkey=VARS.prefix+key,obj=VARS.scope[fkey];obj&&(VARS.source[key.toLowerCase()]=obj)}define("douyu-mobile/context",["shark/util/cookie/1.0"],function(a){location.host;a.config("keypre",get("sys.cookie_pre")||"");var b={set:set,get:get};return b})}(),shark.config({resolve:function(a){if(shark.helper.file.isAbsolute(a))return!1;var b=a.split("/"),c=b[0],d=shark.helper.file.isCss(a)?"css/":"js/";switch(c){case"douyu-mobile":a="app/douyu-mobile/"+d+b.slice(1).join("/");break;case"m-douyu":a="app/douyu-mobile/m-douyu/"+d+b.slice(1).join("/")}return a}}),shark.on("createNode",function(a,b){var c,d=shark.helper.file,e="1.0";c=b.url,d.isCss(c)?a.href=c+"?"+e:a.src=c+"?"+e}),shark.on("saved",function(a){var b=new RegExp("^m-douyu//*");b.test(a.id)&&shark.helper.domReady(function(){define([a.id],function(a){a&&"function"==typeof a.application&&a.application.call(a)})})});