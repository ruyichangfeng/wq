<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator          |
    |              on 2018-08-04 11:37:38              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 class Wg_sales_Mobile_Topic extends SalesBaseController { public $data = array(); public $size = 10; public function init() { goto Bp5J9; d_XQx: $this->site->loadmodule("\141\x72\x74\151\x63\x6c\145\115\x6f\144\x75\154\x65"); goto kKRQM; Bp5J9: parent::init(); goto d_XQx; kKRQM: $this->site->loadmodule("\x63\x6f\155\155\145\156\164\115\x6f\144\x75\154\x65"); goto EP873; Kd6ma: $this->site->loadmodule("\x74\x6f\160\x69\143\154\151\163\164\115\x6f\x64\165\154\x65"); goto zIhtR; EP873: $this->site->loadmodule("\164\x6f\x70\x69\x63\x4d\x6f\144\165\x6c\x65"); goto Kd6ma; zIhtR: } public function index() { goto gcz9w; fHkBw: $this->site->display("\144\145\x74\x61\x69\154\x2f\145\162\162\157\x72"); goto xJewf; gcz9w: $topic_id = intval($_REQUEST["\x74\x6f\160\151\143\x5f\x69\x64"]); goto iwYJ8; kvsVY: if ($data["\164\157\x70\x69\143"]) { goto q70bs; } goto fHkBw; uuNP0: $this->site->assign($data); goto Sx_6D; o0GpS: $data["\x63\157\x6e\x66\151\x67"] = $this->site->getSettings(); goto Qy8nj; Qy8nj: $data["\x6c\x69\x73\164"] = $this->site->topiclistModule->getList(["\x74\x6f\160\x69\x63\137\x69\144" => $id], "\144\x69\163\160\x6c\141\171\x5f\157\x72\x64\145\162\40\141\163\143"); goto uuNP0; xJewf: q70bs: goto o0GpS; iwYJ8: $id = intval($this->site->_GPC["\x69\x64"]); goto DcKCc; DcKCc: $data["\164\x6f\160\151\143"] = $this->site->topicModule->getOne(["\x75\156\x69\141\143\x69\x64" => $this->site->site_id, "\x69\x64" => $topic_id]); goto kvsVY; Sx_6D: } public function more() { goto ypomv; Yn2iw: fXkKO: goto x4lTi; EPxBp: VJHOw: goto kyYEs; TaOi0: exit; goto fDNmy; kyYEs: if (!(count($data["\x6c\151\163\x74"]) < $this->size)) { goto fXkKO; } goto ggI3c; fdcVE: $data["\x6c\x69\x73\x74"] = $this->site->topiclistModule->getList($where, "\144\x69\x73\160\154\141\171\137\x6f\x72\x64\x65\x72\x20\141\163\x63", ["\x69\144", "\x74\x79\160\145", "\141\162\164\151\143\x6c\x65\137\151\x64", "\x6a\x75\x6d\160", "\165\x72\154", "\x69\x6d\x61\x67\145", "\x74\x69\x74\x6c\145", "\153\x77", "\x63\x61\x74\145\147\x6f\x72\x79\x5f\151\144", "\x63\162\x65\141\x74\x65\137\164\151\x6d\145"], [$page, $this->size]); goto X6Wxf; BVFgB: $page = intval($_REQUEST["\x70\x61\x67\x65"]); goto kC5al; kC5al: $data["\155\x6f\162\145"] = true; goto r4OZt; ggI3c: $data["\155\x6f\162\145"] = false; goto Yn2iw; r4OZt: $where = ["\x74\157\160\151\143\x5f\151\144" => $topic_id]; goto fdcVE; x4lTi: echo json_encode($data); goto TaOi0; X6Wxf: foreach ($data["\154\x69\163\164"] as &$value) { goto hZTOd; LGRn3: if (!(!$value["\153\167"] && $value["\164\x79\160\x65"] > 1)) { goto WcVuP; } goto hgcEW; hZTOd: $value["\x75\x72\x6c"] = $value["\152\x75\x6d\x70"] ? $value["\x75\x72\x6c"] : $this->site->mobileUrl("\x64\145\164\x61\151\154", ["\x63\x61\164\145\147\x6f\162\171\x5f\x69\144" => $value["\x63\x61\x74\145\x67\x6f\x72\x79\x5f\151\x64"], "\x69\x64" => $value["\x61\162\x74\151\143\x6c\x65\x5f\151\144"]]); goto XxDi8; H_f2d: nnczI: goto xfnAG; IMp8L: foreach ($image as $key => $im) { $value["\151\155\141\x67\145\137" . $key] = $this->site->formatArrImage($im)["\x75\x72\154"]; uu18W: } goto H_f2d; XxDi8: $value["\143\157\165\x6e\164"] = 0; goto zaP07; xfnAG: zjxNJ: goto gEkOW; gKJVq: $value["\x63\x6f\165\156\x74"] = count($image) < 3 ? 1 : 3; goto IMp8L; HVzfO: ZDcb7: goto T4Df1; zaP07: $image = @json_decode($value["\x69\x6d\x61\x67\145"], true); goto HlUhM; gEkOW: $value["\141\x75\164\150\x6f\x72"] = $this->site->formatTime($value["\x63\162\145\141\164\x65\137\164\x69\155\145"]); goto Ll2ER; HlUhM: if (!(is_array($image) && $image)) { goto zjxNJ; } goto gKJVq; xyUD_: $data["\x6d\151\x6e\137\151\x64"] = $value["\151\x64"]; goto HVzfO; lQlHo: WcVuP: goto xyUD_; hgcEW: $value["\153\x77"] = $this->site->article_type[$value["\164\171\x70\x65"]]; goto lQlHo; Ll2ER: $value["\x6b\x77"] = $value["\153\167"] ? $value["\153\x77"] : ''; goto LGRn3; T4Df1: } goto EPxBp; ypomv: $topic_id = intval($_REQUEST["\x74\157\x70\x69\143\x5f\151\144"]); goto BVFgB; fDNmy: } }