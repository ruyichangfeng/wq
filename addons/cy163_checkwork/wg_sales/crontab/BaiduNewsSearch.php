<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator          |
    |              on 2018-08-04 11:37:17              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 class BaiduNewsSearch { public static $NAME = "\x42\x61\151\x64\165\x4e\145\x77\x73\123\x65\141\x72\143\150"; public static $VALUE = "\xe7\231\276\xe5\xba\xa6\346\226\xb0\351\227\xbb"; public static $CATEGORY = array(1 => array("\x73\150\x6f\167" => true, "\x6e\141\155\145" => "\xe5\x85\xb3\xe9\224\xae\350\257\x8d", "\151\144" => 1)); public static $NEW_LIST = "\150\x74\164\160\163\x3a\x2f\57\155\x2e\x6e\x65\x77\163\56\x62\141\151\144\165\56\143\157\155\57\156\145\x77\163\77\164\156\75\x62\x64\141\x70\x69\x6e\x65\x77\163\145\x61\162\x63\x68\46\x77\x6f\162\x64\75\45\163\46\x70\x6e\x3d\60\x26\x72\x6e\x3d\45\163\46\x63\x74\75\x31"; public static $POST = array("\x6d\151\x64" => "\60\63\143\67\141\61\66\146\62\x65\x38\60\x32\70\x31\x32\x37\145\64\x32\143\65\x66\x37\x63\x61\71\x65\x32\61\60\x62", "\x74\x73" => "\60", "\x74\x6f\x70\151\143" => '', "\x74\x79\x70\x65" => "\x69\156\146\157", "\x74\157\x6b\x65\156" => "\151\156\146\157", "\x6c\x6e" => "\62\x30\60", "\x61\156" => 10, "\167\x69\x74\150\164\x6f\160\x69\x63" => "\60", "\167\146" => "\60", "\x69\156\164\145\x72\156\x65\x74\55\163\165\142\163\x63\x72\x69\x62\x65" => "\60", "\166\x65\x72" => "\x34", "\x70\x64" => "\167\145\x62\x61\x70\160", "\x6e\151\x64\x73" => '', "\162\x65\155\157\x74\x65\x5f\144\145\x76\x69\x63\x65\137\x74\x79\160\x65" => "\61", "\x6f\x73\137\x74\x79\x70\145" => 2, "\163\x63\162\x65\145\156\x5f\163\151\x7a\145\137\x77\151\144\164\150" => 320, "\x73\x63\x72\x65\145\156\x5f\163\x69\172\x65\137\x68\x65\151\x67\x68\164" => 568); public static $DETAIL = "\150\x74\x74\x70\163\72\x2f\x2f\x6d\x2e\156\x65\x77\x73\56\142\x61\x69\144\165\56\x63\157\155\x2f\x6e\145\x77\163\77\x74\x6e\x3d\x62\x64\141\160\151\142\141\151\x79\x75\145\46\164\75\162\145\x63\x6f\155\155\x65\156\x64\x69\156\146\157\x26\x77\146\x3d\x31\x26\162\145\155\157\x74\145\x5f\144\x65\166\151\143\145\137\x74\171\x70\x65\x3d\151\160\x68\x6f\156\145\x26\157\163\x5f\164\x79\x70\x65\75\x32\x26\163\x63\162\145\x65\156\137\163\x69\x7a\x65\137\x77\151\144\x74\150\75\63\62\66\x26\163\143\162\145\145\x6e\137\x73\151\x7a\x65\137\150\145\151\x67\150\164\x3d\65\60\x30"; public static $LIST = "\x68\x74\x74\x70\x73\x3a\57\57\x6d\x2e\156\145\x77\x73\x2e\x62\141\151\144\165\56\x63\x6f\155\x2f\156\x65\x77\163\x3f\164\x6e\75\142\x64\x61\160\x69\142\x61\151\171\165\x65\x26\164\75\x72\145\x63\157\155\x6d\x65\x6e\x64\x6c\151\163\164"; public static $NEW_URL = "\x68\x74\x74\x70\x73\x3a\x2f\x2f\155\56\x6e\145\167\x73\56\142\141\151\144\x75\56\x63\x6f\155\57\156\x65\167\163\77\x74\x6e\x3d\142\x64\x61\x70\151\x69\156\163\x74\x61\156\164\x66\165\x6c\154\164\x65\170\x74\46\x73\x72\143\x3d\x25\163"; public static function getCategory() { return ["\156\x61\155\145" => self::$NAME, "\143\141\164\x65\x67\x6f\162\171" => self::$CATEGORY]; } public static function sendHttpRequest($url) { goto wu6Ch; sY9Un: curl_setopt($curl, CURLOPT_USERAGENT, $ua); goto AQKcX; AQKcX: curl_setopt($curl, CURLOPT_CONNECTTIMEOUT, 30); goto sMijr; LUTvv: curl_setopt($curl, CURLINFO_HEADER_OUT, true); goto SVydr; wu6Ch: $curl = curl_init(); goto gGbg0; sMijr: curl_setopt($curl, CURLOPT_TIMEOUT, 30); goto Z3OjB; Z20hP: return $response; goto p_q9D; gGbg0: $ua = "\115\x6f\172\151\154\154\141\x2f\x35\56\60\x20\x28\x69\x50\150\x6f\x6e\x65\x3b\40\103\120\x55\40\151\120\x68\157\x6e\x65\x20\117\123\x20\67\x5f\x30\40\154\151\153\x65\40\115\141\x63\x20\117\123\x20\x58\x3b\40\145\x6e\55\x75\163\51\40\101\x70\160\154\145\x57\x65\142\x4b\151\164\x2f\65\63\67\x2e\x35\61\56\61\40\50\x4b\x48\124\x4d\114\54\x20\x6c\x69\153\145\40\107\x65\x63\153\157\51\40\126\145\x72\x73\x69\157\x6e\x2f\x37\56\x30\40\115\x6f\x62\x69\x6c\145\57\x31\x31\101\64\x36\65\x20\x53\141\146\x61\162\x69\57\71\65\x33\67\56\x35\63"; goto sY9Un; uC7IJ: curl_setopt($curl, CURLOPT_HEADER, false); goto DmZpR; DmZpR: curl_setopt($curl, CURLOPT_URL, $url); goto LUTvv; SVydr: $response = curl_exec($curl); goto HJmgJ; HJmgJ: curl_close($curl); goto Z20hP; Z3OjB: curl_setopt($curl, CURLOPT_RETURNTRANSFER, true); goto uC7IJ; p_q9D: } public function run($kw, $tables) { goto B7dWZ; Bbzdv: foreach ($list["\144\141\164\141"]["\x6c\151\163\x74"] as &$value) { goto TflEW; TflEW: $value["\164\x69\155\x65"] = $value["\x70\165\x62\154\151\143\124\x69\x6d\x65"]; goto k3yoI; k3yoI: unset($value["\160\165\x62\x6c\x69\x63\x54\151\x6d\x65"], $value["\x73\157\x72\164\124\x69\x6d\145"]); goto t4JXq; DzPrS: YximX: goto tVtar; t4JXq: $urls[$value["\165\162\154"]] = ["\165\x72\154" => sprintf(self::$NEW_URL, $value["\165\162\x6c"]), "\166\141\x6c\165\x65" => $value, "\x69\x6d\x61\147\x65" => $value["\x69\x6d\x67\x55\162\154"]]; goto DzPrS; tVtar: } goto t1qlH; YwsGE: $size = 10; goto C_Ly6; t1qlH: dB6OP: goto VxGxr; lkfm6: echo date("\131\x2d\x6d\55\144\x20\x48\x3a\x69\x3a\163") . "\x73\165\x63\143\x65\x73\163\40\x2d\55\x2d\55\x20" . $success . "\xa"; goto nho4u; C_Ly6: $urls = $new_list = []; goto AEEPY; B7dWZ: $dbHandler = BaseHandler::getHandler(); goto Jh3xY; VxGxr: lpRfd: goto Z_kW7; tVuoZ: if (!$list["\144\x61\164\141"]["\154\x69\x73\x74"]) { goto lpRfd; } goto Bbzdv; X7M2s: $list = json_decode($this->sendHttpRequest($url), true); goto tVuoZ; AEEPY: $url = sprintf(self::$NEW_LIST, $kw, $size); goto X7M2s; evA36: pKIUL: goto lkfm6; Z_kW7: foreach ($urls as $url) { goto q5bY7; DqbeL: kNkLN: goto u_xdP; mYn4t: foreach ($real_result as $key => $value) { goto AEi_c; FzHqs: echo $value["\156\x61\x6d\x65"] . "\x20\x66\141\x69\x6c\xa"; goto ruPPV; AEi_c: if ($value["\144\141\x74\x61"]["\x6e\x65\x77\163"]) { goto LR3A2; } goto FzHqs; xUnBp: uLCnm: goto OhljQ; qIXvj: SkC7f: goto xUnBp; ruPPV: goto SkC7f; goto G0QRS; G0QRS: LR3A2: goto s8xDH; uci9M: EB753: goto qIXvj; s8xDH: foreach ($value["\x64\141\164\141"]["\156\x65\167\x73"] as $k => $news) { goto hLvV5; Xe99P: $images = $news["\x69\x6d\141\147\145\x75\162\x6c\x73"]; goto L2v4Z; cW6y3: $news["\160\x75\x69\144"] = $news["\156\x69\144"]; goto CAeiy; wHNKh: if ($ccc) { goto VOlSF; } goto t2BOs; mCoKz: dAFhP: goto fguSM; Ke1y3: $save["\x73\151\x74\145"] = "\155\x2e\x6e\x65\167\x73\56\x62\x61\151\x64\x75\56\x63\x6f\x6d"; goto k1WW8; fXZhX: vxtEl: goto qkO2f; hLvV5: if (!(strpos($news["\x75\162\x6c"], "\x62\141\151\152\151\141\x68\141\x6f") !== false)) { goto bXO1j; } goto i7Q1u; Ixivy: if (!$news["\x69\x6d\141\x67\145\x75\162\x6c\163"]) { goto KN5hy; } goto Xe99P; dHVlz: $save["\164\151\x74\154\x65"] = $news["\164\x69\x74\154\x65"]; goto OnwK7; UUAlr: $save["\143\x6f\156\164\x65\156\164"] = ''; goto dWNQ7; t2BOs: goto dAFhP; goto qHV2w; M4UTU: $save["\155\x64\65"] = md5($news["\165\162\x6c"]); goto cW6y3; YDMs_: $save["\x72\145\x61\x64\137\x74\151\155\x65\x73"] = (string) rand(100, 500); goto Sue8t; sUegB: $save["\x64\141\164\x61\137\164\x79\x70\145"] = "\61"; goto rUVwC; a_EYZ: $save["\155\x61\x6a\157\x72\171\137\151\x64"] = "\x31"; goto LJlp8; JNKIX: $save["\143\157\x6e\x74\x65\x6e\x74"] = json_encode(["\143\x6f\156\164\x65\156\x74" => $ccc], JSON_UNESCAPED_UNICODE); goto v25Rw; dWNQ7: $save["\x63\157\156\164\145\156\164"] = ''; goto Ixivy; VmsD6: BaOEm: goto JNKIX; OnwK7: $save["\141\165\164\150\x6f\162"] = $news["\x73\151\164\145"]; goto sUegB; qHV2w: VOlSF: goto lvYvf; lvYvf: if ($urls[$key]["\151\155\x61\x67\x65"]) { goto vxtEl; } goto PzxX8; k1WW8: $save["\163\160\145\x63\151\141\154"] = "\61\61"; goto a_EYZ; HVuwv: goto BaOEm; goto fXZhX; Kptq9: $ccc = $value["\x64\141\x74\141"]["\x6e\145\167\x73"][0]["\x63\x6f\x6e\x74\x65\x6e\164"]; goto wHNKh; Sue8t: $save["\x74\145\x78\x74"] = $news["\141\142\x73"]; goto dHVlz; v25Rw: $this->save($save, $dbHandler, $tables); goto yqaEO; rUVwC: $save["\164\171\x70\145"] = "\61"; goto yFfy_; PzxX8: $save["\151\x6d\x61\147\x65"] = json_encode([]); goto HVuwv; CAeiy: $save["\163\x74\x61\x74\145"] = "\xe5\x85\215\xe8\xb4\xa3\345\243\260\xe6\x98\216\72\xe6\234\xac\347\xbd\x91\xe7\253\x99\xe9\203\xa8\345\210\x86\346\226\207\345\255\227\345\x92\214\344\277\xa1\346\201\257\xe6\x9d\245\346\272\220\xe4\272\222\xe8\201\x94\xe7\xbd\221\xef\274\x8c\345\xb9\xb6\xe4\270\x8d\xe6\204\217\xe5\x91\263\xe7\x9d\x80\350\xb5\236\xe5\220\214\xe5\x85\xb6\xe8\xa7\x82\xe7\202\xb9\346\210\226\350\xaf\201\xe5\xae\x9e\345\x85\xb6\xe5\206\205\345\xae\271\347\232\x84\xe7\x9c\x9f\345\xae\x9e\xe6\x80\247\xe3\x80\202\xe5\xa6\202\350\xbd\xac\xe8\xbd\275\xe6\220\236\346\xb6\x89\xe5\217\x8a\347\211\210\xe6\x9d\x83\xe7\255\x89\351\x97\256\xe9\242\230\357\274\214\xe8\xaf\267\350\201\x94\347\xb3\xbb\xe7\256\241\xe7\x90\206\345\x91\x98\xef\274\214\xe6\x88\221\xe4\xbb\254\xe4\xbc\232\xe4\272\210\344\xbb\xa5\346\x94\271\xe6\xad\xa3\346\210\226\345\x88\xa0\xe9\231\244\xe7\233\270\345\x85\263\xe9\227\256\351\242\x98\357\xbc\x8c\xe4\xbf\235\350\257\201\xe6\x82\250\347\232\204\346\x9d\203\xe5\x88\251\xef\xbc\x81"; goto UUAlr; qkO2f: $save["\x69\155\x61\147\x65"] = json_encode([["\x75\162\x6c" => $urls[$key]["\151\x6d\141\147\x65"]]], JSON_UNESCAPED_UNICODE); goto VmsD6; yqaEO: usleep(200000); goto mCoKz; iNVdc: $save = []; goto YDMs_; yFfy_: $save["\164\151\155\145\137\163\x74\x65\x70"] = (string) intval($news["\x74\x73"] / 1000); goto Ke1y3; L2v4Z: KN5hy: goto Kptq9; LJlp8: $save["\x75\x72\154"] = $news["\x75\x72\x6c"]; goto M4UTU; gFFx5: bXO1j: goto eaHKO; eaHKO: $images = []; goto iNVdc; i7Q1u: goto dAFhP; goto gFFx5; fguSM: } goto uci9M; OhljQ: } goto qr567; q5bY7: if (!$url) { goto yBcSV; } goto npAlJ; qr567: YhhZh: goto VmIT2; npAlJ: $real_result = $this->test($url); goto mYn4t; VmIT2: yBcSV: goto DqbeL; u_xdP: } goto evA36; Jh3xY: $success = 0; goto YwsGE; nho4u: } public function test($image) { goto zDxpT; mSu6h: curl_setopt($ch_list[$i], CURLOPT_RETURNTRANSFER, 1); goto lfCkQ; aCa3d: $ch_list = array(); goto Gp0E4; C_DxZ: $running = null; goto ZB8qg; x3Sz7: $i = 0; goto arSzZ; arSzZ: $ch_list[$i] = curl_init($image["\x75\x72\x6c"]); goto AsJVv; AsJVv: curl_setopt($ch_list[$i], CURLOPT_HEADER, 0); goto M3zny; wK2MK: if ($running > 0) { goto TEsfv; } goto Gdfig; M3zny: curl_setopt($ch_list[$i], CURLOPT_FOLLOWLOCATION, 1); goto mSu6h; xMLui: curl_multi_add_handle($multi_ch, $ch_list[$i]); goto Us1la; z2Ijl: curl_multi_close($multi_ch); goto QnMbM; zDxpT: $ok = []; goto aCa3d; Us1la: $i++; goto C_DxZ; Y60NO: WN21v: goto z2Ijl; lfCkQ: curl_setopt($ch_list[$i], CURLOPT_TIMEOUT, 60); goto xMLui; QnMbM: return $ok; goto WVNpl; Gp0E4: $multi_ch = curl_multi_init(); goto x3Sz7; Gdfig: FTQ8o: goto T72sO; T72sO: foreach ($ch_list as $k => $ch) { goto yXHIT; mKuau: $data = json_decode($result, true); goto pcfyN; G2pkr: jfjot: goto K2J39; yXHIT: $result = curl_multi_getcontent($ch); goto whANe; EvbNP: goto vX08b; goto fXOYH; whANe: curl_multi_remove_handle($multi_ch, $ch); goto Ry1Ro; Ry1Ro: curl_close($ch); goto mKuau; pcfyN: if ($data["\145\x72\162\x6e\157"] != 0 || !isset($data["\144\x61\x74\141"]["\156\145\x77\x73"][0]["\x6e\x69\144"])) { goto N1sv0; } goto b0Kbq; fXOYH: N1sv0: goto k0I9D; b0Kbq: $ok[$data["\x64\141\x74\141"]["\156\145\167\x73"][0]["\x75\162\x6c"]] = $data; goto EvbNP; k0I9D: vX08b: goto G2pkr; K2J39: } goto Y60NO; XbbbF: curl_multi_exec($multi_ch, $running); goto wK2MK; ZB8qg: TEsfv: goto XbbbF; WVNpl: } public function save($data, $dbHandler, $tables) { goto AcEfY; fGaA9: Wn_v4: goto FDZhD; mgd5B: G4jTI: goto HL5ii; AcEfY: foreach ($data as $k1 => $v3) { $new[$k1] = "\x56\x41\122\103\x48\101\122"; a9AyW: } goto fGaA9; FDZhD: foreach ($tables as $table) { goto AuCwV; rJsBl: goto won2r; goto RUp0u; zk8RC: if (!$result) { goto pycfw; } goto ly5WK; r_FKf: echo "\146\141\151\x6c\40" . $data["\164\x69\164\154\145"] . "\x28{$data["\x6d\144\x35"]}\x29\141\144\144\x20\164\x61\142\x6c\x65\x20{$table}\x20\x66\141\151\154\xa"; goto LWlMG; ly5WK: echo "\x73\x75\143\x63\145\x73\x73\x20" . $data["\x74\x69\x74\154\145"] . "\50{$data["\x6d\x64\x35"]}\x29\x61\144\x64\40\164\141\142\154\145\40{$table}\12"; goto rJsBl; E7PH3: $result = DBMysqlNamespace::query($dbHandler, $sql); goto zk8RC; LWlMG: won2r: goto vB_mc; RUp0u: pycfw: goto r_FKf; vB_mc: WQZTx: goto Dzca3; AuCwV: $sql = SqlBuilder::createInsertSql($data, $new, $table); goto E7PH3; Dzca3: } goto mgd5B; HL5ii: } function send_http_request($url, $post = array()) { goto m186F; ytKlK: curl_setopt($curl, CURLOPT_RETURNTRANSFER, true); goto CRLS7; N2Pa9: curl_close($curl); goto GtEqG; SijPH: curl_setopt($curl, CURLOPT_POST, true); goto KoEca; n7_zT: curl_setopt($curl, CURLOPT_URL, $url); goto k4LeP; aadgw: $response = curl_exec($curl); goto N2Pa9; FiJIv: $ua = "\115\157\172\x69\x6c\x6c\141\57\x35\56\60\x20\50\151\x50\150\157\156\x65\73\x20\103\x50\x55\x20\x69\120\x68\x6f\156\x65\40\x4f\123\x20\x37\137\60\40\x6c\151\x6b\145\x20\x4d\x61\x63\40\117\123\40\x58\x3b\x20\x65\156\x2d\x75\x73\x5d\x20\101\160\x70\154\x65\127\x65\142\x4b\x69\x74\57\x35\x33\x37\x2e\65\61\x2e\x31\x20\x28\113\110\124\115\114\x2c\x20\x6c\x69\153\x65\40\x47\145\x63\153\157\x5d\x20\x56\145\x72\163\151\157\x6e\57\x37\x2e\60\x20\x4d\x6f\x62\151\x6c\145\x2f\61\x31\101\64\x36\65\x20\x53\141\x66\141\162\151\x2f\71\65\63\67\56\x35\63"; goto wcPDJ; zMGzy: curl_setopt($curl, CURLOPT_REFERER, "\x68\164\x74\x70\x73\x3a\x2f\x2f\x6d\x2e\156\x65\x77\163\x2e\142\x61\x69\x64\x75\x2e\x63\157\155\57\x6e\145\167\163\77\x66\x72\75\x6d\x6f\x68\157\x6d\145\x26\163\163\x69\x64\75\x34\142\142\x34\x64\x31\144\x62\144\61\x63\143\144\x33\145\141\x64\70\x30\67\x26\x66\x72\157\x6d\x3d\70\x34\64\142\46\x75\x69\x64\x3d\x26\x70\x75\75\163\172\x25\x34\60\61\63\x32\60\137\x32\60\60\61\x25\62\103\164\x61\x25\64\x30\151\160\150\x6f\x6e\145\137\x31\x5f\71\x2e\x31\x5f\63\137\x36\60\61\46\142\144\137\x70\141\x67\145\x5f\164\x79\x70\x65\x3d\x31"); goto uzw0u; m186F: $curl = curl_init(); goto FiJIv; yPL8F: curl_setopt($curl, CURLOPT_TIMEOUT, 30); goto ytKlK; GtEqG: return $response; goto CnSD1; wcPDJ: if (!$post) { goto ThI0J; } goto SijPH; Xwzyv: curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false); goto n7_zT; k4LeP: curl_setopt($curl, CURLINFO_HEADER_OUT, true); goto aadgw; o227U: curl_setopt($curl, CURLOPT_CONNECTTIMEOUT, 30); goto yPL8F; uzw0u: curl_setopt($curl, CURLOPT_USERAGENT, $ua); goto o227U; KoEca: curl_setopt($curl, CURLOPT_POSTFIELDS, $post); goto nD6ty; nD6ty: ThI0J: goto zMGzy; CRLS7: curl_setopt($curl, CURLOPT_HEADER, false); goto Xwzyv; CnSD1: } }