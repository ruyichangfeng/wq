<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator          |
    |              on 2018-08-04 11:37:56              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 class Wg_sales_Web_Slider extends SalesBaseController { public static $MAX_SLIDER = 6; public static $PAGE_SIZE = 10; public function init() { goto UkVQm; SM2eD: $this->site->loadmodule("\141\x72\x74\151\x63\154\x65\115\x6f\144\165\154\145"); goto ZoUSf; UkVQm: parent::init(); goto gFweh; ZoUSf: $this->site->loadmodule("\x73\x6c\151\x64\x65\162\115\157\x64\165\154\145"); goto ZJNyE; Ie4ZI: $this->site->loadmodule("\143\141\x74\x65\x67\x6f\162\171\x4d\x6f\x64\x75\154\x65"); goto SM2eD; gFweh: $this->uid = $this->site->_W["\165\156\151\141\143\151\x64"]; goto Ie4ZI; ZJNyE: } public function index() { goto R85a2; CIpPv: $this->site->assign($data); goto txZnd; x8oxB: $data["\x6c\x69\163\164"] = $list; goto CIpPv; cpUem: $data["\163\157\165\162\x63\145"] = intval($_GET["\x73\157\165\162\x63\145"]); goto GuwkQ; rAW9b: $list = $this->site->sliderModule->getList(["\x75\156\x69\141\x63\151\144" => $this->uid, "\x73\157\165\x72\143\x65" => $data["\x73\157\x75\162\x63\x65"], "\164\x79\160\145" => 0], "\x64\x69\163\160\154\141\x79\137\x6f\162\144\x65\162\x20\x61\163\x63"); goto x8oxB; GuwkQ: $data["\x63\x61\x74\145"] = $this->site->categoryModule->getAllCategory(["\x75\x6e\151\141\x63\151\144" => $this->uid, "\x64\x65\x6c" => 0]); goto rAW9b; R85a2: $data["\x69\x6e\x64\145\x78"] = $this->site->getCategoryIndex(); goto cpUem; txZnd: } public function setting() { goto TIntL; W_htb: echo json_encode(["\143\x6f\144\x65" => 0]); goto G3a1t; YWIre: $article = $this->site->articleModule->getOne($category_id, ["\x69\x64" => $id]); goto nlHhd; JJF0s: if (!$add) { goto Ugs2P; } goto W_htb; psriw: goto UoVew; goto NWyeH; QSSx5: foreach ($data["\143\141\x74\145"] as $cate) { goto O9npg; gt1hK: wg7cZ: goto I3XIf; y80bn: $category_id = $cate["\151\144"]; goto K4r22; dUGuJ: EjHPw: goto gt1hK; O9npg: if (!($cate["\151\x64"] == $category_id)) { goto EjHPw; } goto y80bn; K4r22: $in = true; goto rT6FM; rT6FM: goto RioFV; goto dUGuJ; I3XIf: } goto x7O41; KO2de: $image = @json_decode($article["\x69\x6d\141\147\145"], true); goto NMQKk; IVWJ9: LqS0f: goto f9dcZ; V2Xlk: $count = $this->site->sliderModule->count(["\165\x6e\151\x61\143\x69\144" => $this->uid, "\x63\141\164\x65\147\x6f\x72\x79\137\151\x64" => $category_id]); goto VKVk9; x7O41: RioFV: goto FSR_P; g1oed: exit; goto dSDOZ; M_A_U: echo json_encode(["\143\x6f\x64\x65" => 1, "\x6d\x73\x67" => "\346\x9c\200\345\xa4\x9a\346\267\273\xe5\x8a\240\x36\xe5\274\xa0\350\xbd\256\346\222\xad\345\233\276"]); goto g1oed; dSDOZ: L13EC: goto bsdBD; bsdBD: if (!$id) { goto LqS0f; } goto YWIre; dPILP: $in = false; goto QSSx5; GzOWa: $id = intval($this->site->_GPC["\x69\144"]); goto jdD7i; TIntL: $category_id = intval($this->site->_GPC["\x63\141\164\x65\147\157\162\171\137\x69\144"]); goto GzOWa; rCU31: J8D95: goto V2Xlk; tJedP: $category_id = $data["\x63\141\164\145"][0]["\151\x64"]; goto rCU31; ryrob: $add = $this->site->sliderModule->add(["\x75\x6e\151\x61\143\151\144" => $this->uid, "\x63\141\164\145\147\x6f\x72\x79\x5f\x69\144" => $category_id, "\x61\162\x74\x69\143\154\145\137\x69\x64" => $id, "\x69\155\141\147\145" => $this->site->formatArrImage($image[0])["\x75\x72\x6c"], "\x74\151\164\x6c\x65" => $article["\x74\x69\164\154\x65"], "\x63\162\145\141\x74\x65\137\164\151\155\145" => time(), "\144\x69\163\160\x6c\x61\x79\x5f\157\x72\x64\145\x72" => 10, "\163\x74\x61\162\164" => time(), "\145\156\x64" => time() + 3600 * 2]); goto JJF0s; nlHhd: if (!$article) { goto cTLjJ; } goto KO2de; MOzKw: cTLjJ: goto IVWJ9; ZEBbM: exit; goto TUEJP; VTgsu: UoVew: goto MOzKw; NMQKk: if ($image && count($image) > 0) { goto Mle6u; } goto kg1Zc; VKVk9: if (!($count > 30)) { goto L13EC; } goto M_A_U; FSR_P: if ($in) { goto J8D95; } goto tJedP; f9dcZ: echo json_encode(["\x63\157\144\145" => 1, "\x6d\163\x67" => "\xe6\xb7\xbb\xe5\212\240\345\244\xb1\xe8\264\xa5"]); goto ZEBbM; NWyeH: Mle6u: goto ryrob; FI9tr: Ugs2P: goto VTgsu; fdg43: exit; goto psriw; G3a1t: exit; goto FI9tr; jdD7i: $data["\x63\x61\x74\x65"] = $this->site->categoryModule->getAllCategory(["\x75\156\151\141\143\x69\x64" => $this->uid, "\x64\145\x6c" => 0]); goto dPILP; kg1Zc: echo json_encode(["\x63\x6f\x64\145" => 1, "\155\x73\147" => "\xe6\x96\x87\347\253\xa0\xe6\227\240\345\x9b\276\xe7\x89\x87"]); goto fdg43; TUEJP: } public function edit() { goto xAx_Z; nDtdf: eglYx: goto pFdLX; mIPXo: foreach ($data["\x63\141\164\x65"] as $cate) { goto YMIrV; umerc: $source = $cate["\x69\x64"]; goto dUJK5; dUJK5: $source_name = $cate["\156\141\x6d\x65"]; goto etjSl; UOxJM: goto u7br1; goto XRpL2; T5CNL: BIAs5: goto YXB5G; XRpL2: R4X1n: goto T5CNL; YMIrV: if (!($cate["\151\x64"] == $source)) { goto R4X1n; } goto umerc; etjSl: $in = true; goto UOxJM; YXB5G: } goto yz2hQ; At9Qe: $article = $this->site->articleModule->getOne($category_id, ["\x69\144" => $save["\141\x72\164\151\x63\154\x65\x5f\151\144"]], "\x69\x64"); goto gcZ_k; ZJq1m: $in = false; goto Ea4RQ; yz2hQ: u7br1: goto LWHfq; V7P0U: $source_name = "\xe9\246\226\xe9\241\265\x54\x4f\x50\55\x4e\x45\x57\x53"; goto rcdH0; jwUrp: $index = $this->site->getCategoryIndex(); goto ccyO3; GU4TR: $id = intval($this->site->_GPC["\x69\144"]); goto v2HaR; f60xA: if (!$this->site->ispost()) { goto IOWYm; } goto uPZQY; f3vxW: LesG2: goto jwUrp; aMWTe: $data["\163\154\x69\144\145\162"] = $slider; goto H8GQC; nUjOX: $re = $this->site->sliderModule->update(["\x75\x6e\x69\x61\143\x69\144" => $this->uid, "\151\x64" => $id], $save); goto XCIWz; KIcKI: IOWYm: goto evRUr; Sskjb: message("\344\xbf\x9d\xe5\255\x98\xe6\x88\220\xe5\212\x9f", $this->site->webUrl("\x73\154\151\x64\145\162", ["\x73\157\165\x72\x63\x65" => $source])); goto lXyDg; tk13n: rnAof: goto lUeAc; jdnuF: ICNkr: goto g1RMR; XCIWz: EC21S: goto yJKNL; pFdLX: $slider = []; goto hVg0s; VroX9: pF6BT: goto nUjOX; LhCG2: if (!($save["\152\x75\x6d\x70"] == 0)) { goto KNScv; } goto NwkfC; PNuwP: message("\x75\x72\x6c\xe4\xb8\215\350\x83\275\xe4\270\xba\347\251\xba"); goto GXjxj; v2HaR: $source = intval($_GET["\x73\x6f\165\x72\x63\x65"]); goto ZBMqv; jBr6n: $source_name = $index["\x6e\x61\x6d\145"]; goto nDtdf; hVg0s: $image_one[] = ["\165\x72\154" => trim($_POST["\x70\x69\143"])]; goto f60xA; yJKNL: if ($re) { goto x1p_3; } goto TwxsA; l5CDy: $source = -1; goto V7P0U; xAx_Z: $category_id = intval($this->site->_GPC["\143\141\164\x65\147\x6f\x72\x79\137\x69\144"]); goto GU4TR; mq1l5: $data["\x73\x6f\x75\x72\143\145"] = $source; goto vTFCd; uPZQY: $id = intval($_POST["\151\x64"]); goto AhJS8; Rdeu5: message("\xe6\x96\x87\347\253\240\111\x44\344\xb8\215\xe8\x83\xbd\344\xb8\xba\xe7\xa9\xba"); goto EH06S; NwkfC: if (!($save["\x61\x72\164\151\x63\154\145\137\151\x64"] <= 0)) { goto QX7ah; } goto Rdeu5; Lxw1h: if (!$in) { goto LesG2; } goto QlTNw; ccyO3: $source = 0; goto jBr6n; kqI39: if (!($save["\152\x75\155\160"] == 1 && $save["\165\x72\x6c"] == '')) { goto QBFM5; } goto PNuwP; LWHfq: if (!$in && $source == -1) { goto Gn33s; } goto Lxw1h; rcdH0: goto eglYx; goto f3vxW; Wepas: message("\xe6\xa0\207\351\242\x98\346\210\x96\xe5\x9b\xbe\347\x89\x87\344\270\x8d\350\x83\xbd\xe4\270\272\xe7\xa9\272"); goto JL3Du; Ea4RQ: $source_name = ''; goto mIPXo; EH06S: QX7ah: goto At9Qe; EOvgd: $slider["\x69\x6d\x61\147\x65"] = $this->site->formatArrImage($images)["\x75\162\154"]; goto wTvbO; J1wBG: goto EC21S; goto VroX9; ZBMqv: $data["\x63\x61\164\x65"] = $this->site->categoryModule->getAllCategory(["\165\x6e\151\x61\143\151\144" => $this->uid, "\x64\145\154" => 0]); goto ZJq1m; GXjxj: QBFM5: goto LhCG2; UsA2s: $slider = $this->site->sliderModule->getOne(["\x75\x6e\151\x61\143\151\x64" => $this->uid, "\151\144" => $id]); goto iSpU3; gcZ_k: if ($article) { goto ICNkr; } goto rupIY; vTFCd: $data["\x73\x6f\x75\x72\143\145\x5f\x6e\141\x6d\x65"] = $source_name; goto aMWTe; lunXm: $re = $this->site->sliderModule->add($save); goto J1wBG; g1RMR: KNScv: goto h_Fit; h_Fit: if ($id) { goto pF6BT; } goto lunXm; rpWmS: goto U7qHJ; goto XJWHU; TwxsA: message("\xe4\277\x9d\xe5\255\x98\345\xa4\261\350\264\245"); goto rpWmS; lXyDg: U7qHJ: goto KIcKI; evRUr: if (!$id) { goto AvJi8; } goto UsA2s; Tuq0o: message("\350\xbd\256\346\222\xad\xe5\233\276\xe4\xb8\x8d\xe5\xad\x98\xe5\x9c\xa8", $this->site->webUrl("\x61\x72\x74\x69\x63\154\145")); goto tk13n; lUeAc: AvJi8: goto mq1l5; wTvbO: if ($slider) { goto rnAof; } goto Tuq0o; iSpU3: $images = @json_decode($slider["\x69\155\x61\147\145"], true)[0]; goto EOvgd; yTUFk: if (!(($save["\164\x69\x74\x6c\145"] == '' || trim($_POST["\x70\x69\143"]) == '') && $save["\x73\157\x75\x72\143\145"] != -1)) { goto mBKSp; } goto Wepas; XJWHU: x1p_3: goto Sskjb; H8GQC: $this->site->assign($data); goto SEXn7; JL3Du: mBKSp: goto kqI39; AhJS8: $save = ["\165\156\x69\141\143\151\x64" => $this->uid, "\x63\x61\164\x65\x67\x6f\162\x79\137\151\144" => $category_id, "\163\157\x75\x72\143\x65" => $source, "\x74\171\x70\x65" => 0, "\141\x72\164\x69\x63\154\145\x5f\x69\144" => intval($_POST["\x61\162\164\151\x63\154\x65\x5f\x69\x64"]), "\151\x6d\x61\147\145" => json_encode($image_one), "\x75\x72\154" => trim($_POST["\x75\x72\154"]), "\x6a\x75\x6d\x70" => intval($_POST["\x6a\x75\155\x70"]), "\164\x69\x74\x6c\145" => trim($_POST["\164\x69\x74\154\x65"]), "\x63\162\x65\141\x74\145\137\x74\151\155\145" => time(), "\x64\151\163\x70\154\141\171\137\157\162\144\x65\162" => intval($_POST["\144\x69\x73\160\x6c\141\x79\137\x6f\x72\x64\145\x72"]), "\x73\x74\141\162\164" => strtotime(trim($_POST["\163\x74\141\162\164"])), "\145\x6e\x64" => strtotime(trim($_POST["\x65\x6e\144"]))]; goto yTUFk; rupIY: message("\346\226\x87\347\253\xa0\x49\x44\xe5\257\271\xe5\272\x94\347\x9a\204\xe6\226\x87\347\253\240\xe4\xb8\215\xe5\255\230\xe5\234\xa8"); goto jdnuF; RenpJ: Gn33s: goto l5CDy; QlTNw: goto eglYx; goto RenpJ; SEXn7: } public function spider() { goto XOrZx; T0RTX: if ($data["\145\x63"] == 200 && $data["\x64\141\x74\141"]) { goto oJ40o; } goto tpvv0; duuzT: echo json_encode(["\x63\x6f\x64\x65" => 1, "\155\163\147" => "\165\x72\x6c\xe5\234\xb0\xe5\235\200\351\x94\x99\xe8\257\257"]); goto V_Hxd; N04nC: exit; goto Uc7YS; scIHt: $data["\144\x61\x74\141"]["\164\x69\155\x65\x5f\163\164\145\160"] = date("\x59\55\x6d\55\144\x20\x48\72\151\72\163", $data["\144\141\x74\x61"]["\164\x69\x6d\145\x5f\163\164\x65\160"]); goto z2duX; fQfZU: XVd60: goto YYrwQ; z2duX: echo json_encode(["\143\157\144\145" => 0, "\155\163\x67" => '', "\144\x61\x74\x61" => $data["\144\141\164\141"]]); goto EJ_I0; l6DpW: twPpz: goto C9NrU; EJ_I0: exit; goto fQfZU; V_Hxd: exit; goto l6DpW; C9NrU: $url = sprintf(self::$URL, $url); goto AfVZr; XOrZx: $url = $_POST["\x75\162\154"]; goto dMk8I; Uc7YS: goto XVd60; goto XXG3y; XXG3y: oJ40o: goto scIHt; tpvv0: echo json_encode(["\x63\x6f\144\145" => 1, "\155\163\x67" => "\xe6\212\x93\345\x8f\226\345\xa4\261\xe8\xb4\245"]); goto N04nC; dMk8I: if ($url) { goto twPpz; } goto duuzT; AfVZr: $data = json_decode(file_get_contents($url), true); goto T0RTX; YYrwQ: } public function del() { goto mC28S; hlimo: uPBjw: goto cUsSP; mC28S: $id = intval($_POST["\x69\144"]); goto FqC99; cUsSP: echo json_encode(["\x63\157\144\x65" => 0]); goto zb0MM; zb0MM: KR15O: goto m2Etl; m2Etl: exit; goto rmwwn; nCIWR: echo json_encode(["\x63\157\144\x65" => 1, "\x6d\163\147" => "\xe5\210\xa0\xe9\x99\244\xe5\xa4\261\350\xb4\xa5"]); goto HhmgH; kCjg3: if ($result) { goto uPBjw; } goto nCIWR; HhmgH: goto KR15O; goto hlimo; FqC99: $result = $this->site->sliderModule->del(["\151\144" => $id, "\165\x6e\151\x61\143\x69\x64" => $this->uid]); goto kCjg3; rmwwn: } }