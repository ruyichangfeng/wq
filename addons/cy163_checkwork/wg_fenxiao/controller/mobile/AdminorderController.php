<?php
 class AdminorderController extends MobileBaseController { public $size = 10; public function init() { goto UtmZe; EhmlE: if ($this->admin) { goto Y2Ywz; } goto Rtv0t; xkRx5: Y2Ywz: goto u4a_H; UtmZe: parent::init(); goto EhmlE; Rtv0t: message("\351\241\265\xe9\235\242\345\x87\272\351\224\x99", $this->createMobileUrl("\x6d\x65\x6d\142\x65\x72")); goto xkRx5; u4a_H: } public function index() { goto UgLU5; GaK_X: $this->assign($data); goto UaUBh; FdGyF: $data["\164\151\164\154\x65"] = "\350\256\xa2\xe5\215\225\xe7\256\xa1\347\x90\x86"; goto GaK_X; cXdAJ: D3Ajo: goto REyUI; REyUI: $data = $_SESSION["\151\x6e\146\x6f"]; goto FdGyF; UaUBh: $this->display(); goto VkDgV; sPJ8n: $_SESSION["\151\x6e\x66\157"]["\155\145\155\142\x65\x72\x73"] = $this->MemberModel->count(["\x77\x65\x69\x64" => $this->W["\x75\156\151\x61\x63\151\144"]]); goto bUxeB; bUxeB: $_SESSION["\x69\156\146\157"]["\x6f\162\x64\x65\x72\163"] = $this->OrderModel->count(["\167\145\x69\x64" => $this->W["\x75\x6e\151\x61\143\151\x64"]]); goto C_m64; WWcZF: $_SESSION["\151\x6e\146\157"]["\x69\x6e\143\x6f\155\x65"] = $this->OrderModel->pdo_fetch($sql)["\x73\x75\155"]; goto Vj5An; Vj5An: $_SESSION["\151\x6e\146\157"]["\164\151\155\x65"] = time(); goto cXdAJ; UgLU5: if (!($_SESSION["\151\156\146\x6f"]["\x74\x69\x6d\145"] + 60 * 10 < time())) { goto D3Ajo; } goto sPJ8n; C_m64: $sql = "\163\x65\x6c\x65\143\x74\40\x73\x75\x6d\x28\157\162\144\145\162\x70\x72\x69\143\145\x29\x20\141\x73\40\x73\165\x6d\40\x66\x72\157\155\x20" . tablename($this->OrderModel->getTable()) . "\x20\x77\x68\145\162\x65\40\167\145\x69\x64\75" . $this->W["\165\156\x69\x61\143\151\144"] . "\x20\x61\x6e\x64\40\x73\164\141\x74\165\163\x3e\x30"; goto WWcZF; VkDgV: } public function more() { $this->getData(); $this->ajaxReturn(0, '', $this->data); } private function getData() { goto WpPg9; rFGiM: $this->data["\155\x6f\162\x65"] = true; goto rgIBg; XNUFy: sBlL6: goto Rnwzp; UatxD: VQ5Zr: goto i91DN; AER2E: NkQMA: goto HqJXz; oRmad: g5d2R: goto X4nPQ; Fc8S6: foreach ($list as &$value) { goto MMPTT; Ax1Q1: $value["\x74\x69\155\x65"] = date("\x59\57\155\x2f\144\40\40\40\110\72\151\72\x73", $value["\x63\x72\x65\141\x74\145\164\x69\155\x65"]); goto zdhmo; MMPTT: $value["\163\164\x61\x74\x75\x73"] = self::$ORDER_STATUS[$value["\x73\x74\141\164\x75\x73"]]; goto Ax1Q1; zdhmo: KTHb1: goto I7PLX; I7PLX: } goto XNUFy; XpZCH: if ($status == '') { goto g5d2R; } goto bWCzn; bWCzn: $where["\163\x74\141\164\x75\x73"] = $status; goto Fte15; Rnwzp: if (!(count($list) < $this->size)) { goto tihbH; } goto QD9uc; WpPg9: $status = intval($this->GPC["\x73\x74\x61\164\165\x73"]); goto EYaqo; kEAUC: Th5q6: goto pqoBy; swrtT: if ($this->GPC["\157\162\144\x65\162\x73\x6e"]) { goto VQ5Zr; } goto XpZCH; i91DN: $where["\157\162\x64\145\162\163\x6e"] = trim($this->GPC["\x6f\x72\x64\145\162\x73\156"]); goto AER2E; Q7WSL: goto NkQMA; goto UatxD; QD9uc: $this->data["\x6d\x6f\162\x65"] = false; goto MBqzF; SAsCZ: $this->data["\x70\141\x67\145"] = $page + 1; goto T6BNs; X4nPQ: EgnOD: goto Q7WSL; HqJXz: $where["\x77\x65\151\x64"] = $this->W["\x75\156\151\141\143\151\x64"]; goto rFGiM; MBqzF: tihbH: goto SAsCZ; EYaqo: $page = intval($this->GPC["\160\x61\147\x65"]); goto GtZEG; rgIBg: $list = $this->OrderModel->getList($where, ["\x69\x64", "\157\x72\x64\x65\162\163\x6e", "\157\162\144\x65\x72\160\x72\x69\143\x65", "\x73\164\141\164\x75\163", "\x63\x72\x65\141\x74\145\164\151\155\x65"], ["\151\x64\40\x64\145\x73\143"], [$page, $this->size]); goto Fc8S6; GtZEG: $page = $page ? $page : 1; goto swrtT; Fte15: goto EgnOD; goto oRmad; T6BNs: $this->data["\154\x69\163\x74"] = []; goto rEuvK; rEuvK: foreach ($list as $de) { $this->data["\x6c\x69\163\164"][] = $de; J080s: } goto kEAUC; pqoBy: } public function del() { goto bccLi; v_CoE: fUWSz: goto YnbzD; cNDUf: if ($result) { goto lIkea; } goto W_l79; LGnlX: $this->OrderDetailModel->del(["\x6f\162\144\x65\x72\137\x69\144" => $order_id]); goto Sgsej; W_l79: $this->ajaxReturn(101, "\345\210\xa0\351\231\244\345\xa4\xb1\350\264\xa5"); goto gPjBv; gPjBv: goto fUWSz; goto RixsW; HyN2c: $result = $this->OrderModel->del(["\151\144" => $order_id, "\155\145\x6d\x62\x65\x72\x69\x64" => $this->uid]); goto cNDUf; Sgsej: $this->ajaxReturn(0, ''); goto v_CoE; RixsW: lIkea: goto LGnlX; bccLi: $order_id = intval($this->GPC["\157\x72\x64\145\162\x5f\151\x64"]); goto HyN2c; YnbzD: } public function done() { goto Ic3hJ; Ic3hJ: $order_id = intval($this->GPC["\x6f\x72\x64\145\162\137\151\x64"]); goto c059K; c059K: $result = $this->OrderModel->update(["\151\144" => $order_id, "\x6d\x65\155\142\145\x72\x69\x64" => $this->uid, "\163\164\141\164\165\163" => 2], ["\163\164\x61\164\165\x73" => 3]); goto VHnH4; wuFRd: $this->ajaxReturn(101, "\346\x93\215\344\xbd\234\xe5\xa4\261\350\264\245"); goto B3qUD; u7pwG: hlzXj: goto PSYaR; VHnH4: if ($result) { goto jUqOo; } goto wuFRd; CfFlD: jUqOo: goto l46Ig; B3qUD: goto hlzXj; goto CfFlD; l46Ig: $this->ajaxReturn(0, ''); goto u7pwG; PSYaR: } public function detail() { } }