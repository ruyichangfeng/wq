<?php
 class BuyingController extends BaseController { public $size = 5; public function index() { goto vBjTs; NrN6p: $pindex = max(1, intval($this->GPC["\160\x61\x67\145"])); goto faz5q; HkzAj: $this->assign($data); goto GtUmd; ZVwhe: $data["\157\x70\x65\x72\x61\164\151\157\x6e"] = "\144\151\x73\160\x6c\x61\171"; goto L0FWU; ZZt3x: $total = $this->GouModel->count($where); goto O4Erk; vBjTs: $data["\x74\151\x74\x6c\x65"] = "\xe5\x95\206\xe5\223\201\345\x88\206\xe7\xb1\xbb"; goto NrN6p; O4Erk: $page = intval($_GET["\x70\x61\147\x65"]) ? intval($_GET["\160\141\147\145"]) : 1; goto OhA8l; L0FWU: $where = ["\x77\x65\x69\x64" => $this->W["\165\x6e\151\x61\x63\151\x64"], "\x74\x79\160\x65" => $data["\164\x79\160\145"]]; goto ZZt3x; kHyK_: $data["\160\x61\x67\145\x72"] = pagination($total, $pindex, $this->size); goto HkzAj; GtUmd: $this->display(); goto F1gax; OhA8l: $data["\x6c\x69\x73\164"] = $this->_getGouList($page, $this->size, $where); goto kHyK_; faz5q: $data["\164\x79\x70\x65"] = $_GET["\164\x79\160\145"] == 2 ? 2 : 1; goto ZVwhe; F1gax: } public function post() { goto SO8rz; btFS4: message("\xe4\270\x8d\xe5\255\230\xe5\x9c\250"); goto Q_OJZ; CRbjh: $data["\x65\156\144"] = strtotime(trim($_POST["\145\x6e\144"])); goto XB6gk; XB6gk: $data["\x7a\150\145\153\157\x75"] = trim($_POST["\x7a\x68\145\153\x6f\x75"]); goto XtfTl; L3EiP: $this->assign($data); goto IkLUg; rG7F2: $data["\x6f\x70\145\162\141\x74\x69\x6f\x6e"] = "\x70\x6f\x73\x74"; goto VhCmD; EXTaQ: if (!$this->GouModel->update(["\x69\144" => (int) $_POST["\151\x64"]], $data)) { goto M2LX0; } goto jM221; Xqfz8: xIhMe: goto b1aTp; pe6kH: M2LX0: goto Xqfz8; IkLUg: $this->display("\167\x65\142\57\x62\x75\171\151\x6e\147\x2f\x69\x6e\144\x65\x78"); goto P9lLS; NuYbR: $data["\x77\x65\151\147\x68\x74"] = (int) $_POST["\x77\x65\x69\147\150\164"]; goto NtCKC; XtfTl: $data["\165\x70\x64\x61\x74\145\x5f\164\151\x6d\x65"] = time(); goto EXTaQ; k5v0Y: if ($detail) { goto MgNlk; } goto btFS4; SO8rz: if (!checksubmit("\163\x75\142\x6d\151\164")) { goto xIhMe; } goto NuYbR; Q_OJZ: MgNlk: goto rG7F2; NtCKC: $data["\x73\164\x61\x72\x74"] = strtotime(trim($_POST["\163\x74\x61\162\x74"])); goto CRbjh; jM221: message("\xe4\277\xae\xe6\224\271\xe6\210\220\345\212\237", $this->createWebUrl("\x62\165\171\151\156\x67", ["\x74\x79\x70\145" => $_POST["\x74\x79\160\x65"]])); goto pe6kH; VhCmD: $data["\x67\x6f\165"] = $detail; goto L3EiP; b1aTp: $detail = $this->GouModel->getOne(["\x67\x6f\x6f\144\x73\x5f\x69\x64" => (int) $_GET["\147\157\x6f\x64\163\137\151\144"], "\164\x79\160\x65" => (int) $_GET["\x74\171\160\x65"]]); goto k5v0Y; P9lLS: } public function delete() { goto oIMLP; DMV4X: $this->ajaxReturn(0, ''); goto CEG0Q; NuCiF: $this->ajaxReturn(101, ''); goto zfnHh; oIMLP: $id = (int) $_GET["\x67\157\157\144\x73\x5f\x69\x64"]; goto tw7RQ; tw7RQ: $type = (int) $_GET["\164\171\160\x65"]; goto oFJsn; oFJsn: if (!$this->GouModel->del(["\x67\157\157\144\x73\137\151\x64" => $id, "\x74\171\160\x65" => $type])) { goto QJpjO; } goto DMV4X; CEG0Q: QJpjO: goto NuCiF; zfnHh: } }