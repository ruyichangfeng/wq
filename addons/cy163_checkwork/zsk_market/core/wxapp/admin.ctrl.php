<?php
 class Admin extends ZskWxapp { public function checkShopAdmin() { goto wgdSH; wtg69: $model = Model("\155\145\155\x62\145\x72"); goto R8N3n; R8N3n: $uniacid = intval($_W["\165\156\151\141\143\151\x64"]); goto TAd32; b7RB4: $shopid = $_GPC["\163\150\x6f\160\x69\144"]; goto FQreq; FQreq: $mem = $model->exist("\157\160\x65\156\151\144\x3d\x27" . $openid . "\47\x20\x61\x6e\x64\40\141\144\155\x69\x6e\163\150\157\160\x69\144\75{$shopid}\40"); goto gBqHZ; wgdSH: global $_W, $_GPC; goto wtg69; eNPlq: echo json_encode(array("\x73\164\x61\164\x75\x73" => -1, "\155\163\x67" => "\346\x9d\203\xe9\x99\220\xe4\xb8\215\xe8\xb6\263")); goto derrz; gBqHZ: if ($mem) { goto gQPjI; } goto eNPlq; bSFnh: gQPjI: goto mn02x; TAd32: $openid = $_GPC["\x6f\160\x65\x6e\x69\x64"]; goto b7RB4; derrz: exit; goto bSFnh; mn02x: } public function withdrawrecord() { goto gdU1H; JpUlb: $shopid = $_GPC["\163\x68\157\160\151\x64"]; goto JefdG; gdU1H: global $_W, $_GPC; goto WlC1J; WlC1J: $model = Model("\167\x69\x74\150\144\x72\x61\x77"); goto LKmWA; JefdG: $records = $model->order("\x60\144\x61\164\x65\x74\151\x6d\145\140\40\x64\145\x73\x63")->where("\x75\x6e\x69\x61\x63\151\144\75{$uniacid}\x20\141\x6e\x64\40\x73\150\x6f\x70\x69\144\x3d{$shopid}\40\x61\x6e\x64\40\x6f\x70\145\156\151\144\x3d\47" . $openid . "\x27")->getall(); goto NVdJw; WMSID: $openid = $_GPC["\157\160\145\156\x69\144"]; goto JpUlb; NVdJw: echo JSON_OUT($records, true); goto fAmhW; LKmWA: $uniacid = intval($_W["\165\156\151\141\x63\x69\144"]); goto WMSID; fAmhW: } public function withdrawapply() { goto i6UbY; HVM3s: if (!($_GPC["\x74\171\x70\x65"] == "\141\154\x69\x70\x61\x79")) { goto xU_Ln; } goto NCbNb; ijq5V: BS3KE: goto ECMnr; Gkm_y: $type = "\351\x93\xb6\xe8\241\214\345\x8d\241"; goto SHP8m; NCbNb: $type = "\346\x94\xaf\344\273\x98\xe5\256\x9d"; goto PiZFv; mBojr: $user = Model("\155\145\155\142\x65\x72")->where("\x6f\x70\x65\x6e\x69\x64\x3d\47" . $openid . "\47\40\141\156\144\40\165\156\x69\x61\x63\x69\x64\75" . $uniacid)->get(); goto YB9Sc; J9H3m: $apply["\x74\171\x70\x65"] = $type; goto Iu52V; glzkV: $openid = trim($_GPC["\157\x70\145\156\x69\x64"]); goto IZghW; i6UbY: global $_W, $_GPC; goto enwx9; zYhfs: $out["\x61\151\x64"] = $model->add($apply); goto Igvip; YB9Sc: $apply["\x6e\x69\143\153\156\x61\155\145"] = $user["\x6e\x69\x63\x6b\156\x61\x6d\x65"]; goto tInuj; XbzAl: if (!($_GPC["\164\x79\160\145"] == "\x62\141\156\x6b")) { goto gG4Jo; } goto Gkm_y; ECMnr: echo json_encode($out); goto O0leT; PiZFv: xU_Ln: goto XbzAl; xobAv: $apply["\x6d\x6f\x6e\x65\x79"] = $apply["\x6d\x6f\156\145\171"] . "\xe5\x85\x83"; goto mBojr; enwx9: $model = Model("\167\x69\164\150\x64\162\x61\x77"); goto YK2Xc; hg7le: $id = Model("\163\x68\x6f\160")->where("\151\x64\75\47" . $_GPC["\163\150\x6f\160\x69\144"] . "\47\x20")->limit(1)->save(array("\x62\x61\154\x61\x6e\x63\x65" => $balance)); goto xobAv; mbB8O: $balance = $shop["\x62\x61\x6c\x61\156\x63\145"] - $_GPC["\155\157\x6e\x65\171"]; goto hg7le; gHeJE: $shop = Model("\x73\150\x6f\x70")->where("\x69\144\75\47" . $_GPC["\163\x68\x6f\x70\x69\144"] . "\x27\40")->get(); goto mbB8O; YK2Xc: $uniacid = intval($_W["\x75\x6e\151\141\143\x69\144"]); goto glzkV; Iu52V: $apply["\162\x65\x6d\x61\162\x6b"] = "\xe6\217\x90\347\x8e\xb0\xe6\x9d\xa5\xe6\272\220\xef\274\x9a\xe5\x95\206\xe5\256\xb6\xe6\x8f\x90\xe7\216\260"; goto HhYKq; SHP8m: gG4Jo: goto J9H3m; tInuj: $type = "\345\276\xae\xe4\277\241\351\233\xb6\xe9\222\261"; goto HVM3s; Igvip: if (!$out["\141\x69\144"]) { goto BS3KE; } goto gHeJE; IZghW: $apply = array("\146\x6f\x72\155\x69\144" => $_GPC["\146\x6f\x72\x6d\151\x64"], "\165\x6e\x69\141\x63\151\144" => $uniacid, "\163\x68\157\x70\x69\144" => intval($_GPC["\x73\x68\x6f\x70\x69\x64"]), "\157\160\145\x6e\x69\x64" => $openid, "\155\157\x6e\145\x79" => floatval($_GPC["\155\x6f\x6e\x65\171"]), "\x74\x79\160\x65" => $_GPC["\164\171\x70\145"], "\163\x74\141\x74\x75\x73" => 0, "\144\x61\x74\145\164\x69\x6d\145" => date("\x59\x2d\x6d\x2d\x64\40\110\72\151\72\163", time()), "\164\x72\165\145\156\141\155\145" => trim($_GPC["\x74\162\x75\x65\156\x61\x6d\145"]), "\x6d\157\x62\x69\154\x65" => trim($_GPC["\x6d\x6f\x62\x69\x6c\145"]), "\x61\x63\143\157\x75\x6e\164" => trim($_GPC["\x61\x63\143\157\x75\156\x74"]), "\162\145\155\x61\162\153" => trim($_GPC["\x72\145\155\141\162\x6b"])); goto zYhfs; HhYKq: $out["\141\160\151"] = sendWithdrawApply($apply); goto ijq5V; O0leT: } public function withdrawdet() { goto NdBzv; NdBzv: global $_W, $_GPC; goto YJksP; YJksP: $model = Model("\x73\x68\x6f\160\x61\x70\x70\x6c\171"); goto zDaxH; wdp4s: echo JSON_OUT(array("\x61\160\x70\x6c\x79" => $apply), true); goto Ob6tS; EiY93: $openid = trim($_GPC["\x6f\160\145\x6e\151\x64"]); goto zfmcq; zfmcq: $aid = intval($_GPC["\141\x69\x64"]); goto lKAxE; zDaxH: $uniacid = intval($_W["\165\156\x69\x61\143\151\x64"]); goto EiY93; lKAxE: $apply = $model->where("\165\156\x69\141\143\151\144\x3d{$uniacid}\x20\141\156\144\x20\157\x70\145\156\151\x64\x3d\x27{$openid}\x27\40\x61\x6e\x64\40\151\144\75{$aid}")->get(); goto wdp4s; Ob6tS: } public function changeOrderStatus() { goto XWXJL; rKC3e: $order["\x65\x78\160\162\x65\163\163\x6e\157"] = $_GPC["\x65\x78\x70\x72\x65\x73\163"]; goto VzO2x; EO1A2: global $_W, $_GPC; goto thT1Q; aZOWB: $res["\x73\164\163"] = $model->where("\x6f\162\x64\x65\x72\x5f\156\157\x3d\x27" . $num . "\x27\x20\x61\156\x64\40\163\x68\157\x70\151\x64\75{$shopid}\40")->limit(1)->save($order); goto pJI0y; hQp9P: $status = intval($_GPC["\x73\164\163"]); goto McoQb; Cej49: $order = array("\163\164\141\x74\x75\163" => $status); goto HTBmv; pJI0y: echo json_encode($res); goto f_xl9; HTBmv: if (!($status == 2)) { goto w8uQb; } goto rKC3e; u_LoE: $num = $_GPC["\x6e\x75\x6d"]; goto Cej49; XWXJL: $this->checkShopAdmin(); goto EO1A2; thT1Q: $model = Model("\x6f\162\x64\145\x72"); goto Q0xbu; McoQb: $openid = $_GPC["\x6f\x70\145\156\x69\x64"]; goto u_LoE; Q0xbu: $uniacid = intval($_W["\x75\x6e\x69\x61\143\x69\x64"]); goto CdZ2r; CdZ2r: $shopid = intval($_GPC["\x73\150\x6f\160\151\144"]); goto hQp9P; VzO2x: w8uQb: goto aZOWB; f_xl9: } public function changePayStatus() { goto IUOqQ; tviCv: echo json_encode($res); goto BFdTh; auTtx: $shopid = intval($_GPC["\163\150\x6f\160\x69\x64"]); goto JISAc; Y4a6t: $num = $_GPC["\x6e\x75\155"]; goto i_ct4; JISAc: $status = intval($_GPC["\x70\141\x79\163\164\x73"]); goto x91sV; wD2t_: global $_W, $_GPC; goto e3H29; e3H29: $model = Model("\x6f\x72\x64\x65\x72"); goto kZ9S5; IUOqQ: $this->checkShopAdmin(); goto wD2t_; x91sV: $openid = $_GPC["\x6f\160\x65\x6e\x69\144"]; goto Y4a6t; kZ9S5: $uniacid = intval($_W["\165\156\151\x61\x63\x69\x64"]); goto auTtx; i_ct4: $res["\163\x74\x73"] = $model->where("\x6f\162\144\x65\162\x5f\x6e\157\x3d\47" . $num . "\x27\40\x61\x6e\144\x20\163\150\157\160\x69\144\75{$shopid}\x20")->limit(1)->save(array("\x73\164\141\164\x75\x73" => $status)); goto tviCv; BFdTh: } public function bindAdmin() { goto w2gt0; XB_uD: $member = Model("\x6d\x65\x6d\142\145\x72")->where("\165\156\151\x61\x63\151\144\75{$uniacid}\40\x61\x6e\144\40\x6f\160\x65\x6e\x69\x64\75\x27" . $openid . "\47")->get(); goto MT8FW; CXprW: UvANY: goto VjAyl; BLEjL: goto UvANY; goto ZNyMy; w2gt0: global $_W, $_GPC; goto UidKW; UidKW: $model = Model("\x6f\x72\144\145\162"); goto ib3kV; a1AAF: $shop0 = Model("\x73\x68\157\160")->where("\x75\156\x69\x61\x63\151\x64\x3d{$uniacid}\x20\x61\156\x64\40\151\x64\75" . intval($member["\x61\144\x6d\151\156\x73\150\157\160\151\144"]))->get("\x69\x64\x2c\156\x61\x6d\145"); goto QoSnK; QoSnK: if (empty($shop0)) { goto em48L; } goto qRziU; LPjc3: $shop = Model("\x73\x68\157\160")->where("\165\156\151\141\x63\x69\144\x3d{$uniacid}\x20\141\156\144\x20\x69\x64\75" . $shopid)->get("\x69\144\54\x6e\x61\x6d\145"); goto Yatct; llo9c: $out["\x6d\163\147"] = "\347\xbb\221\xe5\256\232\xe6\x88\x90\345\x8a\237"; goto rxa2b; fP1_D: Fb5Af: goto WvH3V; eq1Yt: Model("\155\145\155\142\x65\x72")->limit(1)->where("\x75\x6e\x69\141\x63\151\144\75{$uniacid}\40\141\x6e\144\x20\x6f\x70\145\156\x69\144\x3d\47" . $openid . "\x27")->save(array("\x61\144\155\151\156\163\150\157\x70\x69\x64" => $shopid)); goto VstgY; wJHpK: $shopid = intval($_GPC["\163\x68\157\160\151\144"]); goto GOuRq; WLWwj: $out["\x6d\x73\x67"] = "\xe7\273\221\xe5\256\232\346\x88\220\345\x8a\237"; goto CXprW; pvGFm: em48L: goto LPjc3; uz0Iv: if (intval($member["\141\144\x6d\x69\156\163\150\157\x70\x69\x64"]) > 0) { goto kHznS; } goto hRmFa; qRziU: $out["\155\163\x67"] = "\345\xb7\xb2\xe7\273\221\xe5\xae\x9a\xe5\x85\266\344\xbb\226\345\272\227\xe9\x93\xba\357\274\x88" . $shop0["\x6e\141\x6d\x65"] . "\xef\xbc\211"; goto ecwxB; ib3kV: $uniacid = intval($_W["\x75\x6e\x69\141\143\x69\x64"]); goto wJHpK; GOuRq: $openid = $_GPC["\157\160\145\x6e\x69\x64"]; goto XB_uD; ZNyMy: S1w8z: goto eq1Yt; Yatct: if (!empty($shop)) { goto S1w8z; } goto YdjN5; MT8FW: $out = array("\x73\164\x61\164\x75\x73" => -1, "\x6d\x73\147" => "\347\273\x91\345\xae\232\345\244\261\xe8\xb4\xa5"); goto uz0Iv; VjAyl: TP3E2: goto fP1_D; ecwxB: goto TP3E2; goto pvGFm; mooow: $out["\163\x74\141\164\165\x73"] = 1; goto llo9c; lLY1k: kHznS: goto a1AAF; rxa2b: goto Fb5Af; goto lLY1k; YdjN5: $out["\155\163\x67"] = "\345\272\x97\351\223\xba\151\x64\xe4\xb8\x8d\xe6\255\243\xe7\241\xae\x32"; goto BLEjL; VstgY: $out["\x73\x74\141\x74\165\163"] = 1; goto WLWwj; hRmFa: Model("\155\x65\155\142\145\162")->limit(1)->where("\x75\156\151\141\x63\151\x64\x3d{$uniacid}\40\x61\x6e\x64\40\157\160\145\156\151\x64\75\x27" . $openid . "\x27")->save(array("\x61\144\x6d\151\x6e\163\150\x6f\x70\x69\x64" => $shopid)); goto mooow; WvH3V: echo JSON_OUT($out); goto GQlJF; GQlJF: } public function unbindAdmin() { goto C4qOh; LtWYW: $sts = $model->where("\165\156\151\141\x63\151\x64\75{$uniacid}\x20\x61\156\x64\x20\157\x70\x65\156\151\x64\x3d\x27{$openid}\47")->save(array("\x61\x64\155\x69\x6e\x73\150\157\160\x69\x64" => '')); goto qoVci; lqjPW: $model = Model("\x6d\x65\155\x62\x65\162"); goto tqfd8; rtv3N: $openid = $_GPC["\157\x70\145\156\151\x64"]; goto LtWYW; tqfd8: $uniacid = intval($_W["\165\156\151\141\x63\x69\x64"]); goto rtv3N; qoVci: echo json_encode(array("\157\160\x65\x6e\151\144" => $openid, "\163\x74\163" => $sts)); goto cs1Gn; C4qOh: global $_W, $_GPC; goto lqjPW; cs1Gn: } public function getChart() { goto IexS2; YWWGI: $sql = "\123\105\114\x45\103\124\x20\163\x75\155\50\x60\x6d\157\x6e\145\x79\137\x70\x61\x79\x60\51\x20\x61\x73\x20\x60\143\x6f\x75\x6e\164\140\40\106\122\117\x4d\40{$tab1}\x20\127\110\105\x52\x45\40\165\x6e\151\141\x63\151\x64\x3d{$uniacid}\40\x61\156\144\40\163\x68\x6f\x70\x69\144\x3d{$shopid}\x20\141\x6e\144\x20\x4c\105\106\x54\50\x60\x64\141\164\145\140\x2c\61\x30\51\x3d\47{$today}\x27\x20\x61\156\144\x20\40\163\x74\x61\x74\x75\163\x3e\x30\40\141\156\144\40\x70\141\171\137\x77\141\171\75\x31\x20\x61\x6e\x64\x20\160\x61\x79\x5f\x73\164\141\x74\x75\x73\75\x31\x20"; goto IoKJP; IexS2: global $_W, $_GPC; goto WdxmZ; eNa3f: $shopid = intval($_GPC["\x73\150\x6f\x70\x69\144"]); goto QayXH; Yzg55: $model = Model("\x6f\x72\144\x65\162"); goto v8R5m; WdxmZ: $uniacid = intval($_W["\165\x6e\x69\x61\x63\151\x64"]); goto eNa3f; v8R5m: $today = date("\x59\55\155\x2d\x64", $now); goto XbBP0; lZJFW: $sql = "\x53\105\114\x45\103\124\40\40\x63\x6f\x75\x6e\x74\x28\52\x29\40\x61\163\x20\x60\143\x6f\165\x6e\164\x60\40\x46\x52\x4f\115\40{$tab1}\x20\x57\x48\105\x52\x45\x20\x75\156\151\141\143\151\144\75{$uniacid}\40\x61\x6e\x64\40\163\x68\x6f\x70\x69\144\x3d{$shopid}\x20\141\x6e\x64\x20\x28\163\x74\141\x74\165\x73\75\x2d\x32\40\x6f\x72\40\x73\164\141\164\x75\163\x3d\x2d\x33\x20\x6f\x72\40\x73\164\x61\x74\165\163\x3d\x2d\x34\40\x29\40\x61\156\144\x20\x70\x61\171\x5f\x73\x74\141\164\165\x73\74\x3e\x2d\x31"; goto RAwX_; KcARE: $data = array("\157\x72\x64\145\162\x5f\162\145\x66\165\x6e\x64" => $order_refund, "\157\162\144\145\x72\137\x6e\157\163\x65\156\x64" => $order_nosend, "\157\162\x64\x65\162\x5f\164\x6f\x64\141\x79" => $order_today, "\x6f\162\x64\145\162\137\x6d\x6f\156\x65\x79" => floatval($order_money)); goto p7VV_; dnclL: $sql = "\123\105\x4c\105\103\x54\x20\143\x6f\165\156\164\50\52\51\40\x61\x73\x20\140\143\x6f\165\x6e\x74\140\40\x46\x52\117\x4d\40{$tab1}\x20\127\110\x45\x52\105\x20\165\x6e\151\141\x63\151\144\x3d{$uniacid}\40\x61\x6e\144\40\x73\150\x6f\160\151\x64\75{$shopid}\x20\40\x20\141\156\x64\40\163\x74\x61\x74\x75\163\75\x31\x20"; goto d5euu; QayXH: $now = time(); goto Yzg55; AfftB: $sql = "\x53\x45\x4c\x45\x43\124\40\x63\x6f\x75\156\164\50\x2a\x29\40\x61\x73\x20\x60\143\157\165\156\x74\x60\40\106\122\117\x4d\40{$tab1}\x20\x57\110\x45\x52\x45\x20\165\x6e\151\x61\x63\151\144\x3d{$uniacid}\40\141\156\x64\x20\x73\x68\157\x70\151\x64\75{$shopid}\40\x61\156\x64\40\x4c\105\x46\124\x28\140\x64\x61\164\x65\140\54\x31\x30\x29\75\47{$today}\47\x20\141\x6e\x64\40\163\x74\141\164\165\163\76\75\x30"; goto uG9zG; RAwX_: $order_refund = pdo_fetchcolumn($sql); goto YWWGI; uG9zG: $order_today = pdo_fetchcolumn($sql); goto dnclL; d5euu: $order_nosend = pdo_fetchcolumn($sql); goto lZJFW; IoKJP: $order_money = pdo_fetchcolumn($sql); goto KcARE; XbBP0: $tab1 = $model->tablename("\x6f\162\x64\x65\162"); goto AfftB; p7VV_: echo json_encode($data); goto K1jrC; K1jrC: } }