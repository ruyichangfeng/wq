<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator          |
    |              on 2018-08-04 11:37:50              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 class Wg_sales_Web_Reward extends SalesBaseController { public static $PAGE_SIZE = 10; public function init() { goto Ou9s8; OQ4KO: $this->site->loadmodule("\157\162\144\x65\162\115\x6f\x64\165\154\x65"); goto utfg0; afNEd: $this->site->loadmodule("\x75\x73\x65\x72\115\x6f\x64\x75\x6c\145"); goto OQ4KO; Ou9s8: parent::init(); goto t9vnS; t9vnS: $this->uid = $this->site->_W["\x75\x6e\151\141\143\x69\x64"]; goto afNEd; utfg0: $this->site->loadmodule("\x63\141\164\x65\x67\157\162\x79\115\157\x64\x75\x6c\x65"); goto P9AzN; P9AzN: } public function index() { goto Zek5x; QUc8d: $count = $this->site->orderModule->count([]); goto YJ45H; AkCmT: $data["\x63\x61\x74\x65"] = $this->site->arrayIndex($data["\143\x61\164\145"], "\151\x64"); goto QUc8d; IgL1_: foreach ($list as &$value) { $value["\x75\x73\145\162"] = $users[$value["\x75\x69\144"]]; O2mZb: } goto CMHxS; oCRPi: $page = intval($_GET["\160"]) ? intval($_GET["\x70"]) : 1; goto imRaB; imRaB: $list = $this->site->orderModule->getList(["\x75\x6e\151\x61\x63\x69\x64" => $this->uid], "\52", "\151\x64\40\x64\x65\x73\x63", [$page, self::$PAGE_SIZE]); goto v9pOy; v9pOy: if (!$list) { goto X26a0; } goto x3b5i; oFI4S: $user_ids = []; goto oCRPi; rNWY6: $pag = new Page($count, self::$PAGE_SIZE); goto VSFHO; VSFHO: $show = $pag->show(); goto oFI4S; iCAj2: $data["\x6c\x69\163\164"] = $list; goto jElPz; x3b5i: foreach ($list as $reward) { goto rcXEk; G8rqb: rDZcm: goto qeOzI; rcXEk: if (!$reward["\x75\x69\x64"]) { goto rDZcm; } goto Bh3Y9; Bh3Y9: $user_ids[] = $reward["\165\151\144"]; goto G8rqb; qeOzI: weiCA: goto cB0xr; cB0xr: } goto ke4nW; jElPz: $data["\x73\x68\x6f\x77"] = $show; goto a_p9G; Tqy7K: $users = $this->site->userModule->getList(["\x69\144" => $user_ids], ["\156\x69\x63\x6b\156\x61\155\x65", "\151\x64"]); goto I8MzZ; YJ45H: $this->site->loadmodule("\x70\x61\147\145", [], false); goto rNWY6; I8MzZ: $users = $this->site->arrayIndex($users, "\x69\144"); goto IgL1_; Zek5x: $data["\x63\x61\164\x65"] = $this->site->categoryModule->getAllCategory(["\x75\x6e\151\141\143\x69\x64" => $this->uid, "\144\145\154" => 0]); goto AkCmT; CMHxS: H2iZj: goto NKrBA; UzBnI: $user_ids = array_unique($user_ids); goto Tqy7K; NKrBA: X26a0: goto iCAj2; a_p9G: $this->site->assign($data); goto jKCnN; ke4nW: juCg8: goto UzBnI; jKCnN: } public function del() { goto UsVHT; vb0Q1: echo json_encode(["\x63\x6f\144\x65" => 0]); goto eb4mJ; UsVHT: $id = intval($_POST["\151\x64"]); goto ShVR_; hVud2: if ($result) { goto Fb2qF; } goto HoaT_; HoaT_: echo json_encode(["\x63\x6f\x64\x65" => 2, "\x6d\163\x67" => "\xe5\x88\240\351\231\xa4\345\xa4\261\350\264\xa5"]); goto tMJPv; iIEiA: echo json_encode(["\143\x6f\144\x65" => 1, "\x6d\x73\147" => "\345\x88\240\351\x99\xa4\345\244\261\xe8\264\xa5"]); goto BjL0F; QLFCL: $in = false; goto Eu7MH; tMJPv: goto n6ZZM; goto Y9W1c; Ki_Xo: $result = $this->site->commentModule->del($category_id, ["\151\144" => $id]); goto hVud2; Eu7MH: foreach ($data["\143\141\164\x65"] as $cate) { goto YE5n0; Y2ewx: $in = true; goto pRAQJ; YE5n0: if (!($cate["\x69\x64"] == $category_id)) { goto btlqx; } goto Y2ewx; ASE82: btlqx: goto HGnQ0; HGnQ0: N3H0x: goto mBDCI; pRAQJ: goto i4jgX; goto ASE82; mBDCI: } goto BlagF; Y9W1c: Fb2qF: goto vb0Q1; ShVR_: $category_id = intval($_POST["\x63\x61\164\145\x67\157\x72\171\137\151\x64"]); goto QMQui; ajK9e: bTasZ: goto Ki_Xo; TPo8j: exit; goto ZQzGa; BjL0F: exit; goto ajK9e; QMQui: $data["\143\141\164\145"] = $this->site->categoryModule->getAllCategory(["\x75\156\151\x61\x63\x69\x64" => $this->uid, "\144\x65\154" => 0]); goto QLFCL; eb4mJ: n6ZZM: goto TPo8j; xYoWI: if ($in) { goto bTasZ; } goto iIEiA; BlagF: i4jgX: goto xYoWI; ZQzGa: } }